!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(global){"use strict";global.$=global.jQuery,require("../vendor/history.js-1.8.0/scripts/bundled/html4+html5/native.history.js"),require("gsap"),require("rangeslider.js"),global.Cookies=require("js-cookie"),global.platform=require("platform"),require("brim/node_modules/scream"),require("brim"),global._=require("underscore"),global.angular=require("angular"),global.angular_route=require("angular-route"),global.angular_resource=require("angular-resource"),global.angular_loading_bar=require("angular-loading-bar"),global.angular_animate=require("angular-animate"),global.highcharts=require("../vendor/Highcharts-4.1.6/js/highcharts.src.js"),global.highcharts_more=require("../vendor/Highcharts-4.1.6/js/highcharts-more.src.js"),global.highcharts_export=require("../vendor/Highcharts-4.1.6/js/modules/exporting.src.js")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../vendor/Highcharts-4.1.6/js/highcharts-more.src.js":20,"../vendor/Highcharts-4.1.6/js/highcharts.src.js":21,"../vendor/Highcharts-4.1.6/js/modules/exporting.src.js":22,"../vendor/history.js-1.8.0/scripts/bundled/html4+html5/native.history.js":23,angular:11,"angular-animate":4,"angular-loading-bar":5,"angular-resource":7,"angular-route":9,brim:15,"brim/node_modules/scream":13,gsap:16,"js-cookie":17,platform:18,"rangeslider.js":19,underscore:2}],2:[function(require,module,exports){(function(){function createReduce(dir){function iterator(obj,iteratee,memo,keys,index,length){for(;index>=0&&length>index;index+=dir){var currentKey=keys?keys[index]:index;memo=iteratee(memo,obj[currentKey],currentKey,obj)}return memo}return function(obj,iteratee,memo,context){iteratee=optimizeCb(iteratee,context,4);var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=dir>0?0:length-1;return arguments.length<3&&(memo=obj[keys?keys[index]:index],index+=dir),iterator(obj,iteratee,memo,keys,index,length)}}function createIndexFinder(dir){return function(array,predicate,context){predicate=cb(predicate,context);for(var length=null!=array&&array.length,index=dir>0?0:length-1;index>=0&&length>index;index+=dir)if(predicate(array[index],index,array))return index;return-1}}function collectNonEnumProps(obj,keys){var nonEnumIdx=nonEnumerableProps.length,constructor=obj.constructor,proto=_.isFunction(constructor)&&constructor.prototype||ObjProto,prop="constructor";for(_.has(obj,prop)&&!_.contains(keys,prop)&&keys.push(prop);nonEnumIdx--;)prop=nonEnumerableProps[nonEnumIdx],prop in obj&&obj[prop]!==proto[prop]&&!_.contains(keys,prop)&&keys.push(prop)}var root=this,previousUnderscore=root._,ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,push=ArrayProto.push,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,nativeCreate=Object.create,Ctor=function(){},_=function(obj){return obj instanceof _?obj:this instanceof _?void(this._wrapped=obj):new _(obj)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):root._=_,_.VERSION="1.8.2";var optimizeCb=function(func,context,argCount){if(void 0===context)return func;switch(null==argCount?3:argCount){case 1:return function(value){return func.call(context,value)};case 2:return function(value,other){return func.call(context,value,other)};case 3:return function(value,index,collection){return func.call(context,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(context,accumulator,value,index,collection)}}return function(){return func.apply(context,arguments)}},cb=function(value,context,argCount){return null==value?_.identity:_.isFunction(value)?optimizeCb(value,context,argCount):_.isObject(value)?_.matcher(value):_.property(value)};_.iteratee=function(value,context){return cb(value,context,1/0)};var createAssigner=function(keysFunc,undefinedOnly){return function(obj){var length=arguments.length;if(2>length||null==obj)return obj;for(var index=1;length>index;index++)for(var source=arguments[index],keys=keysFunc(source),l=keys.length,i=0;l>i;i++){var key=keys[i];undefinedOnly&&void 0!==obj[key]||(obj[key]=source[key])}return obj}},baseCreate=function(prototype){if(!_.isObject(prototype))return{};if(nativeCreate)return nativeCreate(prototype);Ctor.prototype=prototype;var result=new Ctor;return Ctor.prototype=null,result},MAX_ARRAY_INDEX=Math.pow(2,53)-1,isArrayLike=function(collection){var length=collection&&collection.length;return"number"==typeof length&&length>=0&&MAX_ARRAY_INDEX>=length};_.each=_.forEach=function(obj,iteratee,context){iteratee=optimizeCb(iteratee,context);var i,length;if(isArrayLike(obj))for(i=0,length=obj.length;length>i;i++)iteratee(obj[i],i,obj);else{var keys=_.keys(obj);for(i=0,length=keys.length;length>i;i++)iteratee(obj[keys[i]],keys[i],obj)}return obj},_.map=_.collect=function(obj,iteratee,context){iteratee=cb(iteratee,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,results=Array(length),index=0;length>index;index++){var currentKey=keys?keys[index]:index;results[index]=iteratee(obj[currentKey],currentKey,obj)}return results},_.reduce=_.foldl=_.inject=createReduce(1),_.reduceRight=_.foldr=createReduce(-1),_.find=_.detect=function(obj,predicate,context){var key;return key=isArrayLike(obj)?_.findIndex(obj,predicate,context):_.findKey(obj,predicate,context),void 0!==key&&-1!==key?obj[key]:void 0},_.filter=_.select=function(obj,predicate,context){var results=[];return predicate=cb(predicate,context),_.each(obj,function(value,index,list){predicate(value,index,list)&&results.push(value)}),results},_.reject=function(obj,predicate,context){return _.filter(obj,_.negate(cb(predicate)),context)},_.every=_.all=function(obj,predicate,context){predicate=cb(predicate,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=0;length>index;index++){var currentKey=keys?keys[index]:index;if(!predicate(obj[currentKey],currentKey,obj))return!1}return!0},_.some=_.any=function(obj,predicate,context){predicate=cb(predicate,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=0;length>index;index++){var currentKey=keys?keys[index]:index;if(predicate(obj[currentKey],currentKey,obj))return!0}return!1},_.contains=_.includes=_.include=function(obj,target,fromIndex){return isArrayLike(obj)||(obj=_.values(obj)),_.indexOf(obj,target,"number"==typeof fromIndex&&fromIndex)>=0},_.invoke=function(obj,method){var args=slice.call(arguments,2),isFunc=_.isFunction(method);return _.map(obj,function(value){var func=isFunc?method:value[method];return null==func?func:func.apply(value,args)})},_.pluck=function(obj,key){return _.map(obj,_.property(key))},_.where=function(obj,attrs){return _.filter(obj,_.matcher(attrs))},_.findWhere=function(obj,attrs){return _.find(obj,_.matcher(attrs))},_.max=function(obj,iteratee,context){var value,computed,result=-(1/0),lastComputed=-(1/0);if(null==iteratee&&null!=obj){obj=isArrayLike(obj)?obj:_.values(obj);for(var i=0,length=obj.length;length>i;i++)value=obj[i],value>result&&(result=value)}else iteratee=cb(iteratee,context),_.each(obj,function(value,index,list){computed=iteratee(value,index,list),(computed>lastComputed||computed===-(1/0)&&result===-(1/0))&&(result=value,lastComputed=computed)});return result},_.min=function(obj,iteratee,context){var value,computed,result=1/0,lastComputed=1/0;if(null==iteratee&&null!=obj){obj=isArrayLike(obj)?obj:_.values(obj);for(var i=0,length=obj.length;length>i;i++)value=obj[i],result>value&&(result=value)}else iteratee=cb(iteratee,context),_.each(obj,function(value,index,list){computed=iteratee(value,index,list),(lastComputed>computed||computed===1/0&&result===1/0)&&(result=value,lastComputed=computed)});return result},_.shuffle=function(obj){for(var rand,set=isArrayLike(obj)?obj:_.values(obj),length=set.length,shuffled=Array(length),index=0;length>index;index++)rand=_.random(0,index),rand!==index&&(shuffled[index]=shuffled[rand]),shuffled[rand]=set[index];return shuffled},_.sample=function(obj,n,guard){return null==n||guard?(isArrayLike(obj)||(obj=_.values(obj)),obj[_.random(obj.length-1)]):_.shuffle(obj).slice(0,Math.max(0,n))},_.sortBy=function(obj,iteratee,context){return iteratee=cb(iteratee,context),_.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iteratee(value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a!==b){if(a>b||void 0===a)return 1;if(b>a||void 0===b)return-1}return left.index-right.index}),"value")};var group=function(behavior){return function(obj,iteratee,context){var result={};return iteratee=cb(iteratee,context),_.each(obj,function(value,index){var key=iteratee(value,index,obj);behavior(result,value,key)}),result}};_.groupBy=group(function(result,value,key){_.has(result,key)?result[key].push(value):result[key]=[value]}),_.indexBy=group(function(result,value,key){result[key]=value}),_.countBy=group(function(result,value,key){_.has(result,key)?result[key]++:result[key]=1}),_.toArray=function(obj){return obj?_.isArray(obj)?slice.call(obj):isArrayLike(obj)?_.map(obj,_.identity):_.values(obj):[]},_.size=function(obj){return null==obj?0:isArrayLike(obj)?obj.length:_.keys(obj).length},_.partition=function(obj,predicate,context){predicate=cb(predicate,context);var pass=[],fail=[];return _.each(obj,function(value,key,obj){(predicate(value,key,obj)?pass:fail).push(value)}),[pass,fail]},_.first=_.head=_.take=function(array,n,guard){return null==array?void 0:null==n||guard?array[0]:_.initial(array,array.length-n)},_.initial=function(array,n,guard){return slice.call(array,0,Math.max(0,array.length-(null==n||guard?1:n)))},_.last=function(array,n,guard){return null==array?void 0:null==n||guard?array[array.length-1]:_.rest(array,Math.max(0,array.length-n))},_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,null==n||guard?1:n)},_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,strict,startIndex){for(var output=[],idx=0,i=startIndex||0,length=input&&input.length;length>i;i++){var value=input[i];if(isArrayLike(value)&&(_.isArray(value)||_.isArguments(value))){shallow||(value=flatten(value,shallow,strict));var j=0,len=value.length;for(output.length+=len;len>j;)output[idx++]=value[j++]}else strict||(output[idx++]=value)}return output};_.flatten=function(array,shallow){return flatten(array,shallow,!1)},_.without=function(array){return _.difference(array,slice.call(arguments,1))},_.uniq=_.unique=function(array,isSorted,iteratee,context){if(null==array)return[];_.isBoolean(isSorted)||(context=iteratee,iteratee=isSorted,isSorted=!1),null!=iteratee&&(iteratee=cb(iteratee,context));for(var result=[],seen=[],i=0,length=array.length;length>i;i++){var value=array[i],computed=iteratee?iteratee(value,i,array):value;isSorted?(i&&seen===computed||result.push(value),seen=computed):iteratee?_.contains(seen,computed)||(seen.push(computed),result.push(value)):_.contains(result,value)||result.push(value)}return result},_.union=function(){return _.uniq(flatten(arguments,!0,!0))},_.intersection=function(array){if(null==array)return[];for(var result=[],argsLength=arguments.length,i=0,length=array.length;length>i;i++){var item=array[i];if(!_.contains(result,item)){for(var j=1;argsLength>j&&_.contains(arguments[j],item);j++);j===argsLength&&result.push(item)}}return result},_.difference=function(array){var rest=flatten(arguments,!0,!0,1);return _.filter(array,function(value){return!_.contains(rest,value)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(array){for(var length=array&&_.max(array,"length").length||0,result=Array(length),index=0;length>index;index++)result[index]=_.pluck(array,index);return result},_.object=function(list,values){for(var result={},i=0,length=list&&list.length;length>i;i++)values?result[list[i]]=values[i]:result[list[i][0]]=list[i][1];return result},_.indexOf=function(array,item,isSorted){var i=0,length=array&&array.length;if("number"==typeof isSorted)i=0>isSorted?Math.max(0,length+isSorted):isSorted;else if(isSorted&&length)return i=_.sortedIndex(array,item),array[i]===item?i:-1;if(item!==item)return _.findIndex(slice.call(array,i),_.isNaN);for(;length>i;i++)if(array[i]===item)return i;return-1},_.lastIndexOf=function(array,item,from){var idx=array?array.length:0;if("number"==typeof from&&(idx=0>from?idx+from+1:Math.min(idx,from+1)),item!==item)return _.findLastIndex(slice.call(array,0,idx),_.isNaN);for(;--idx>=0;)if(array[idx]===item)return idx;return-1},_.findIndex=createIndexFinder(1),_.findLastIndex=createIndexFinder(-1),_.sortedIndex=function(array,obj,iteratee,context){iteratee=cb(iteratee,context,1);for(var value=iteratee(obj),low=0,high=array.length;high>low;){var mid=Math.floor((low+high)/2);iteratee(array[mid])<value?low=mid+1:high=mid}return low},_.range=function(start,stop,step){arguments.length<=1&&(stop=start||0,start=0),step=step||1;for(var length=Math.max(Math.ceil((stop-start)/step),0),range=Array(length),idx=0;length>idx;idx++,start+=step)range[idx]=start;return range};var executeBound=function(sourceFunc,boundFunc,context,callingContext,args){if(!(callingContext instanceof boundFunc))return sourceFunc.apply(context,args);var self=baseCreate(sourceFunc.prototype),result=sourceFunc.apply(self,args);return _.isObject(result)?result:self};_.bind=function(func,context){if(nativeBind&&func.bind===nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError("Bind must be called on a function");var args=slice.call(arguments,2),bound=function(){return executeBound(func,bound,context,this,args.concat(slice.call(arguments)))};return bound},_.partial=function(func){var boundArgs=slice.call(arguments,1),bound=function(){for(var position=0,length=boundArgs.length,args=Array(length),i=0;length>i;i++)args[i]=boundArgs[i]===_?arguments[position++]:boundArgs[i];for(;position<arguments.length;)args.push(arguments[position++]);return executeBound(func,bound,this,this,args)};return bound},_.bindAll=function(obj){var i,key,length=arguments.length;if(1>=length)throw new Error("bindAll must be passed function names");for(i=1;length>i;i++)key=arguments[i],obj[key]=_.bind(obj[key],obj);return obj},_.memoize=function(func,hasher){var memoize=function(key){var cache=memoize.cache,address=""+(hasher?hasher.apply(this,arguments):key);return _.has(cache,address)||(cache[address]=func.apply(this,arguments)),cache[address]};return memoize.cache={},memoize},_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)},_.defer=_.partial(_.delay,_,1),_.throttle=function(func,wait,options){var context,args,result,timeout=null,previous=0;options||(options={});var later=function(){previous=options.leading===!1?0:_.now(),timeout=null,result=func.apply(context,args),timeout||(context=args=null)};return function(){var now=_.now();previous||options.leading!==!1||(previous=now);var remaining=wait-(now-previous);return context=this,args=arguments,0>=remaining||remaining>wait?(timeout&&(clearTimeout(timeout),timeout=null),previous=now,result=func.apply(context,args),timeout||(context=args=null)):timeout||options.trailing===!1||(timeout=setTimeout(later,remaining)),result}},_.debounce=function(func,wait,immediate){var timeout,args,context,timestamp,result,later=function(){var last=_.now()-timestamp;wait>last&&last>=0?timeout=setTimeout(later,wait-last):(timeout=null,immediate||(result=func.apply(context,args),timeout||(context=args=null)))};return function(){context=this,args=arguments,timestamp=_.now();var callNow=immediate&&!timeout;return timeout||(timeout=setTimeout(later,wait)),callNow&&(result=func.apply(context,args),context=args=null),result}},_.wrap=function(func,wrapper){return _.partial(wrapper,func)},_.negate=function(predicate){return function(){return!predicate.apply(this,arguments)}},_.compose=function(){var args=arguments,start=args.length-1;return function(){for(var i=start,result=args[start].apply(this,arguments);i--;)result=args[i].call(this,result);return result}},_.after=function(times,func){return function(){return--times<1?func.apply(this,arguments):void 0}},_.before=function(times,func){var memo;return function(){return--times>0&&(memo=func.apply(this,arguments)),1>=times&&(func=null),memo}},_.once=_.partial(_.before,2);var hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];_.keys=function(obj){if(!_.isObject(obj))return[];if(nativeKeys)return nativeKeys(obj);var keys=[];for(var key in obj)_.has(obj,key)&&keys.push(key);return hasEnumBug&&collectNonEnumProps(obj,keys),keys},_.allKeys=function(obj){if(!_.isObject(obj))return[];var keys=[];for(var key in obj)keys.push(key);return hasEnumBug&&collectNonEnumProps(obj,keys),keys},_.values=function(obj){for(var keys=_.keys(obj),length=keys.length,values=Array(length),i=0;length>i;i++)values[i]=obj[keys[i]];return values},_.mapObject=function(obj,iteratee,context){iteratee=cb(iteratee,context);for(var currentKey,keys=_.keys(obj),length=keys.length,results={},index=0;length>index;index++)currentKey=keys[index],results[currentKey]=iteratee(obj[currentKey],currentKey,obj);return results},_.pairs=function(obj){for(var keys=_.keys(obj),length=keys.length,pairs=Array(length),i=0;length>i;i++)pairs[i]=[keys[i],obj[keys[i]]];return pairs},_.invert=function(obj){for(var result={},keys=_.keys(obj),i=0,length=keys.length;length>i;i++)result[obj[keys[i]]]=keys[i];return result},_.functions=_.methods=function(obj){var names=[];for(var key in obj)_.isFunction(obj[key])&&names.push(key);return names.sort()},_.extend=createAssigner(_.allKeys),_.extendOwn=_.assign=createAssigner(_.keys),_.findKey=function(obj,predicate,context){predicate=cb(predicate,context);for(var key,keys=_.keys(obj),i=0,length=keys.length;length>i;i++)if(key=keys[i],predicate(obj[key],key,obj))return key},_.pick=function(object,oiteratee,context){var iteratee,keys,result={},obj=object;if(null==obj)return result;_.isFunction(oiteratee)?(keys=_.allKeys(obj),iteratee=optimizeCb(oiteratee,context)):(keys=flatten(arguments,!1,!1,1),iteratee=function(value,key,obj){return key in obj},obj=Object(obj));for(var i=0,length=keys.length;length>i;i++){var key=keys[i],value=obj[key];iteratee(value,key,obj)&&(result[key]=value)}return result},_.omit=function(obj,iteratee,context){if(_.isFunction(iteratee))iteratee=_.negate(iteratee);else{var keys=_.map(flatten(arguments,!1,!1,1),String);iteratee=function(value,key){return!_.contains(keys,key)}}return _.pick(obj,iteratee,context)},_.defaults=createAssigner(_.allKeys,!0),_.clone=function(obj){return _.isObject(obj)?_.isArray(obj)?obj.slice():_.extend({},obj):obj},_.tap=function(obj,interceptor){return interceptor(obj),obj},_.isMatch=function(object,attrs){var keys=_.keys(attrs),length=keys.length;if(null==object)return!length;for(var obj=Object(object),i=0;length>i;i++){var key=keys[i];if(attrs[key]!==obj[key]||!(key in obj))return!1}return!0};var eq=function(a,b,aStack,bStack){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var className=toString.call(a);if(className!==toString.call(b))return!1;switch(className){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var areArrays="[object Array]"===className;if(!areArrays){if("object"!=typeof a||"object"!=typeof b)return!1;var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor)&&"constructor"in a&&"constructor"in b)return!1}aStack=aStack||[],bStack=bStack||[];for(var length=aStack.length;length--;)if(aStack[length]===a)return bStack[length]===b;if(aStack.push(a),bStack.push(b),areArrays){if(length=a.length,length!==b.length)return!1;for(;length--;)if(!eq(a[length],b[length],aStack,bStack))return!1}else{var key,keys=_.keys(a);if(length=keys.length,_.keys(b).length!==length)return!1;for(;length--;)if(key=keys[length],!_.has(b,key)||!eq(a[key],b[key],aStack,bStack))return!1}return aStack.pop(),bStack.pop(),!0};_.isEqual=function(a,b){return eq(a,b)},_.isEmpty=function(obj){return null==obj?!0:isArrayLike(obj)&&(_.isArray(obj)||_.isString(obj)||_.isArguments(obj))?0===obj.length:0===_.keys(obj).length},_.isElement=function(obj){return!(!obj||1!==obj.nodeType)},_.isArray=nativeIsArray||function(obj){return"[object Array]"===toString.call(obj)},_.isObject=function(obj){var type=typeof obj;return"function"===type||"object"===type&&!!obj},_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(name){_["is"+name]=function(obj){return toString.call(obj)==="[object "+name+"]"}}),_.isArguments(arguments)||(_.isArguments=function(obj){return _.has(obj,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.isFunction=function(obj){return"function"==typeof obj||!1}),_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))},_.isNaN=function(obj){return _.isNumber(obj)&&obj!==+obj},_.isBoolean=function(obj){return obj===!0||obj===!1||"[object Boolean]"===toString.call(obj)},_.isNull=function(obj){return null===obj},_.isUndefined=function(obj){return void 0===obj},_.has=function(obj,key){return null!=obj&&hasOwnProperty.call(obj,key)},_.noConflict=function(){return root._=previousUnderscore,this},_.identity=function(value){return value},_.constant=function(value){return function(){return value}},_.noop=function(){},_.property=function(key){return function(obj){return null==obj?void 0:obj[key]}},_.propertyOf=function(obj){return null==obj?function(){}:function(key){return obj[key]}},_.matcher=_.matches=function(attrs){return attrs=_.extendOwn({},attrs),function(obj){return _.isMatch(obj,attrs)}},_.times=function(n,iteratee,context){var accum=Array(Math.max(0,n));iteratee=optimizeCb(iteratee,context,1);for(var i=0;n>i;i++)accum[i]=iteratee(i);return accum},_.random=function(min,max){return null==max&&(max=min,min=0),min+Math.floor(Math.random()*(max-min+1))},_.now=Date.now||function(){return(new Date).getTime()};var escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},unescapeMap=_.invert(escapeMap),createEscaper=function(map){var escaper=function(match){return map[match]},source="(?:"+_.keys(map).join("|")+")",testRegexp=RegExp(source),replaceRegexp=RegExp(source,"g");return function(string){return string=null==string?"":""+string,testRegexp.test(string)?string.replace(replaceRegexp,escaper):string}};_.escape=createEscaper(escapeMap),_.unescape=createEscaper(unescapeMap),_.result=function(object,property,fallback){var value=null==object?void 0:object[property];return void 0===value&&(value=fallback),_.isFunction(value)?value.call(object):value};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},escaper=/\\|'|\r|\n|\u2028|\u2029/g,escapeChar=function(match){return"\\"+escapes[match]};_.template=function(text,settings,oldSettings){!settings&&oldSettings&&(settings=oldSettings),settings=_.defaults({},settings,_.templateSettings);var matcher=RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g"),index=0,source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){return source+=text.slice(index,offset).replace(escaper,escapeChar),index=offset+match.length,escape?source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'":interpolate?source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'":evaluate&&(source+="';\n"+evaluate+"\n__p+='"),match}),source+="';\n",settings.variable||(source="with(obj||{}){\n"+source+"}\n"),source="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{var render=new Function(settings.variable||"obj","_",source)}catch(e){throw e.source=source,e}var template=function(data){return render.call(this,data,_)},argument=settings.variable||"obj";return template.source="function("+argument+"){\n"+source+"}",template},_.chain=function(obj){var instance=_(obj);return instance._chain=!0,instance};var result=function(instance,obj){return instance._chain?_(obj).chain():obj};_.mixin=function(obj){_.each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];return push.apply(args,arguments),result(this,func.apply(_,args))}})},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;return method.apply(obj,arguments),"shift"!==name&&"splice"!==name||0!==obj.length||delete obj[0],result(this,obj)}}),_.each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result(this,method.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return _})}).call(this)},{}],3:[function(require,module,exports){!function(window,angular,undefined){"use strict";function assertArg(arg,name,reason){if(!arg)throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required");return arg}function mergeClasses(a,b){return a||b?a?b?(isArray(a)&&(a=a.join(" ")),isArray(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function packageStyles(options){var styles={};return options&&(options.to||options.from)&&(styles.to=options.to,styles.from=options.from),styles}function pendClasses(classes,fix,isPrefix){var className="";return classes=isArray(classes)?classes:classes&&isString(classes)&&classes.length?classes.split(/\s+/):[],forEach(classes,function(klass,i){klass&&klass.length>0&&(className+=i>0?" ":"",className+=isPrefix?fix+klass:klass+fix)}),className}function removeFromArray(arr,val){var index=arr.indexOf(val);val>=0&&arr.splice(index,1)}function stripCommentsFromElement(element){if(element instanceof jqLite)switch(element.length){case 0:return[];case 1:if(element[0].nodeType===ELEMENT_NODE)return element;break;default:return jqLite(extractElementNode(element))}return element.nodeType===ELEMENT_NODE?jqLite(element):void 0}function extractElementNode(element){if(!element[0])return element;for(var i=0;i<element.length;i++){var elm=element[i];if(elm.nodeType==ELEMENT_NODE)return elm}}function $$addClass($$jqLite,element,className){forEach(element,function(elm){$$jqLite.addClass(elm,className)})}function $$removeClass($$jqLite,element,className){forEach(element,function(elm){$$jqLite.removeClass(elm,className)})}function applyAnimationClassesFactory($$jqLite){return function(element,options){options.addClass&&($$addClass($$jqLite,element,options.addClass),options.addClass=null),options.removeClass&&($$removeClass($$jqLite,element,options.removeClass),options.removeClass=null)}}function prepareAnimationOptions(options){if(options=options||{},!options.$$prepared){var domOperation=options.domOperation||noop;options.domOperation=function(){options.$$domOperationFired=!0,domOperation(),domOperation=noop},options.$$prepared=!0}return options}function applyAnimationStyles(element,options){applyAnimationFromStyles(element,options),applyAnimationToStyles(element,options)}function applyAnimationFromStyles(element,options){options.from&&(element.css(options.from),options.from=null)}function applyAnimationToStyles(element,options){options.to&&(element.css(options.to),options.to=null)}function mergeAnimationOptions(element,target,newOptions){var toAdd=(target.addClass||"")+" "+(newOptions.addClass||""),toRemove=(target.removeClass||"")+" "+(newOptions.removeClass||""),classes=resolveElementClasses(element.attr("class"),toAdd,toRemove);newOptions.preparationClasses&&(target.preparationClasses=concatWithSpace(newOptions.preparationClasses,target.preparationClasses),delete newOptions.preparationClasses);var realDomOperation=target.domOperation!==noop?target.domOperation:null;return extend(target,newOptions),realDomOperation&&(target.domOperation=realDomOperation),target.addClass=classes.addClass?classes.addClass:null,target.removeClass=classes.removeClass?classes.removeClass:null,target}function resolveElementClasses(existing,toAdd,toRemove){function splitClassesToLookup(classes){isString(classes)&&(classes=classes.split(" "));var obj={};return forEach(classes,function(klass){klass.length&&(obj[klass]=!0)}),obj}var ADD_CLASS=1,REMOVE_CLASS=-1,flags={};existing=splitClassesToLookup(existing),toAdd=splitClassesToLookup(toAdd),forEach(toAdd,function(value,key){flags[key]=ADD_CLASS}),toRemove=splitClassesToLookup(toRemove),forEach(toRemove,function(value,key){flags[key]=flags[key]===ADD_CLASS?null:REMOVE_CLASS});var classes={addClass:"",removeClass:""};return forEach(flags,function(val,klass){var prop,allow;val===ADD_CLASS?(prop="addClass",allow=!existing[klass]):val===REMOVE_CLASS&&(prop="removeClass",allow=existing[klass]),allow&&(classes[prop].length&&(classes[prop]+=" "),classes[prop]+=klass)}),classes}function getDomNode(element){return element instanceof angular.element?element[0]:element}function applyGeneratedPreparationClasses(element,event,options){var classes="";event&&(classes=pendClasses(event,EVENT_CLASS_PREFIX,!0)),options.addClass&&(classes=concatWithSpace(classes,pendClasses(options.addClass,ADD_CLASS_SUFFIX))),options.removeClass&&(classes=concatWithSpace(classes,pendClasses(options.removeClass,REMOVE_CLASS_SUFFIX))),classes.length&&(options.preparationClasses=classes,element.addClass(classes))}function clearGeneratedClasses(element,options){options.preparationClasses&&(element.removeClass(options.preparationClasses),options.preparationClasses=null),options.activeClasses&&(element.removeClass(options.activeClasses),options.activeClasses=null)}function blockTransitions(node,duration){var value=duration?"-"+duration+"s":"";return applyInlineStyle(node,[TRANSITION_DELAY_PROP,value]),[TRANSITION_DELAY_PROP,value]}function blockKeyframeAnimations(node,applyBlock){var value=applyBlock?"paused":"",key=ANIMATION_PROP+ANIMATION_PLAYSTATE_KEY;return applyInlineStyle(node,[key,value]),[key,value]}function applyInlineStyle(node,styleTuple){var prop=styleTuple[0],value=styleTuple[1];node.style[prop]=value}function concatWithSpace(a,b){return a?b?a+" "+b:a:b}function $$BodyProvider(){this.$get=["$document",function($document){return jqLite($document[0].body)}]}function getCssKeyframeDurationStyle(duration){return[ANIMATION_DURATION_PROP,duration+"s"]}function getCssDelayStyle(delay,isKeyframeAnimation){var prop=isKeyframeAnimation?ANIMATION_DELAY_PROP:TRANSITION_DELAY_PROP;return[prop,delay+"s"]}function computeCssStyles($window,element,properties){var styles=Object.create(null),detectedStyles=$window.getComputedStyle(element)||{};return forEach(properties,function(formalStyleName,actualStyleName){
var val=detectedStyles[formalStyleName];if(val){var c=val.charAt(0);("-"===c||"+"===c||c>=0)&&(val=parseMaxTime(val)),0===val&&(val=null),styles[actualStyleName]=val}}),styles}function parseMaxTime(str){var maxValue=0,values=str.split(/\s*,\s*/);return forEach(values,function(value){"s"==value.charAt(value.length-1)&&(value=value.substring(0,value.length-1)),value=parseFloat(value)||0,maxValue=maxValue?Math.max(value,maxValue):value}),maxValue}function truthyTimingValue(val){return 0===val||null!=val}function getCssTransitionDurationStyle(duration,applyOnlyDuration){var style=TRANSITION_PROP,value=duration+"s";return applyOnlyDuration?style+=DURATION_KEY:value+=" linear all",[style,value]}function createLocalCacheLookup(){var cache=Object.create(null);return{flush:function(){cache=Object.create(null)},count:function(key){var entry=cache[key];return entry?entry.total:0},get:function(key){var entry=cache[key];return entry&&entry.value},put:function(key,value){cache[key]?cache[key].total++:cache[key]={total:1,value:value}}}}var TRANSITION_PROP,TRANSITIONEND_EVENT,ANIMATION_PROP,ANIMATIONEND_EVENT,noop=angular.noop,extend=angular.extend,jqLite=angular.element,forEach=angular.forEach,isArray=angular.isArray,isString=angular.isString,isObject=angular.isObject,isUndefined=angular.isUndefined,isDefined=angular.isDefined,isFunction=angular.isFunction,isElement=angular.isElement,ELEMENT_NODE=1,ADD_CLASS_SUFFIX="-add",REMOVE_CLASS_SUFFIX="-remove",EVENT_CLASS_PREFIX="ng-",ACTIVE_CLASS_SUFFIX="-active",NG_ANIMATE_CLASSNAME="ng-animate",NG_ANIMATE_CHILDREN_DATA="$$ngAnimateChildren",CSS_PREFIX="";window.ontransitionend===undefined&&window.onwebkittransitionend!==undefined?(CSS_PREFIX="-webkit-",TRANSITION_PROP="WebkitTransition",TRANSITIONEND_EVENT="webkitTransitionEnd transitionend"):(TRANSITION_PROP="transition",TRANSITIONEND_EVENT="transitionend"),window.onanimationend===undefined&&window.onwebkitanimationend!==undefined?(CSS_PREFIX="-webkit-",ANIMATION_PROP="WebkitAnimation",ANIMATIONEND_EVENT="webkitAnimationEnd animationend"):(ANIMATION_PROP="animation",ANIMATIONEND_EVENT="animationend");var DURATION_KEY="Duration",PROPERTY_KEY="Property",DELAY_KEY="Delay",TIMING_KEY="TimingFunction",ANIMATION_ITERATION_COUNT_KEY="IterationCount",ANIMATION_PLAYSTATE_KEY="PlayState",SAFE_FAST_FORWARD_DURATION_VALUE=9999,ANIMATION_DELAY_PROP=ANIMATION_PROP+DELAY_KEY,ANIMATION_DURATION_PROP=ANIMATION_PROP+DURATION_KEY,TRANSITION_DELAY_PROP=TRANSITION_PROP+DELAY_KEY,TRANSITION_DURATION_PROP=TRANSITION_PROP+DURATION_KEY,$$rAFSchedulerFactory=["$$rAF",function($$rAF){function scheduler(tasks){queue=queue.concat(tasks),nextTick()}function nextTick(){if(queue.length){for(var items=queue.shift(),i=0;i<items.length;i++)items[i]();cancelFn||$$rAF(function(){cancelFn||nextTick()})}}var queue,cancelFn;return queue=scheduler.queue=[],scheduler.waitUntilQuiet=function(fn){cancelFn&&cancelFn(),cancelFn=$$rAF(function(){cancelFn=null,fn(),nextTick()})},scheduler}],$$AnimateChildrenDirective=[function(){return function(scope,element,attrs){var val=attrs.ngAnimateChildren;angular.isString(val)&&0===val.length?element.data(NG_ANIMATE_CHILDREN_DATA,!0):attrs.$observe("ngAnimateChildren",function(value){value="on"===value||"true"===value,element.data(NG_ANIMATE_CHILDREN_DATA,value)})}}],ANIMATE_TIMER_KEY="$$animateCss",ONE_SECOND=1e3,ELAPSED_TIME_MAX_DECIMAL_PLACES=3,CLOSING_TIME_BUFFER=1.5,DETECT_CSS_PROPERTIES={transitionDuration:TRANSITION_DURATION_PROP,transitionDelay:TRANSITION_DELAY_PROP,transitionProperty:TRANSITION_PROP+PROPERTY_KEY,animationDuration:ANIMATION_DURATION_PROP,animationDelay:ANIMATION_DELAY_PROP,animationIterationCount:ANIMATION_PROP+ANIMATION_ITERATION_COUNT_KEY},DETECT_STAGGER_CSS_PROPERTIES={transitionDuration:TRANSITION_DURATION_PROP,transitionDelay:TRANSITION_DELAY_PROP,animationDuration:ANIMATION_DURATION_PROP,animationDelay:ANIMATION_DELAY_PROP},$AnimateCssProvider=["$animateProvider",function($animateProvider){var gcsLookup=createLocalCacheLookup(),gcsStaggerLookup=createLocalCacheLookup();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$animate",function($window,$$jqLite,$$AnimateRunner,$timeout,$$forceReflow,$sniffer,$$rAFScheduler,$animate){function gcsHashFn(node,extraClasses){var KEY="$$ngAnimateParentKey",parentNode=node.parentNode,parentID=parentNode[KEY]||(parentNode[KEY]=++parentCounter);return parentID+"-"+node.getAttribute("class")+"-"+extraClasses}function computeCachedCssStyles(node,className,cacheKey,properties){var timings=gcsLookup.get(cacheKey);return timings||(timings=computeCssStyles($window,node,properties),"infinite"===timings.animationIterationCount&&(timings.animationIterationCount=1)),gcsLookup.put(cacheKey,timings),timings}function computeCachedCssStaggerStyles(node,className,cacheKey,properties){var stagger;if(gcsLookup.count(cacheKey)>0&&(stagger=gcsStaggerLookup.get(cacheKey),!stagger)){var staggerClassName=pendClasses(className,"-stagger");$$jqLite.addClass(node,staggerClassName),stagger=computeCssStyles($window,node,properties),stagger.animationDuration=Math.max(stagger.animationDuration,0),stagger.transitionDuration=Math.max(stagger.transitionDuration,0),$$jqLite.removeClass(node,staggerClassName),gcsStaggerLookup.put(cacheKey,stagger)}return stagger||{}}function waitUntilQuiet(callback){rafWaitQueue.push(callback),$$rAFScheduler.waitUntilQuiet(function(){gcsLookup.flush(),gcsStaggerLookup.flush();for(var pageWidth=$$forceReflow(),i=0;i<rafWaitQueue.length;i++)rafWaitQueue[i](pageWidth);rafWaitQueue.length=0})}function computeTimings(node,className,cacheKey){var timings=computeCachedCssStyles(node,className,cacheKey,DETECT_CSS_PROPERTIES),aD=timings.animationDelay,tD=timings.transitionDelay;return timings.maxDelay=aD&&tD?Math.max(aD,tD):aD||tD,timings.maxDuration=Math.max(timings.animationDuration*timings.animationIterationCount,timings.transitionDuration),timings}var applyAnimationClasses=applyAnimationClassesFactory($$jqLite),parentCounter=0,rafWaitQueue=[];return function(element,options){function endFn(){close()}function cancelFn(){close(!0)}function close(rejected){animationClosed||animationCompleted&&animationPaused||(animationClosed=!0,animationPaused=!1,options.$$skipPreparationClasses||$$jqLite.removeClass(element,preparationClasses),$$jqLite.removeClass(element,activeClasses),blockKeyframeAnimations(node,!1),blockTransitions(node,!1),forEach(temporaryStyles,function(entry){node.style[entry[0]]=""}),applyAnimationClasses(element,options),applyAnimationStyles(element,options),options.onDone&&options.onDone(),runner&&runner.complete(!rejected))}function applyBlocking(duration){flags.blockTransition&&blockTransitions(node,duration),flags.blockKeyframeAnimation&&blockKeyframeAnimations(node,!!duration)}function closeAndReturnNoopAnimator(){return runner=new $$AnimateRunner({end:endFn,cancel:cancelFn}),waitUntilQuiet(noop),close(),{$$willAnimate:!1,start:function(){return runner},end:endFn}}function start(){function triggerAnimationStart(){if(!animationClosed){if(applyBlocking(!1),forEach(temporaryStyles,function(entry){var key=entry[0],value=entry[1];node.style[key]=value}),applyAnimationClasses(element,options),$$jqLite.addClass(element,activeClasses),flags.recalculateTimingStyles){if(fullClassName=node.className+" "+preparationClasses,cacheKey=gcsHashFn(node,fullClassName),timings=computeTimings(node,fullClassName,cacheKey),relativeDelay=timings.maxDelay,maxDelay=Math.max(relativeDelay,0),maxDuration=timings.maxDuration,0===maxDuration)return void close();flags.hasTransitions=timings.transitionDuration>0,flags.hasAnimations=timings.animationDuration>0}if(flags.applyAnimationDelay&&(relativeDelay="boolean"!=typeof options.delay&&truthyTimingValue(options.delay)?parseFloat(options.delay):relativeDelay,maxDelay=Math.max(relativeDelay,0),timings.animationDelay=relativeDelay,delayStyle=getCssDelayStyle(relativeDelay,!0),temporaryStyles.push(delayStyle),node.style[delayStyle[0]]=delayStyle[1]),maxDelayTime=maxDelay*ONE_SECOND,maxDurationTime=maxDuration*ONE_SECOND,options.easing){var easeProp,easeVal=options.easing;flags.hasTransitions&&(easeProp=TRANSITION_PROP+TIMING_KEY,temporaryStyles.push([easeProp,easeVal]),node.style[easeProp]=easeVal),flags.hasAnimations&&(easeProp=ANIMATION_PROP+TIMING_KEY,temporaryStyles.push([easeProp,easeVal]),node.style[easeProp]=easeVal)}timings.transitionDuration&&events.push(TRANSITIONEND_EVENT),timings.animationDuration&&events.push(ANIMATIONEND_EVENT),startTime=Date.now();var timerTime=maxDelayTime+CLOSING_TIME_BUFFER*maxDurationTime,endTime=startTime+timerTime,animationsData=element.data(ANIMATE_TIMER_KEY)||[],setupFallbackTimer=!0;if(animationsData.length){var currentTimerData=animationsData[0];setupFallbackTimer=endTime>currentTimerData.expectedEndTime,setupFallbackTimer?$timeout.cancel(currentTimerData.timer):animationsData.push(close)}if(setupFallbackTimer){var timer=$timeout(onAnimationExpired,timerTime,!1);animationsData[0]={timer:timer,expectedEndTime:endTime},animationsData.push(close),element.data(ANIMATE_TIMER_KEY,animationsData)}element.on(events.join(" "),onAnimationProgress),applyAnimationToStyles(element,options)}}function onAnimationExpired(){var animationsData=element.data(ANIMATE_TIMER_KEY);if(animationsData){for(var i=1;i<animationsData.length;i++)animationsData[i]();element.removeData(ANIMATE_TIMER_KEY)}}function onAnimationProgress(event){event.stopPropagation();var ev=event.originalEvent||event,timeStamp=ev.$manualTimeStamp||ev.timeStamp||Date.now(),elapsedTime=parseFloat(ev.elapsedTime.toFixed(ELAPSED_TIME_MAX_DECIMAL_PLACES));Math.max(timeStamp-startTime,0)>=maxDelayTime&&elapsedTime>=maxDuration&&(animationCompleted=!0,close())}if(!animationClosed){if(!node.parentNode)return void close();var startTime,events=[],playPause=function(playAnimation){if(animationCompleted)animationPaused&&playAnimation&&(animationPaused=!1,close());else if(animationPaused=!playAnimation,timings.animationDuration){var value=blockKeyframeAnimations(node,animationPaused);animationPaused?temporaryStyles.push(value):removeFromArray(temporaryStyles,value)}},maxStagger=itemIndex>0&&(timings.transitionDuration&&0===stagger.transitionDuration||timings.animationDuration&&0===stagger.animationDuration)&&Math.max(stagger.animationDelay,stagger.transitionDelay);maxStagger?$timeout(triggerAnimationStart,Math.floor(maxStagger*itemIndex*ONE_SECOND),!1):triggerAnimationStart(),runnerHost.resume=function(){playPause(!0)},runnerHost.pause=function(){playPause(!1)}}}var node=getDomNode(element);if(!node||!node.parentNode||!$animate.enabled())return closeAndReturnNoopAnimator();options=prepareAnimationOptions(options);var animationClosed,animationPaused,animationCompleted,runner,runnerHost,maxDelay,maxDelayTime,maxDuration,maxDurationTime,temporaryStyles=[],classes=element.attr("class"),styles=packageStyles(options);if(0===options.duration||!$sniffer.animations&&!$sniffer.transitions)return closeAndReturnNoopAnimator();var method=options.event&&isArray(options.event)?options.event.join(" "):options.event,isStructural=method&&options.structural,structuralClassName="",addRemoveClassName="";isStructural?structuralClassName=pendClasses(method,EVENT_CLASS_PREFIX,!0):method&&(structuralClassName=method),options.addClass&&(addRemoveClassName+=pendClasses(options.addClass,ADD_CLASS_SUFFIX)),options.removeClass&&(addRemoveClassName.length&&(addRemoveClassName+=" "),addRemoveClassName+=pendClasses(options.removeClass,REMOVE_CLASS_SUFFIX)),options.applyClassesEarly&&addRemoveClassName.length&&applyAnimationClasses(element,options);var preparationClasses=[structuralClassName,addRemoveClassName].join(" ").trim(),fullClassName=classes+" "+preparationClasses,activeClasses=pendClasses(preparationClasses,ACTIVE_CLASS_SUFFIX),hasToStyles=styles.to&&Object.keys(styles.to).length>0,containsKeyframeAnimation=(options.keyframeStyle||"").length>0;if(!containsKeyframeAnimation&&!hasToStyles&&!preparationClasses)return closeAndReturnNoopAnimator();var cacheKey,stagger;if(options.stagger>0){var staggerVal=parseFloat(options.stagger);stagger={transitionDelay:staggerVal,animationDelay:staggerVal,transitionDuration:0,animationDuration:0}}else cacheKey=gcsHashFn(node,fullClassName),stagger=computeCachedCssStaggerStyles(node,preparationClasses,cacheKey,DETECT_STAGGER_CSS_PROPERTIES);options.$$skipPreparationClasses||$$jqLite.addClass(element,preparationClasses);var applyOnlyDuration;if(options.transitionStyle){var transitionStyle=[TRANSITION_PROP,options.transitionStyle];applyInlineStyle(node,transitionStyle),temporaryStyles.push(transitionStyle)}if(options.duration>=0){applyOnlyDuration=node.style[TRANSITION_PROP].length>0;var durationStyle=getCssTransitionDurationStyle(options.duration,applyOnlyDuration);applyInlineStyle(node,durationStyle),temporaryStyles.push(durationStyle)}if(options.keyframeStyle){var keyframeStyle=[ANIMATION_PROP,options.keyframeStyle];applyInlineStyle(node,keyframeStyle),temporaryStyles.push(keyframeStyle)}var itemIndex=stagger?options.staggerIndex>=0?options.staggerIndex:gcsLookup.count(cacheKey):0,isFirst=0===itemIndex;isFirst&&!options.skipBlocking&&blockTransitions(node,SAFE_FAST_FORWARD_DURATION_VALUE);var timings=computeTimings(node,fullClassName,cacheKey),relativeDelay=timings.maxDelay;maxDelay=Math.max(relativeDelay,0),maxDuration=timings.maxDuration;var flags={};if(flags.hasTransitions=timings.transitionDuration>0,flags.hasAnimations=timings.animationDuration>0,flags.hasTransitionAll=flags.hasTransitions&&"all"==timings.transitionProperty,flags.applyTransitionDuration=hasToStyles&&(flags.hasTransitions&&!flags.hasTransitionAll||flags.hasAnimations&&!flags.hasTransitions),flags.applyAnimationDuration=options.duration&&flags.hasAnimations,flags.applyTransitionDelay=truthyTimingValue(options.delay)&&(flags.applyTransitionDuration||flags.hasTransitions),flags.applyAnimationDelay=truthyTimingValue(options.delay)&&flags.hasAnimations,flags.recalculateTimingStyles=addRemoveClassName.length>0,(flags.applyTransitionDuration||flags.applyAnimationDuration)&&(maxDuration=options.duration?parseFloat(options.duration):maxDuration,flags.applyTransitionDuration&&(flags.hasTransitions=!0,timings.transitionDuration=maxDuration,applyOnlyDuration=node.style[TRANSITION_PROP+PROPERTY_KEY].length>0,temporaryStyles.push(getCssTransitionDurationStyle(maxDuration,applyOnlyDuration))),flags.applyAnimationDuration&&(flags.hasAnimations=!0,timings.animationDuration=maxDuration,temporaryStyles.push(getCssKeyframeDurationStyle(maxDuration)))),0===maxDuration&&!flags.recalculateTimingStyles)return closeAndReturnNoopAnimator();if(null!=options.delay){var delayStyle=parseFloat(options.delay);flags.applyTransitionDelay&&temporaryStyles.push(getCssDelayStyle(delayStyle)),flags.applyAnimationDelay&&temporaryStyles.push(getCssDelayStyle(delayStyle,!0))}return null==options.duration&&timings.transitionDuration>0&&(flags.recalculateTimingStyles=flags.recalculateTimingStyles||isFirst),maxDelayTime=maxDelay*ONE_SECOND,maxDurationTime=maxDuration*ONE_SECOND,options.skipBlocking||(flags.blockTransition=timings.transitionDuration>0,flags.blockKeyframeAnimation=timings.animationDuration>0&&stagger.animationDelay>0&&0===stagger.animationDuration),applyAnimationFromStyles(element,options),flags.blockTransition||flags.blockKeyframeAnimation?applyBlocking(maxDuration):options.skipBlocking||blockTransitions(node,!1),{$$willAnimate:!0,end:endFn,start:function(){return animationClosed?void 0:(runnerHost={end:endFn,cancel:cancelFn,resume:null,pause:null},runner=new $$AnimateRunner(runnerHost),waitUntilQuiet(start),runner)}}}}]}],$$AnimateCssDriverProvider=["$$animationProvider",function($$animationProvider){$$animationProvider.drivers.push("$$animateCssDriver");var NG_ANIMATE_SHIM_CLASS_NAME="ng-animate-shim",NG_ANIMATE_ANCHOR_CLASS_NAME="ng-anchor",NG_OUT_ANCHOR_CLASS_NAME="ng-anchor-out",NG_IN_ANCHOR_CLASS_NAME="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$$body","$sniffer","$$jqLite",function($animateCss,$rootScope,$$AnimateRunner,$rootElement,$$body,$sniffer,$$jqLite){function filterCssClasses(classes){return classes.replace(/\bng-\S+\b/g,"")}function getUniqueValues(a,b){return isString(a)&&(a=a.split(" ")),isString(b)&&(b=b.split(" ")),a.filter(function(val){return-1===b.indexOf(val)}).join(" ")}function prepareAnchoredAnimation(classes,outAnchor,inAnchor){function calculateAnchorStyles(anchor){var styles={},coords=getDomNode(anchor).getBoundingClientRect();return forEach(["width","height","top","left"],function(key){var value=coords[key];switch(key){case"top":value+=bodyNode.scrollTop;break;case"left":value+=bodyNode.scrollLeft}styles[key]=Math.floor(value)+"px"}),styles}function prepareOutAnimation(){var animator=$animateCss(clone,{addClass:NG_OUT_ANCHOR_CLASS_NAME,delay:!0,from:calculateAnchorStyles(outAnchor)});return animator.$$willAnimate?animator:null}function getClassVal(element){return element.attr("class")||""}function prepareInAnimation(){var endingClasses=filterCssClasses(getClassVal(inAnchor)),toAdd=getUniqueValues(endingClasses,startingClasses),toRemove=getUniqueValues(startingClasses,endingClasses),animator=$animateCss(clone,{to:calculateAnchorStyles(inAnchor),addClass:NG_IN_ANCHOR_CLASS_NAME+" "+toAdd,removeClass:NG_OUT_ANCHOR_CLASS_NAME+" "+toRemove,delay:!0});return animator.$$willAnimate?animator:null}function end(){clone.remove(),outAnchor.removeClass(NG_ANIMATE_SHIM_CLASS_NAME),inAnchor.removeClass(NG_ANIMATE_SHIM_CLASS_NAME)}var clone=jqLite(getDomNode(outAnchor).cloneNode(!0)),startingClasses=filterCssClasses(getClassVal(clone));outAnchor.addClass(NG_ANIMATE_SHIM_CLASS_NAME),inAnchor.addClass(NG_ANIMATE_SHIM_CLASS_NAME),clone.addClass(NG_ANIMATE_ANCHOR_CLASS_NAME),rootBodyElement.append(clone);var animatorIn,animatorOut=prepareOutAnimation();if(!animatorOut&&(animatorIn=prepareInAnimation(),!animatorIn))return end();var startingAnimator=animatorOut||animatorIn;return{start:function(){function endFn(){currentAnimation&&currentAnimation.end()}var runner,currentAnimation=startingAnimator.start();return currentAnimation.done(function(){return currentAnimation=null,!animatorIn&&(animatorIn=prepareInAnimation())?(currentAnimation=animatorIn.start(),currentAnimation.done(function(){currentAnimation=null,end(),runner.complete()}),currentAnimation):(end(),void runner.complete())}),runner=new $$AnimateRunner({end:endFn,cancel:endFn})}}}function prepareFromToAnchorAnimation(from,to,classes,anchors){var fromAnimation=prepareRegularAnimation(from,noop),toAnimation=prepareRegularAnimation(to,noop),anchorAnimations=[];return forEach(anchors,function(anchor){var outElement=anchor.out,inElement=anchor["in"],animator=prepareAnchoredAnimation(classes,outElement,inElement);animator&&anchorAnimations.push(animator)}),fromAnimation||toAnimation||0!==anchorAnimations.length?{start:function(){function endFn(){forEach(animationRunners,function(runner){runner.end()})}var animationRunners=[];fromAnimation&&animationRunners.push(fromAnimation.start()),toAnimation&&animationRunners.push(toAnimation.start()),forEach(anchorAnimations,function(animation){animationRunners.push(animation.start())});var runner=new $$AnimateRunner({end:endFn,cancel:endFn});return $$AnimateRunner.all(animationRunners,function(status){runner.complete(status)}),runner}}:void 0}function prepareRegularAnimation(animationDetails){var element=animationDetails.element,options=animationDetails.options||{};animationDetails.structural&&(options.event=animationDetails.event,options.structural=!0,options.applyClassesEarly=!0,"leave"===animationDetails.event&&(options.onDone=options.domOperation)),options.preparationClasses&&(options.event=concatWithSpace(options.event,options.preparationClasses));var animator=$animateCss(element,options);return animator.$$willAnimate?animator:null}if(!$sniffer.animations&&!$sniffer.transitions)return noop;{var bodyNode=getDomNode($$body),rootNode=getDomNode($rootElement),rootBodyElement=jqLite(bodyNode.parentNode===rootNode?bodyNode:rootNode);applyAnimationClassesFactory($$jqLite)}return function(animationDetails){return animationDetails.from&&animationDetails.to?prepareFromToAnchorAnimation(animationDetails.from,animationDetails.to,animationDetails.classes,animationDetails.anchors):prepareRegularAnimation(animationDetails)}}]}],$$AnimateJsProvider=["$animateProvider",function($animateProvider){this.$get=["$injector","$$AnimateRunner","$$jqLite",function($injector,$$AnimateRunner,$$jqLite){function lookupAnimations(classes){classes=isArray(classes)?classes:classes.split(" ");for(var matches=[],flagMap={},i=0;i<classes.length;i++){var klass=classes[i],animationFactory=$animateProvider.$$registeredAnimations[klass];animationFactory&&!flagMap[klass]&&(matches.push($injector.get(animationFactory)),flagMap[klass]=!0)}return matches}var applyAnimationClasses=applyAnimationClassesFactory($$jqLite);return function(element,event,classes,options){function applyOptions(){options.domOperation(),applyAnimationClasses(element,options)}function executeAnimationFn(fn,element,event,options,onDone){var args;switch(event){case"animate":args=[element,options.from,options.to,onDone];break;case"setClass":args=[element,classesToAdd,classesToRemove,onDone];break;case"addClass":args=[element,classesToAdd,onDone];break;case"removeClass":args=[element,classesToRemove,onDone];break;default:args=[element,onDone]}args.push(options);var value=fn.apply(fn,args);if(value)if(isFunction(value.start)&&(value=value.start()),value instanceof $$AnimateRunner)value.done(onDone);else if(isFunction(value))return value;return noop}function groupEventedAnimations(element,event,options,animations,fnName){var operations=[];return forEach(animations,function(ani){var animation=ani[fnName];animation&&operations.push(function(){var runner,endProgressCb,resolved=!1,onAnimationComplete=function(rejected){resolved||(resolved=!0,(endProgressCb||noop)(rejected),runner.complete(!rejected))};return runner=new $$AnimateRunner({end:function(){onAnimationComplete()},cancel:function(){onAnimationComplete(!0)}}),endProgressCb=executeAnimationFn(animation,element,event,options,function(result){var cancelled=result===!1;onAnimationComplete(cancelled)}),runner})}),operations}function packageAnimations(element,event,options,animations,fnName){var operations=groupEventedAnimations(element,event,options,animations,fnName);if(0===operations.length){var a,b;"beforeSetClass"===fnName?(a=groupEventedAnimations(element,"removeClass",options,animations,"beforeRemoveClass"),b=groupEventedAnimations(element,"addClass",options,animations,"beforeAddClass")):"setClass"===fnName&&(a=groupEventedAnimations(element,"removeClass",options,animations,"removeClass"),b=groupEventedAnimations(element,"addClass",options,animations,"addClass")),a&&(operations=operations.concat(a)),b&&(operations=operations.concat(b))}if(0!==operations.length)return function(callback){var runners=[];return operations.length&&forEach(operations,function(animateFn){runners.push(animateFn())}),runners.length?$$AnimateRunner.all(runners,callback):callback(),function(reject){forEach(runners,function(runner){reject?runner.cancel():runner.end()})}}}3===arguments.length&&isObject(classes)&&(options=classes,classes=null),options=prepareAnimationOptions(options),classes||(classes=element.attr("class")||"",options.addClass&&(classes+=" "+options.addClass),options.removeClass&&(classes+=" "+options.removeClass));var before,after,classesToAdd=options.addClass,classesToRemove=options.removeClass,animations=lookupAnimations(classes);if(animations.length){var afterFn,beforeFn;"leave"==event?(beforeFn="leave",afterFn="afterLeave"):(beforeFn="before"+event.charAt(0).toUpperCase()+event.substr(1),afterFn=event),"enter"!==event&&"move"!==event&&(before=packageAnimations(element,event,options,animations,beforeFn)),after=packageAnimations(element,event,options,animations,afterFn)}return before||after?{start:function(){function onComplete(success){animationClosed=!0,applyOptions(),applyAnimationStyles(element,options),runner.complete(success)}function endAnimations(cancelled){animationClosed||((closeActiveAnimations||noop)(cancelled),onComplete(cancelled))}var closeActiveAnimations,chain=[];before&&chain.push(function(fn){closeActiveAnimations=before(fn)}),chain.length?chain.push(function(fn){applyOptions(),fn(!0)}):applyOptions(),after&&chain.push(function(fn){closeActiveAnimations=after(fn)});var animationClosed=!1,runner=new $$AnimateRunner({end:function(){endAnimations()},cancel:function(){endAnimations(!0)}});return $$AnimateRunner.chain(chain,onComplete),runner}}:void 0}}]}],$$AnimateJsDriverProvider=["$$animationProvider",function($$animationProvider){$$animationProvider.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function($$animateJs,$$AnimateRunner){function prepareAnimation(animationDetails){var element=animationDetails.element,event=animationDetails.event,options=animationDetails.options,classes=animationDetails.classes;return $$animateJs(element,event,classes,options)}return function(animationDetails){if(animationDetails.from&&animationDetails.to){var fromAnimation=prepareAnimation(animationDetails.from),toAnimation=prepareAnimation(animationDetails.to);if(!fromAnimation&&!toAnimation)return;return{start:function(){function endFnFactory(){return function(){forEach(animationRunners,function(runner){runner.end()})}}function done(status){runner.complete(status)}var animationRunners=[];fromAnimation&&animationRunners.push(fromAnimation.start()),toAnimation&&animationRunners.push(toAnimation.start()),$$AnimateRunner.all(animationRunners,done);var runner=new $$AnimateRunner({end:endFnFactory(),cancel:endFnFactory()});return runner}}}return prepareAnimation(animationDetails)}}]}],NG_ANIMATE_ATTR_NAME="data-ng-animate",NG_ANIMATE_PIN_DATA="$ngAnimatePin",$$AnimateQueueProvider=["$animateProvider",function($animateProvider){function isAllowed(ruleType,element,currentAnimation,previousAnimation){return rules[ruleType].some(function(fn){return fn(element,currentAnimation,previousAnimation)})}function hasAnimationClasses(options,and){options=options||{};var a=(options.addClass||"").length>0,b=(options.removeClass||"").length>0;return and?a&&b:a||b}var PRE_DIGEST_STATE=1,RUNNING_STATE=2,rules=this.rules={skip:[],cancel:[],join:[]};rules.join.push(function(element,newAnimation,currentAnimation){return!newAnimation.structural&&hasAnimationClasses(newAnimation.options)}),rules.skip.push(function(element,newAnimation,currentAnimation){return!newAnimation.structural&&!hasAnimationClasses(newAnimation.options)}),rules.skip.push(function(element,newAnimation,currentAnimation){return"leave"==currentAnimation.event&&newAnimation.structural}),rules.skip.push(function(element,newAnimation,currentAnimation){return currentAnimation.structural&&currentAnimation.state===RUNNING_STATE&&!newAnimation.structural}),rules.cancel.push(function(element,newAnimation,currentAnimation){return currentAnimation.structural&&newAnimation.structural}),rules.cancel.push(function(element,newAnimation,currentAnimation){return currentAnimation.state===RUNNING_STATE&&newAnimation.structural}),rules.cancel.push(function(element,newAnimation,currentAnimation){var nO=newAnimation.options,cO=currentAnimation.options;return nO.addClass&&nO.addClass===cO.removeClass||nO.removeClass&&nO.removeClass===cO.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$body","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function($$rAF,$rootScope,$rootElement,$document,$$body,$$HashMap,$$animation,$$AnimateRunner,$templateRequest,$$jqLite,$$forceReflow){function normalizeAnimationOptions(element,options){return mergeAnimationOptions(element,options,{})}function findCallbacks(element,event){var targetNode=getDomNode(element),matches=[],entries=callbackRegistry[event];return entries&&forEach(entries,function(entry){entry.node.contains(targetNode)&&matches.push(entry.callback)}),matches}function triggerCallback(event,element,phase,data){$$rAF(function(){forEach(findCallbacks(element,event),function(callback){callback(element,phase,data)})})}function queueAnimation(element,event,options){function notifyProgress(runner,event,phase,data){triggerCallback(event,element,phase,data),runner.progress(event,phase,data)}function close(reject){clearGeneratedClasses(element,options),applyAnimationClasses(element,options),applyAnimationStyles(element,options),options.domOperation(),runner.complete(!reject)}var node,parent;element=stripCommentsFromElement(element),element&&(node=getDomNode(element),parent=element.parent()),options=prepareAnimationOptions(options);var runner=new $$AnimateRunner;if(isArray(options.addClass)&&(options.addClass=options.addClass.join(" ")),options.addClass&&!isString(options.addClass)&&(options.addClass=null),isArray(options.removeClass)&&(options.removeClass=options.removeClass.join(" ")),options.removeClass&&!isString(options.removeClass)&&(options.removeClass=null),options.from&&!isObject(options.from)&&(options.from=null),options.to&&!isObject(options.to)&&(options.to=null),!node)return close(),runner;var className=[node.className,options.addClass,options.removeClass].join(" ");if(!isAnimatableClassName(className))return close(),runner;var isStructural=["enter","move","leave"].indexOf(event)>=0,skipAnimations=!animationsEnabled||disabledElementsLookup.get(node),existingAnimation=!skipAnimations&&activeAnimationsLookup.get(node)||{},hasExistingAnimation=!!existingAnimation.state;if(skipAnimations||hasExistingAnimation&&existingAnimation.state==PRE_DIGEST_STATE||(skipAnimations=!areAnimationsAllowed(element,parent,event)),skipAnimations)return close(),runner;isStructural&&closeChildAnimations(element);var newAnimation={structural:isStructural,element:element,event:event,close:close,options:options,runner:runner};if(hasExistingAnimation){var skipAnimationFlag=isAllowed("skip",element,newAnimation,existingAnimation);if(skipAnimationFlag)return existingAnimation.state===RUNNING_STATE?(close(),runner):(mergeAnimationOptions(element,existingAnimation.options,options),existingAnimation.runner);var cancelAnimationFlag=isAllowed("cancel",element,newAnimation,existingAnimation);if(cancelAnimationFlag)if(existingAnimation.state===RUNNING_STATE)existingAnimation.runner.end();else{if(!existingAnimation.structural)return mergeAnimationOptions(element,existingAnimation.options,newAnimation.options),existingAnimation.runner;existingAnimation.close()}else{var joinAnimationFlag=isAllowed("join",element,newAnimation,existingAnimation);if(joinAnimationFlag){if(existingAnimation.state!==RUNNING_STATE)return applyGeneratedPreparationClasses(element,isStructural?event:null,options),event=newAnimation.event=existingAnimation.event,options=mergeAnimationOptions(element,existingAnimation.options,newAnimation.options),existingAnimation.runner;normalizeAnimationOptions(element,options)}}}else normalizeAnimationOptions(element,options);var isValidAnimation=newAnimation.structural;if(isValidAnimation||(isValidAnimation="animate"===newAnimation.event&&Object.keys(newAnimation.options.to||{}).length>0||hasAnimationClasses(newAnimation.options)),!isValidAnimation)return close(),clearElementAnimationState(element),runner;var counter=(existingAnimation.counter||0)+1;return newAnimation.counter=counter,markElementAnimationState(element,PRE_DIGEST_STATE,newAnimation),$rootScope.$$postDigest(function(){var animationDetails=activeAnimationsLookup.get(node),animationCancelled=!animationDetails;animationDetails=animationDetails||{};var parentElement=element.parent()||[],isValidAnimation=parentElement.length>0&&("animate"===animationDetails.event||animationDetails.structural||hasAnimationClasses(animationDetails.options));if(animationCancelled||animationDetails.counter!==counter||!isValidAnimation)return animationCancelled&&(applyAnimationClasses(element,options),
applyAnimationStyles(element,options)),(animationCancelled||isStructural&&animationDetails.event!==event)&&(options.domOperation(),runner.end()),void(isValidAnimation||clearElementAnimationState(element));event=!animationDetails.structural&&hasAnimationClasses(animationDetails.options,!0)?"setClass":animationDetails.event,markElementAnimationState(element,RUNNING_STATE);var realRunner=$$animation(element,event,animationDetails.options);realRunner.done(function(status){close(!status);var animationDetails=activeAnimationsLookup.get(node);animationDetails&&animationDetails.counter===counter&&clearElementAnimationState(getDomNode(element)),notifyProgress(runner,event,"close",{})}),runner.setHost(realRunner),notifyProgress(runner,event,"start",{})}),runner}function closeChildAnimations(element){var node=getDomNode(element),children=node.querySelectorAll("["+NG_ANIMATE_ATTR_NAME+"]");forEach(children,function(child){var state=parseInt(child.getAttribute(NG_ANIMATE_ATTR_NAME)),animationDetails=activeAnimationsLookup.get(child);switch(state){case RUNNING_STATE:animationDetails.runner.end();case PRE_DIGEST_STATE:animationDetails&&activeAnimationsLookup.remove(child)}})}function clearElementAnimationState(element){var node=getDomNode(element);node.removeAttribute(NG_ANIMATE_ATTR_NAME),activeAnimationsLookup.remove(node)}function isMatchingElement(nodeOrElmA,nodeOrElmB){return getDomNode(nodeOrElmA)===getDomNode(nodeOrElmB)}function areAnimationsAllowed(element,parentElement,event){var animateChildren,bodyElementDetected=isMatchingElement(element,$$body)||"HTML"===element[0].nodeName,rootElementDetected=isMatchingElement(element,$rootElement),parentAnimationDetected=!1,parentHost=element.data(NG_ANIMATE_PIN_DATA);for(parentHost&&(parentElement=parentHost);parentElement&&parentElement.length;){rootElementDetected||(rootElementDetected=isMatchingElement(parentElement,$rootElement));var parentNode=parentElement[0];if(parentNode.nodeType!==ELEMENT_NODE)break;var details=activeAnimationsLookup.get(parentNode)||{};if(parentAnimationDetected||(parentAnimationDetected=details.structural||disabledElementsLookup.get(parentNode)),isUndefined(animateChildren)||animateChildren===!0){var value=parentElement.data(NG_ANIMATE_CHILDREN_DATA);isDefined(value)&&(animateChildren=value)}if(parentAnimationDetected&&animateChildren===!1)break;rootElementDetected||(rootElementDetected=isMatchingElement(parentElement,$rootElement),rootElementDetected||(parentHost=parentElement.data(NG_ANIMATE_PIN_DATA),parentHost&&(parentElement=parentHost))),bodyElementDetected||(bodyElementDetected=isMatchingElement(parentElement,$$body)),parentElement=parentElement.parent()}var allowAnimation=!parentAnimationDetected||animateChildren;return allowAnimation&&rootElementDetected&&bodyElementDetected}function markElementAnimationState(element,state,details){details=details||{},details.state=state;var node=getDomNode(element);node.setAttribute(NG_ANIMATE_ATTR_NAME,state);var oldValue=activeAnimationsLookup.get(node),newValue=oldValue?extend(oldValue,details):details;activeAnimationsLookup.put(node,newValue)}var activeAnimationsLookup=new $$HashMap,disabledElementsLookup=new $$HashMap,animationsEnabled=null,deregisterWatch=$rootScope.$watch(function(){return 0===$templateRequest.totalPendingRequests},function(isEmpty){isEmpty&&(deregisterWatch(),$rootScope.$$postDigest(function(){$rootScope.$$postDigest(function(){null===animationsEnabled&&(animationsEnabled=!0)})}))}),callbackRegistry={},classNameFilter=$animateProvider.classNameFilter(),isAnimatableClassName=classNameFilter?function(className){return classNameFilter.test(className)}:function(){return!0},applyAnimationClasses=applyAnimationClassesFactory($$jqLite);return{on:function(event,container,callback){var node=extractElementNode(container);callbackRegistry[event]=callbackRegistry[event]||[],callbackRegistry[event].push({node:node,callback:callback})},off:function(event,container,callback){function filterFromRegistry(list,matchContainer,matchCallback){var containerNode=extractElementNode(matchContainer);return list.filter(function(entry){var isMatch=entry.node===containerNode&&(!matchCallback||entry.callback===matchCallback);return!isMatch})}var entries=callbackRegistry[event];entries&&(callbackRegistry[event]=1===arguments.length?null:filterFromRegistry(entries,container,callback))},pin:function(element,parentElement){assertArg(isElement(element),"element","not an element"),assertArg(isElement(parentElement),"parentElement","not an element"),element.data(NG_ANIMATE_PIN_DATA,parentElement)},push:function(element,event,options,domOperation){return options=options||{},options.domOperation=domOperation,queueAnimation(element,event,options)},enabled:function(element,bool){var argCount=arguments.length;if(0===argCount)bool=!!animationsEnabled;else{var hasElement=isElement(element);if(hasElement){var node=getDomNode(element),recordExists=disabledElementsLookup.get(node);1===argCount?bool=!recordExists:(bool=!!bool,bool?recordExists&&disabledElementsLookup.remove(node):disabledElementsLookup.put(node,!0))}else bool=animationsEnabled=!!element}return bool}}}]}],$$AnimateAsyncRunFactory=["$$rAF",function($$rAF){function waitForTick(fn){waitQueue.push(fn),waitQueue.length>1||$$rAF(function(){for(var i=0;i<waitQueue.length;i++)waitQueue[i]();waitQueue=[]})}var waitQueue=[];return function(){var passed=!1;return waitForTick(function(){passed=!0}),function(callback){passed?callback():waitForTick(callback)}}}],$$AnimateRunnerFactory=["$q","$sniffer","$$animateAsyncRun",function($q,$sniffer,$$animateAsyncRun){function AnimateRunner(host){this.setHost(host),this._doneCallbacks=[],this._runInAnimationFrame=$$animateAsyncRun(),this._state=0}var INITIAL_STATE=0,DONE_PENDING_STATE=1,DONE_COMPLETE_STATE=2;return AnimateRunner.chain=function(chain,callback){function next(){return index===chain.length?void callback(!0):void chain[index](function(response){return response===!1?void callback(!1):(index++,void next())})}var index=0;next()},AnimateRunner.all=function(runners,callback){function onProgress(response){status=status&&response,++count===runners.length&&callback(status)}var count=0,status=!0;forEach(runners,function(runner){runner.done(onProgress)})},AnimateRunner.prototype={setHost:function(host){this.host=host||{}},done:function(fn){this._state===DONE_COMPLETE_STATE?fn():this._doneCallbacks.push(fn)},progress:noop,getPromise:function(){if(!this.promise){var self=this;this.promise=$q(function(resolve,reject){self.done(function(status){status===!1?reject():resolve()})})}return this.promise},then:function(resolveHandler,rejectHandler){return this.getPromise().then(resolveHandler,rejectHandler)},"catch":function(handler){return this.getPromise()["catch"](handler)},"finally":function(handler){return this.getPromise()["finally"](handler)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(response){var self=this;self._state===INITIAL_STATE&&(self._state=DONE_PENDING_STATE,self._runInAnimationFrame(function(){self._resolve(response)}))},_resolve:function(response){this._state!==DONE_COMPLETE_STATE&&(forEach(this._doneCallbacks,function(fn){fn(response)}),this._doneCallbacks.length=0,this._state=DONE_COMPLETE_STATE)}},AnimateRunner}],$$AnimationProvider=["$animateProvider",function($animateProvider){function setRunner(element,runner){element.data(RUNNER_STORAGE_KEY,runner)}function removeRunner(element){element.removeData(RUNNER_STORAGE_KEY)}function getRunner(element){return element.data(RUNNER_STORAGE_KEY)}var NG_ANIMATE_REF_ATTR="ng-animate-ref",drivers=this.drivers=[],RUNNER_STORAGE_KEY="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function($$jqLite,$rootScope,$injector,$$AnimateRunner,$$HashMap,$$rAFScheduler){function sortAnimations(animations){function processNode(entry){if(entry.processed)return entry;entry.processed=!0;var elementNode=entry.domNode,parentNode=elementNode.parentNode;lookup.put(elementNode,entry);for(var parentEntry;parentNode;){if(parentEntry=lookup.get(parentNode)){parentEntry.processed||(parentEntry=processNode(parentEntry));break}parentNode=parentNode.parentNode}return(parentEntry||tree).children.push(entry),entry}function flatten(tree){var i,result=[],queue=[];for(i=0;i<tree.children.length;i++)queue.push(tree.children[i]);var remainingLevelEntries=queue.length,nextLevelEntries=0,row=[];for(i=0;i<queue.length;i++){var entry=queue[i];0>=remainingLevelEntries&&(remainingLevelEntries=nextLevelEntries,nextLevelEntries=0,result.push(row),row=[]),row.push(entry.fn),entry.children.forEach(function(childEntry){nextLevelEntries++,queue.push(childEntry)}),remainingLevelEntries--}return row.length&&result.push(row),result}var i,tree={children:[]},lookup=new $$HashMap;for(i=0;i<animations.length;i++){var animation=animations[i];lookup.put(animation.domNode,animations[i]={domNode:animation.domNode,fn:animation.fn,children:[]})}for(i=0;i<animations.length;i++)processNode(animations[i]);return flatten(tree)}var animationQueue=[],applyAnimationClasses=applyAnimationClassesFactory($$jqLite);return function(element,event,options){function getAnchorNodes(node){var SELECTOR="["+NG_ANIMATE_REF_ATTR+"]",items=node.hasAttribute(NG_ANIMATE_REF_ATTR)?[node]:node.querySelectorAll(SELECTOR),anchors=[];return forEach(items,function(node){var attr=node.getAttribute(NG_ANIMATE_REF_ATTR);attr&&attr.length&&anchors.push(node)}),anchors}function groupAnimations(animations){var preparedAnimations=[],refLookup={};forEach(animations,function(animation,index){var element=animation.element,node=getDomNode(element),event=animation.event,enterOrMove=["enter","move"].indexOf(event)>=0,anchorNodes=animation.structural?getAnchorNodes(node):[];if(anchorNodes.length){var direction=enterOrMove?"to":"from";forEach(anchorNodes,function(anchor){var key=anchor.getAttribute(NG_ANIMATE_REF_ATTR);refLookup[key]=refLookup[key]||{},refLookup[key][direction]={animationID:index,element:jqLite(anchor)}})}else preparedAnimations.push(animation)});var usedIndicesLookup={},anchorGroups={};return forEach(refLookup,function(operations,key){var from=operations.from,to=operations.to;if(!from||!to){var index=from?from.animationID:to.animationID,indexKey=index.toString();return void(usedIndicesLookup[indexKey]||(usedIndicesLookup[indexKey]=!0,preparedAnimations.push(animations[index])))}var fromAnimation=animations[from.animationID],toAnimation=animations[to.animationID],lookupKey=from.animationID.toString();if(!anchorGroups[lookupKey]){var group=anchorGroups[lookupKey]={structural:!0,beforeStart:function(){fromAnimation.beforeStart(),toAnimation.beforeStart()},close:function(){fromAnimation.close(),toAnimation.close()},classes:cssClassesIntersection(fromAnimation.classes,toAnimation.classes),from:fromAnimation,to:toAnimation,anchors:[]};group.classes.length?preparedAnimations.push(group):(preparedAnimations.push(fromAnimation),preparedAnimations.push(toAnimation))}anchorGroups[lookupKey].anchors.push({out:from.element,"in":to.element})}),preparedAnimations}function cssClassesIntersection(a,b){a=a.split(" "),b=b.split(" ");for(var matches=[],i=0;i<a.length;i++){var aa=a[i];if("ng-"!==aa.substring(0,3))for(var j=0;j<b.length;j++)if(aa===b[j]){matches.push(aa);break}}return matches.join(" ")}function invokeFirstDriver(animationDetails){for(var i=drivers.length-1;i>=0;i--){var driverName=drivers[i];if($injector.has(driverName)){var factory=$injector.get(driverName),driver=factory(animationDetails);if(driver)return driver}}}function beforeStart(){element.addClass(NG_ANIMATE_CLASSNAME),tempClasses&&$$jqLite.addClass(element,tempClasses)}function updateAnimationRunners(animation,newRunner){function update(element){getRunner(element).setHost(newRunner)}animation.from&&animation.to?(update(animation.from.element),update(animation.to.element)):update(animation.element)}function handleDestroyedElement(){var runner=getRunner(element);!runner||"leave"===event&&options.$$domOperationFired||runner.end()}function close(rejected){element.off("$destroy",handleDestroyedElement),removeRunner(element),applyAnimationClasses(element,options),applyAnimationStyles(element,options),options.domOperation(),tempClasses&&$$jqLite.removeClass(element,tempClasses),element.removeClass(NG_ANIMATE_CLASSNAME),runner.complete(!rejected)}options=prepareAnimationOptions(options);var isStructural=["enter","move","leave"].indexOf(event)>=0,runner=new $$AnimateRunner({end:function(){close()},cancel:function(){close(!0)}});if(!drivers.length)return close(),runner;setRunner(element,runner);var classes=mergeClasses(element.attr("class"),mergeClasses(options.addClass,options.removeClass)),tempClasses=options.tempClasses;return tempClasses&&(classes+=" "+tempClasses,options.tempClasses=null),animationQueue.push({element:element,classes:classes,event:event,structural:isStructural,options:options,beforeStart:beforeStart,close:close}),element.on("$destroy",handleDestroyedElement),animationQueue.length>1?runner:($rootScope.$$postDigest(function(){var animations=[];forEach(animationQueue,function(entry){getRunner(entry.element)?animations.push(entry):entry.close()}),animationQueue.length=0;var groupedAnimations=groupAnimations(animations),toBeSortedAnimations=[];forEach(groupedAnimations,function(animationEntry){toBeSortedAnimations.push({domNode:getDomNode(animationEntry.from?animationEntry.from.element:animationEntry.element),fn:function(){animationEntry.beforeStart();var startAnimationFn,closeFn=animationEntry.close,targetElement=animationEntry.anchors?animationEntry.from.element||animationEntry.to.element:animationEntry.element;if(getRunner(targetElement)){var operation=invokeFirstDriver(animationEntry);operation&&(startAnimationFn=operation.start)}if(startAnimationFn){var animationRunner=startAnimationFn();animationRunner.done(function(status){closeFn(!status)}),updateAnimationRunners(animationEntry,animationRunner)}else closeFn()}})}),$$rAFScheduler(sortAnimations(toBeSortedAnimations))}),runner)}}]}];angular.module("ngAnimate",[]).provider("$$body",$$BodyProvider).directive("ngAnimateChildren",$$AnimateChildrenDirective).factory("$$rAFScheduler",$$rAFSchedulerFactory).factory("$$AnimateRunner",$$AnimateRunnerFactory).factory("$$animateAsyncRun",$$AnimateAsyncRunFactory).provider("$$animateQueue",$$AnimateQueueProvider).provider("$$animation",$$AnimationProvider).provider("$animateCss",$AnimateCssProvider).provider("$$animateCssDriver",$$AnimateCssDriverProvider).provider("$$animateJs",$$AnimateJsProvider).provider("$$animateJsDriver",$$AnimateJsDriverProvider)}(window,window.angular)},{}],4:[function(require,module,exports){require("./angular-animate"),module.exports="ngAnimate"},{"./angular-animate":3}],5:[function(require,module,exports){!function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function($httpProvider){var interceptor=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function($q,$cacheFactory,$timeout,$rootScope,$log,cfpLoadingBar){function setComplete(){$timeout.cancel(startTimeout),cfpLoadingBar.complete(),reqsCompleted=0,reqsTotal=0}function isCached(config){var cache,defaultCache=$cacheFactory.get("$http"),defaults=$httpProvider.defaults;!config.cache&&!defaults.cache||config.cache===!1||"GET"!==config.method&&"JSONP"!==config.method||(cache=angular.isObject(config.cache)?config.cache:angular.isObject(defaults.cache)?defaults.cache:defaultCache);var cached=void 0!==cache?void 0!==cache.get(config.url):!1;return void 0!==config.cached&&cached!==config.cached?config.cached:(config.cached=cached,cached)}var startTimeout,reqsTotal=0,reqsCompleted=0,latencyThreshold=cfpLoadingBar.latencyThreshold;return{request:function(config){return config.ignoreLoadingBar||isCached(config)||($rootScope.$broadcast("cfpLoadingBar:loading",{url:config.url}),0===reqsTotal&&(startTimeout=$timeout(function(){cfpLoadingBar.start()},latencyThreshold)),reqsTotal++,cfpLoadingBar.set(reqsCompleted/reqsTotal)),config},response:function(response){return response&&response.config?(response.config.ignoreLoadingBar||isCached(response.config)||(reqsCompleted++,$rootScope.$broadcast("cfpLoadingBar:loaded",{url:response.config.url,result:response}),reqsCompleted>=reqsTotal?setComplete():cfpLoadingBar.set(reqsCompleted/reqsTotal)),response):($log.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),response)},responseError:function(rejection){return rejection&&rejection.config?(rejection.config.ignoreLoadingBar||isCached(rejection.config)||(reqsCompleted++,$rootScope.$broadcast("cfpLoadingBar:loaded",{url:rejection.config.url,result:rejection}),reqsCompleted>=reqsTotal?setComplete():cfpLoadingBar.set(reqsCompleted/reqsTotal)),$q.reject(rejection)):($log.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),$q.reject(rejection))}}}];$httpProvider.interceptors.push(interceptor)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function($injector,$document,$timeout,$rootScope){function _start(){$animate||($animate=$injector.get("$animate"));var $parent=$document.find($parentSelector).eq(0);$timeout.cancel(completeTimeout),started||($rootScope.$broadcast("cfpLoadingBar:started"),started=!0,includeBar&&$animate.enter(loadingBarContainer,$parent,angular.element($parent[0].lastChild)),includeSpinner&&$animate.enter(spinner,$parent,angular.element($parent[0].lastChild)),_set(startSize))}function _set(n){if(started){var pct=100*n+"%";loadingBar.css("width",pct),status=n,$timeout.cancel(incTimeout),incTimeout=$timeout(function(){_inc()},250)}}function _inc(){if(!(_status()>=1)){var rnd=0,stat=_status();rnd=stat>=0&&.25>stat?(3*Math.random()+3)/100:stat>=.25&&.65>stat?3*Math.random()/100:stat>=.65&&.9>stat?2*Math.random()/100:stat>=.9&&.99>stat?.005:0;var pct=_status()+rnd;_set(pct)}}function _status(){return status}function _completeAnimation(){status=0,started=!1}function _complete(){$animate||($animate=$injector.get("$animate")),$rootScope.$broadcast("cfpLoadingBar:completed"),_set(1),$timeout.cancel(completeTimeout),completeTimeout=$timeout(function(){var promise=$animate.leave(loadingBarContainer,_completeAnimation);promise&&promise.then&&promise.then(_completeAnimation),$animate.leave(spinner)},500)}var $animate,incTimeout,completeTimeout,$parentSelector=this.parentSelector,loadingBarContainer=angular.element(this.loadingBarTemplate),loadingBar=loadingBarContainer.find("div").eq(0),spinner=angular.element(this.spinnerTemplate),started=!1,status=0,includeSpinner=this.includeSpinner,includeBar=this.includeBar,startSize=this.startSize;return{start:_start,set:_set,status:_status,inc:_inc,complete:_complete,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}()},{}],6:[function(require,module,exports){!function(window,angular,undefined){"use strict";function isValidDottedPath(path){return null!=path&&""!==path&&"hasOwnProperty"!==path&&MEMBER_NAME_REGEX.test("."+path)}function lookupDottedPath(obj,path){if(!isValidDottedPath(path))throw $resourceMinErr("badmember",'Dotted member path "@{0}" is invalid.',path);for(var keys=path.split("."),i=0,ii=keys.length;ii>i&&obj!==undefined;i++){var key=keys[i];obj=null!==obj?obj[key]:undefined}return obj}function shallowClearAndCopy(src,dst){dst=dst||{},angular.forEach(dst,function(value,key){delete dst[key]});for(var key in src)!src.hasOwnProperty(key)||"$"===key.charAt(0)&&"$"===key.charAt(1)||(dst[key]=src[key]);return dst}var $resourceMinErr=angular.$$minErr("$resource"),MEMBER_NAME_REGEX=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;angular.module("ngResource",["ng"]).provider("$resource",function(){var PROTOCOL_AND_DOMAIN_REGEX=/^https?:\/\/[^\/]*/,provider=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function($http,$q){function encodeUriSegment(val){return encodeUriQuery(val,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,pctEncodeSpaces?"%20":"+")}function Route(template,defaults){this.template=template,this.defaults=extend({},provider.defaults,defaults),this.urlParams={}}function resourceFactory(url,paramDefaults,actions,options){function extractParams(data,actionParams){var ids={};return actionParams=extend({},paramDefaults,actionParams),forEach(actionParams,function(value,key){isFunction(value)&&(value=value()),ids[key]=value&&value.charAt&&"@"==value.charAt(0)?lookupDottedPath(data,value.substr(1)):value}),ids}function defaultResponseInterceptor(response){return response.resource}function Resource(value){shallowClearAndCopy(value||{},this)}var route=new Route(url,options);return actions=extend({},provider.defaults.actions,actions),Resource.prototype.toJSON=function(){var data=extend({},this);return delete data.$promise,delete data.$resolved,data},forEach(actions,function(action,name){var hasBody=/^(POST|PUT|PATCH)$/i.test(action.method);Resource[name]=function(a1,a2,a3,a4){var data,success,error,params={};switch(arguments.length){case 4:error=a4,success=a3;case 3:case 2:if(!isFunction(a2)){params=a1,data=a2,success=a3;break}if(isFunction(a1)){success=a1,error=a2;break}success=a2,error=a3;case 1:isFunction(a1)?success=a1:hasBody?data=a1:params=a1;break;case 0:break;default:throw $resourceMinErr("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var isInstanceCall=this instanceof Resource,value=isInstanceCall?data:action.isArray?[]:new Resource(data),httpConfig={},responseInterceptor=action.interceptor&&action.interceptor.response||defaultResponseInterceptor,responseErrorInterceptor=action.interceptor&&action.interceptor.responseError||undefined;forEach(action,function(value,key){"params"!=key&&"isArray"!=key&&"interceptor"!=key&&(httpConfig[key]=copy(value))}),hasBody&&(httpConfig.data=data),route.setUrlParams(httpConfig,extend({},extractParams(data,action.params||{}),params),action.url);var promise=$http(httpConfig).then(function(response){var data=response.data,promise=value.$promise;if(data){if(angular.isArray(data)!==!!action.isArray)throw $resourceMinErr("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",name,action.isArray?"array":"object",angular.isArray(data)?"array":"object",httpConfig.method,httpConfig.url);action.isArray?(value.length=0,forEach(data,function(item){value.push("object"==typeof item?new Resource(item):item)})):(shallowClearAndCopy(data,value),value.$promise=promise)}return value.$resolved=!0,response.resource=value,response},function(response){return value.$resolved=!0,(error||noop)(response),$q.reject(response)});return promise=promise.then(function(response){var value=responseInterceptor(response);return(success||noop)(value,response.headers),value},responseErrorInterceptor),isInstanceCall?promise:(value.$promise=promise,value.$resolved=!1,value)},Resource.prototype["$"+name]=function(params,success,error){isFunction(params)&&(error=success,success=params,params={});var result=Resource[name].call(this,params,this,success,error);return result.$promise||result}}),Resource.bind=function(additionalParamDefaults){return resourceFactory(url,extend({},paramDefaults,additionalParamDefaults),actions)},Resource}var noop=angular.noop,forEach=angular.forEach,extend=angular.extend,copy=angular.copy,isFunction=angular.isFunction;return Route.prototype={setUrlParams:function(config,params,actionUrl){var val,encodedVal,self=this,url=actionUrl||self.template,protocolAndDomain="",urlParams=self.urlParams={};forEach(url.split(/\W/),function(param){if("hasOwnProperty"===param)throw $resourceMinErr("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(param)&&param&&new RegExp("(^|[^\\\\]):"+param+"(\\W|$)").test(url)&&(urlParams[param]=!0)}),url=url.replace(/\\:/g,":"),url=url.replace(PROTOCOL_AND_DOMAIN_REGEX,function(match){return protocolAndDomain=match,""}),params=params||{},forEach(self.urlParams,function(_,urlParam){val=params.hasOwnProperty(urlParam)?params[urlParam]:self.defaults[urlParam],angular.isDefined(val)&&null!==val?(encodedVal=encodeUriSegment(val),url=url.replace(new RegExp(":"+urlParam+"(\\W|$)","g"),function(match,p1){return encodedVal+p1})):url=url.replace(new RegExp("(/?):"+urlParam+"(\\W|$)","g"),function(match,leadingSlashes,tail){return"/"==tail.charAt(0)?tail:leadingSlashes+tail})}),self.defaults.stripTrailingSlashes&&(url=url.replace(/\/+$/,"")||"/"),url=url.replace(/\/\.(?=\w+($|\?))/,"."),config.url=protocolAndDomain+url.replace(/\/\\\./,"/."),forEach(params,function(value,key){self.urlParams[key]||(config.params=config.params||{},config.params[key]=value)})}},resourceFactory}]})}(window,window.angular)},{}],7:[function(require,module,exports){require("./angular-resource"),module.exports="ngResource"},{"./angular-resource":6}],8:[function(require,module,exports){!function(window,angular,undefined){"use strict";function $RouteProvider(){function inherit(parent,extra){return angular.extend(Object.create(parent),extra)}function pathRegExp(path,opts){var insensitive=opts.caseInsensitiveMatch,ret={originalPath:path,regexp:path},keys=ret.keys=[];return path=path.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(_,slash,key,option){var optional="?"===option?option:null,star="*"===option?option:null;return keys.push({name:key,optional:!!optional}),slash=slash||"",""+(optional?"":slash)+"(?:"+(optional?slash:"")+(star&&"(.+?)"||"([^/]+)")+(optional||"")+")"+(optional||"")}).replace(/([\/$\*])/g,"\\$1"),ret.regexp=new RegExp("^"+path+"$",insensitive?"i":""),ret}var routes={};this.when=function(path,route){var routeCopy=angular.copy(route);if(angular.isUndefined(routeCopy.reloadOnSearch)&&(routeCopy.reloadOnSearch=!0),angular.isUndefined(routeCopy.caseInsensitiveMatch)&&(routeCopy.caseInsensitiveMatch=this.caseInsensitiveMatch),routes[path]=angular.extend(routeCopy,path&&pathRegExp(path,routeCopy)),path){var redirectPath="/"==path[path.length-1]?path.substr(0,path.length-1):path+"/";routes[redirectPath]=angular.extend({redirectTo:path},pathRegExp(redirectPath,routeCopy))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(params){return"string"==typeof params&&(params={redirectTo:params}),this.when(null,params),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function($rootScope,$location,$routeParams,$q,$injector,$templateRequest,$sce){function switchRouteMatcher(on,route){var keys=route.keys,params={};if(!route.regexp)return null;var m=route.regexp.exec(on);if(!m)return null;for(var i=1,len=m.length;len>i;++i){var key=keys[i-1],val=m[i];key&&val&&(params[key.name]=val)}return params}function prepareRoute($locationEvent){var lastRoute=$route.current;preparedRoute=parseRoute(),preparedRouteIsUpdateOnly=preparedRoute&&lastRoute&&preparedRoute.$$route===lastRoute.$$route&&angular.equals(preparedRoute.pathParams,lastRoute.pathParams)&&!preparedRoute.reloadOnSearch&&!forceReload,preparedRouteIsUpdateOnly||!lastRoute&&!preparedRoute||$rootScope.$broadcast("$routeChangeStart",preparedRoute,lastRoute).defaultPrevented&&$locationEvent&&$locationEvent.preventDefault()}function commitRoute(){var lastRoute=$route.current,nextRoute=preparedRoute;preparedRouteIsUpdateOnly?(lastRoute.params=nextRoute.params,angular.copy(lastRoute.params,$routeParams),$rootScope.$broadcast("$routeUpdate",lastRoute)):(nextRoute||lastRoute)&&(forceReload=!1,$route.current=nextRoute,nextRoute&&nextRoute.redirectTo&&(angular.isString(nextRoute.redirectTo)?$location.path(interpolate(nextRoute.redirectTo,nextRoute.params)).search(nextRoute.params).replace():$location.url(nextRoute.redirectTo(nextRoute.pathParams,$location.path(),$location.search())).replace()),$q.when(nextRoute).then(function(){if(nextRoute){var template,templateUrl,locals=angular.extend({},nextRoute.resolve);return angular.forEach(locals,function(value,key){locals[key]=angular.isString(value)?$injector.get(value):$injector.invoke(value,null,null,key)}),angular.isDefined(template=nextRoute.template)?angular.isFunction(template)&&(template=template(nextRoute.params)):angular.isDefined(templateUrl=nextRoute.templateUrl)&&(angular.isFunction(templateUrl)&&(templateUrl=templateUrl(nextRoute.params)),angular.isDefined(templateUrl)&&(nextRoute.loadedTemplateUrl=$sce.valueOf(templateUrl),template=$templateRequest(templateUrl))),angular.isDefined(template)&&(locals.$template=template),$q.all(locals)}}).then(function(locals){nextRoute==$route.current&&(nextRoute&&(nextRoute.locals=locals,angular.copy(nextRoute.params,$routeParams)),$rootScope.$broadcast("$routeChangeSuccess",nextRoute,lastRoute))},function(error){nextRoute==$route.current&&$rootScope.$broadcast("$routeChangeError",nextRoute,lastRoute,error)}))}function parseRoute(){var params,match;return angular.forEach(routes,function(route,path){!match&&(params=switchRouteMatcher($location.path(),route))&&(match=inherit(route,{params:angular.extend({},$location.search(),params),pathParams:params}),match.$$route=route)}),match||routes[null]&&inherit(routes[null],{params:{},pathParams:{}})}function interpolate(string,params){var result=[];return angular.forEach((string||"").split(":"),function(segment,i){if(0===i)result.push(segment);else{var segmentMatch=segment.match(/(\w+)(?:[?*])?(.*)/),key=segmentMatch[1];result.push(params[key]),result.push(segmentMatch[2]||""),delete params[key]}}),result.join("")}var preparedRoute,preparedRouteIsUpdateOnly,forceReload=!1,$route={routes:routes,reload:function(){forceReload=!0,$rootScope.$evalAsync(function(){prepareRoute(),commitRoute()})},updateParams:function(newParams){if(!this.current||!this.current.$$route)throw $routeMinErr("norout","Tried updating route when with no current route");newParams=angular.extend({},this.current.params,newParams),$location.path(interpolate(this.current.$$route.originalPath,newParams)),$location.search(newParams)}};return $rootScope.$on("$locationChangeStart",prepareRoute),$rootScope.$on("$locationChangeSuccess",commitRoute),$route}]}function $RouteParamsProvider(){this.$get=function(){return{}}}function ngViewFactory($route,$anchorScroll,$animate){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(scope,$element,attr,ctrl,$transclude){function cleanupLastView(){previousLeaveAnimation&&($animate.cancel(previousLeaveAnimation),previousLeaveAnimation=null),currentScope&&(currentScope.$destroy(),currentScope=null),currentElement&&(previousLeaveAnimation=$animate.leave(currentElement),previousLeaveAnimation.then(function(){previousLeaveAnimation=null}),currentElement=null)}function update(){var locals=$route.current&&$route.current.locals,template=locals&&locals.$template;

if(angular.isDefined(template)){var newScope=scope.$new(),current=$route.current,clone=$transclude(newScope,function(clone){$animate.enter(clone,null,currentElement||$element).then(function(){!angular.isDefined(autoScrollExp)||autoScrollExp&&!scope.$eval(autoScrollExp)||$anchorScroll()}),cleanupLastView()});currentElement=clone,currentScope=current.scope=newScope,currentScope.$emit("$viewContentLoaded"),currentScope.$eval(onloadExp)}else cleanupLastView()}var currentScope,currentElement,previousLeaveAnimation,autoScrollExp=attr.autoscroll,onloadExp=attr.onload||"";scope.$on("$routeChangeSuccess",update),update()}}}function ngViewFillContentFactory($compile,$controller,$route){return{restrict:"ECA",priority:-400,link:function(scope,$element){var current=$route.current,locals=current.locals;$element.html(locals.$template);var link=$compile($element.contents());if(current.controller){locals.$scope=scope;var controller=$controller(current.controller,locals);current.controllerAs&&(scope[current.controllerAs]=controller),$element.data("$ngControllerController",controller),$element.children().data("$ngControllerController",controller)}link(scope)}}}var ngRouteModule=angular.module("ngRoute",["ng"]).provider("$route",$RouteProvider),$routeMinErr=angular.$$minErr("ngRoute");ngRouteModule.provider("$routeParams",$RouteParamsProvider),ngRouteModule.directive("ngView",ngViewFactory),ngRouteModule.directive("ngView",ngViewFillContentFactory),ngViewFactory.$inject=["$route","$anchorScroll","$animate"],ngViewFillContentFactory.$inject=["$compile","$controller","$route"]}(window,window.angular)},{}],9:[function(require,module,exports){require("./angular-route"),module.exports="ngRoute"},{"./angular-route":8}],10:[function(require,module,exports){!function(window,document,undefined){"use strict";function minErr(module,ErrorConstructor){return ErrorConstructor=ErrorConstructor||Error,function(){var paramPrefix,i,SKIP_INDEXES=2,templateArgs=arguments,code=templateArgs[0],message="["+(module?module+":":"")+code+"] ",template=templateArgs[1];for(message+=template.replace(/\{\d+\}/g,function(match){var index=+match.slice(1,-1),shiftedIndex=index+SKIP_INDEXES;return shiftedIndex<templateArgs.length?toDebugString(templateArgs[shiftedIndex]):match}),message+="\nhttp://errors.angularjs.org/1.4.5/"+(module?module+"/":"")+code,i=SKIP_INDEXES,paramPrefix="?";i<templateArgs.length;i++,paramPrefix="&")message+=paramPrefix+"p"+(i-SKIP_INDEXES)+"="+encodeURIComponent(toDebugString(templateArgs[i]));return new ErrorConstructor(message)}}function isArrayLike(obj){if(null==obj||isWindow(obj))return!1;var length="length"in Object(obj)&&obj.length;return obj.nodeType===NODE_TYPE_ELEMENT&&length?!0:isString(obj)||isArray(obj)||0===length||"number"==typeof length&&length>0&&length-1 in obj}function forEach(obj,iterator,context){var key,length;if(obj)if(isFunction(obj))for(key in obj)"prototype"==key||"length"==key||"name"==key||obj.hasOwnProperty&&!obj.hasOwnProperty(key)||iterator.call(context,obj[key],key,obj);else if(isArray(obj)||isArrayLike(obj)){var isPrimitive="object"!=typeof obj;for(key=0,length=obj.length;length>key;key++)(isPrimitive||key in obj)&&iterator.call(context,obj[key],key,obj)}else if(obj.forEach&&obj.forEach!==forEach)obj.forEach(iterator,context,obj);else if(isBlankObject(obj))for(key in obj)iterator.call(context,obj[key],key,obj);else if("function"==typeof obj.hasOwnProperty)for(key in obj)obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key,obj);else for(key in obj)hasOwnProperty.call(obj,key)&&iterator.call(context,obj[key],key,obj);return obj}function forEachSorted(obj,iterator,context){for(var keys=Object.keys(obj).sort(),i=0;i<keys.length;i++)iterator.call(context,obj[keys[i]],keys[i]);return keys}function reverseParams(iteratorFn){return function(value,key){iteratorFn(key,value)}}function nextUid(){return++uid}function setHashKey(obj,h){h?obj.$$hashKey=h:delete obj.$$hashKey}function baseExtend(dst,objs,deep){for(var h=dst.$$hashKey,i=0,ii=objs.length;ii>i;++i){var obj=objs[i];if(isObject(obj)||isFunction(obj))for(var keys=Object.keys(obj),j=0,jj=keys.length;jj>j;j++){var key=keys[j],src=obj[key];deep&&isObject(src)?isDate(src)?dst[key]=new Date(src.valueOf()):isRegExp(src)?dst[key]=new RegExp(src):(isObject(dst[key])||(dst[key]=isArray(src)?[]:{}),baseExtend(dst[key],[src],!0)):dst[key]=src}}return setHashKey(dst,h),dst}function extend(dst){return baseExtend(dst,slice.call(arguments,1),!1)}function merge(dst){return baseExtend(dst,slice.call(arguments,1),!0)}function toInt(str){return parseInt(str,10)}function inherit(parent,extra){return extend(Object.create(parent),extra)}function noop(){}function identity($){return $}function valueFn(value){return function(){return value}}function hasCustomToString(obj){return isFunction(obj.toString)&&obj.toString!==Object.prototype.toString}function isUndefined(value){return"undefined"==typeof value}function isDefined(value){return"undefined"!=typeof value}function isObject(value){return null!==value&&"object"==typeof value}function isBlankObject(value){return null!==value&&"object"==typeof value&&!getPrototypeOf(value)}function isString(value){return"string"==typeof value}function isNumber(value){return"number"==typeof value}function isDate(value){return"[object Date]"===toString.call(value)}function isFunction(value){return"function"==typeof value}function isRegExp(value){return"[object RegExp]"===toString.call(value)}function isWindow(obj){return obj&&obj.window===obj}function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch}function isFile(obj){return"[object File]"===toString.call(obj)}function isFormData(obj){return"[object FormData]"===toString.call(obj)}function isBlob(obj){return"[object Blob]"===toString.call(obj)}function isBoolean(value){return"boolean"==typeof value}function isPromiseLike(obj){return obj&&isFunction(obj.then)}function isTypedArray(value){return TYPED_ARRAY_REGEXP.test(toString.call(value))}function isElement(node){return!(!node||!(node.nodeName||node.prop&&node.attr&&node.find))}function makeMap(str){var i,obj={},items=str.split(",");for(i=0;i<items.length;i++)obj[items[i]]=!0;return obj}function nodeName_(element){return lowercase(element.nodeName||element[0]&&element[0].nodeName)}function arrayRemove(array,value){var index=array.indexOf(value);return index>=0&&array.splice(index,1),index}function copy(source,destination,stackSource,stackDest){if(isWindow(source)||isScope(source))throw ngMinErr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(isTypedArray(destination))throw ngMinErr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(destination){if(source===destination)throw ngMinErr("cpi","Can't copy! Source and destination are identical.");stackSource=stackSource||[],stackDest=stackDest||[],isObject(source)&&(stackSource.push(source),stackDest.push(destination));var key;if(isArray(source)){destination.length=0;for(var i=0;i<source.length;i++)destination.push(copy(source[i],null,stackSource,stackDest))}else{var h=destination.$$hashKey;if(isArray(destination)?destination.length=0:forEach(destination,function(value,key){delete destination[key]}),isBlankObject(source))for(key in source)destination[key]=copy(source[key],null,stackSource,stackDest);else if(source&&"function"==typeof source.hasOwnProperty)for(key in source)source.hasOwnProperty(key)&&(destination[key]=copy(source[key],null,stackSource,stackDest));else for(key in source)hasOwnProperty.call(source,key)&&(destination[key]=copy(source[key],null,stackSource,stackDest));setHashKey(destination,h)}}else if(destination=source,isObject(source)){var index;if(stackSource&&-1!==(index=stackSource.indexOf(source)))return stackDest[index];if(isArray(source))return copy(source,[],stackSource,stackDest);if(isTypedArray(source))destination=new source.constructor(source);else if(isDate(source))destination=new Date(source.getTime());else{if(!isRegExp(source)){var emptyObject=Object.create(getPrototypeOf(source));return copy(source,emptyObject,stackSource,stackDest)}destination=new RegExp(source.source,source.toString().match(/[^\/]*$/)[0]),destination.lastIndex=source.lastIndex}stackDest&&(stackSource.push(source),stackDest.push(destination))}return destination}function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;ii>i;i++)dst[i]=src[i]}else if(isObject(src)){dst=dst||{};for(var key in src)("$"!==key.charAt(0)||"$"!==key.charAt(1))&&(dst[key]=src[key])}return dst||src}function equals(o1,o2){if(o1===o2)return!0;if(null===o1||null===o2)return!1;if(o1!==o1&&o2!==o2)return!0;var length,key,keySet,t1=typeof o1,t2=typeof o2;if(t1==t2&&"object"==t1){if(!isArray(o1)){if(isDate(o1))return isDate(o2)?equals(o1.getTime(),o2.getTime()):!1;if(isRegExp(o1))return isRegExp(o2)?o1.toString()==o2.toString():!1;if(isScope(o1)||isScope(o2)||isWindow(o1)||isWindow(o2)||isArray(o2)||isDate(o2)||isRegExp(o2))return!1;keySet=createMap();for(key in o1)if("$"!==key.charAt(0)&&!isFunction(o1[key])){if(!equals(o1[key],o2[key]))return!1;keySet[key]=!0}for(key in o2)if(!(key in keySet||"$"===key.charAt(0)||o2[key]===undefined||isFunction(o2[key])))return!1;return!0}if(!isArray(o2))return!1;if((length=o1.length)==o2.length){for(key=0;length>key;key++)if(!equals(o1[key],o2[key]))return!1;return!0}}return!1}function concat(array1,array2,index){return array1.concat(slice.call(array2,index))}function sliceArgs(args,startIndex){return slice.call(args,startIndex||0)}function bind(self,fn){var curryArgs=arguments.length>2?sliceArgs(arguments,2):[];return!isFunction(fn)||fn instanceof RegExp?fn:curryArgs.length?function(){return arguments.length?fn.apply(self,concat(curryArgs,arguments,0)):fn.apply(self,curryArgs)}:function(){return arguments.length?fn.apply(self,arguments):fn.call(self)}}function toJsonReplacer(key,value){var val=value;return"string"==typeof key&&"$"===key.charAt(0)&&"$"===key.charAt(1)?val=undefined:isWindow(value)?val="$WINDOW":value&&document===value?val="$DOCUMENT":isScope(value)&&(val="$SCOPE"),val}function toJson(obj,pretty){return"undefined"==typeof obj?undefined:(isNumber(pretty)||(pretty=pretty?2:null),JSON.stringify(obj,toJsonReplacer,pretty))}function fromJson(json){return isString(json)?JSON.parse(json):json}function timezoneToOffset(timezone,fallback){var requestedTimezoneOffset=Date.parse("Jan 01, 1970 00:00:00 "+timezone)/6e4;return isNaN(requestedTimezoneOffset)?fallback:requestedTimezoneOffset}function addDateMinutes(date,minutes){return date=new Date(date.getTime()),date.setMinutes(date.getMinutes()+minutes),date}function convertTimezoneToLocal(date,timezone,reverse){reverse=reverse?-1:1;var timezoneOffset=timezoneToOffset(timezone,date.getTimezoneOffset());return addDateMinutes(date,reverse*(timezoneOffset-date.getTimezoneOffset()))}function startingTag(element){element=jqLite(element).clone();try{element.empty()}catch(e){}var elemHtml=jqLite("<div>").append(element).html();try{return element[0].nodeType===NODE_TYPE_TEXT?lowercase(elemHtml):elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(match,nodeName){return"<"+lowercase(nodeName)})}catch(e){return lowercase(elemHtml)}}function tryDecodeURIComponent(value){try{return decodeURIComponent(value)}catch(e){}}function parseKeyValue(keyValue){var obj={};return forEach((keyValue||"").split("&"),function(keyValue){var splitPoint,key,val;keyValue&&(key=keyValue=keyValue.replace(/\+/g,"%20"),splitPoint=keyValue.indexOf("="),-1!==splitPoint&&(key=keyValue.substring(0,splitPoint),val=keyValue.substring(splitPoint+1)),key=tryDecodeURIComponent(key),isDefined(key)&&(val=isDefined(val)?tryDecodeURIComponent(val):!0,hasOwnProperty.call(obj,key)?isArray(obj[key])?obj[key].push(val):obj[key]=[obj[key],val]:obj[key]=val))}),obj}function toKeyValue(obj){var parts=[];return forEach(obj,function(value,key){isArray(value)?forEach(value,function(arrayValue){parts.push(encodeUriQuery(key,!0)+(arrayValue===!0?"":"="+encodeUriQuery(arrayValue,!0)))}):parts.push(encodeUriQuery(key,!0)+(value===!0?"":"="+encodeUriQuery(value,!0)))}),parts.length?parts.join("&"):""}function encodeUriSegment(val){return encodeUriQuery(val,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,pctEncodeSpaces?"%20":"+")}function getNgAttribute(element,ngAttr){var attr,i,ii=ngAttrPrefixes.length;for(i=0;ii>i;++i)if(attr=ngAttrPrefixes[i]+ngAttr,isString(attr=element.getAttribute(attr)))return attr;return null}function angularInit(element,bootstrap){var appElement,module,config={};forEach(ngAttrPrefixes,function(prefix){var name=prefix+"app";!appElement&&element.hasAttribute&&element.hasAttribute(name)&&(appElement=element,module=element.getAttribute(name))}),forEach(ngAttrPrefixes,function(prefix){var candidate,name=prefix+"app";!appElement&&(candidate=element.querySelector("["+name.replace(":","\\:")+"]"))&&(appElement=candidate,module=candidate.getAttribute(name))}),appElement&&(config.strictDi=null!==getNgAttribute(appElement,"strict-di"),bootstrap(appElement,module?[module]:[],config))}function bootstrap(element,modules,config){isObject(config)||(config={});var defaultConfig={strictDi:!1};config=extend(defaultConfig,config);var doBootstrap=function(){if(element=jqLite(element),element.injector()){var tag=element[0]===document?"document":startingTag(element);throw ngMinErr("btstrpd","App Already Bootstrapped with this Element '{0}'",tag.replace(/</,"&lt;").replace(/>/,"&gt;"))}modules=modules||[],modules.unshift(["$provide",function($provide){$provide.value("$rootElement",element)}]),config.debugInfoEnabled&&modules.push(["$compileProvider",function($compileProvider){$compileProvider.debugInfoEnabled(!0)}]),modules.unshift("ng");var injector=createInjector(modules,config.strictDi);return injector.invoke(["$rootScope","$rootElement","$compile","$injector",function(scope,element,compile,injector){scope.$apply(function(){element.data("$injector",injector),compile(element)(scope)})}]),injector},NG_ENABLE_DEBUG_INFO=/^NG_ENABLE_DEBUG_INFO!/,NG_DEFER_BOOTSTRAP=/^NG_DEFER_BOOTSTRAP!/;return window&&NG_ENABLE_DEBUG_INFO.test(window.name)&&(config.debugInfoEnabled=!0,window.name=window.name.replace(NG_ENABLE_DEBUG_INFO,"")),window&&!NG_DEFER_BOOTSTRAP.test(window.name)?doBootstrap():(window.name=window.name.replace(NG_DEFER_BOOTSTRAP,""),angular.resumeBootstrap=function(extraModules){return forEach(extraModules,function(module){modules.push(module)}),doBootstrap()},void(isFunction(angular.resumeDeferredBootstrap)&&angular.resumeDeferredBootstrap()))}function reloadWithDebugInfo(){window.name="NG_ENABLE_DEBUG_INFO!"+window.name,window.location.reload()}function getTestability(rootElement){var injector=angular.element(rootElement).injector();if(!injector)throw ngMinErr("test","no injector found for element argument to getTestability");return injector.get("$$testability")}function snake_case(name,separator){return separator=separator||"_",name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}function bindJQuery(){var originalCleanData;if(!bindJQueryFired){var jqName=jq();jQuery=window.jQuery,isDefined(jqName)&&(jQuery=null===jqName?undefined:window[jqName]),jQuery&&jQuery.fn.on?(jqLite=jQuery,extend(jQuery.fn,{scope:JQLitePrototype.scope,isolateScope:JQLitePrototype.isolateScope,controller:JQLitePrototype.controller,injector:JQLitePrototype.injector,inheritedData:JQLitePrototype.inheritedData}),originalCleanData=jQuery.cleanData,jQuery.cleanData=function(elems){var events;if(skipDestroyOnNextJQueryCleanData)skipDestroyOnNextJQueryCleanData=!1;else for(var elem,i=0;null!=(elem=elems[i]);i++)events=jQuery._data(elem,"events"),events&&events.$destroy&&jQuery(elem).triggerHandler("$destroy");originalCleanData(elems)}):jqLite=JQLite,angular.element=jqLite,bindJQueryFired=!0}}function assertArg(arg,name,reason){if(!arg)throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required");return arg}function assertArgFn(arg,name,acceptArrayAnnotation){return acceptArrayAnnotation&&isArray(arg)&&(arg=arg[arg.length-1]),assertArg(isFunction(arg),name,"not a function, got "+(arg&&"object"==typeof arg?arg.constructor.name||"Object":typeof arg)),arg}function assertNotHasOwnProperty(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)}function getter(obj,path,bindFnToScope){if(!path)return obj;for(var key,keys=path.split("."),lastInstance=obj,len=keys.length,i=0;len>i;i++)key=keys[i],obj&&(obj=(lastInstance=obj)[key]);return!bindFnToScope&&isFunction(obj)?bind(lastInstance,obj):obj}function getBlockNodes(nodes){var node=nodes[0],endNode=nodes[nodes.length-1],blockNodes=[node];do{if(node=node.nextSibling,!node)break;blockNodes.push(node)}while(node!==endNode);return jqLite(blockNodes)}function createMap(){return Object.create(null)}function setupModuleLoader(window){function ensure(obj,name,factory){return obj[name]||(obj[name]=factory())}var $injectorMinErr=minErr("$injector"),ngMinErr=minErr("ng"),angular=ensure(window,"angular",Object);return angular.$$minErr=angular.$$minErr||minErr,ensure(angular,"module",function(){var modules={};return function(name,requires,configFn){var assertNotHasOwnProperty=function(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)};return assertNotHasOwnProperty(name,"module"),requires&&modules.hasOwnProperty(name)&&(modules[name]=null),ensure(modules,name,function(){function invokeLater(provider,method,insertMethod,queue){return queue||(queue=invokeQueue),function(){return queue[insertMethod||"push"]([provider,method,arguments]),moduleInstance}}function invokeLaterAndSetModuleName(provider,method){return function(recipeName,factoryFunction){return factoryFunction&&isFunction(factoryFunction)&&(factoryFunction.$$moduleName=name),invokeQueue.push([provider,method,arguments]),moduleInstance}}if(!requires)throw $injectorMinErr("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",name);var invokeQueue=[],configBlocks=[],runBlocks=[],config=invokeLater("$injector","invoke","push",configBlocks),moduleInstance={_invokeQueue:invokeQueue,_configBlocks:configBlocks,_runBlocks:runBlocks,requires:requires,name:name,provider:invokeLaterAndSetModuleName("$provide","provider"),factory:invokeLaterAndSetModuleName("$provide","factory"),service:invokeLaterAndSetModuleName("$provide","service"),value:invokeLater("$provide","value"),constant:invokeLater("$provide","constant","unshift"),decorator:invokeLaterAndSetModuleName("$provide","decorator"),animation:invokeLaterAndSetModuleName("$animateProvider","register"),filter:invokeLaterAndSetModuleName("$filterProvider","register"),controller:invokeLaterAndSetModuleName("$controllerProvider","register"),directive:invokeLaterAndSetModuleName("$compileProvider","directive"),config:config,run:function(block){return runBlocks.push(block),this}};return configFn&&config(configFn),moduleInstance})}})}function serializeObject(obj){var seen=[];return JSON.stringify(obj,function(key,val){if(val=toJsonReplacer(key,val),isObject(val)){if(seen.indexOf(val)>=0)return"<<already seen>>";seen.push(val)}return val})}function toDebugString(obj){return"function"==typeof obj?obj.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof obj?"undefined":"string"!=typeof obj?serializeObject(obj):obj}function publishExternalAPI(angular){extend(angular,{bootstrap:bootstrap,copy:copy,extend:extend,merge:merge,equals:equals,element:jqLite,forEach:forEach,injector:createInjector,noop:noop,bind:bind,toJson:toJson,fromJson:fromJson,identity:identity,isUndefined:isUndefined,isDefined:isDefined,isString:isString,isFunction:isFunction,isObject:isObject,isNumber:isNumber,isElement:isElement,isArray:isArray,version:version,isDate:isDate,lowercase:lowercase,uppercase:uppercase,callbacks:{counter:0},getTestability:getTestability,$$minErr:minErr,$$csp:csp,reloadWithDebugInfo:reloadWithDebugInfo}),(angularModule=setupModuleLoader(window))("ng",["ngLocale"],["$provide",function($provide){$provide.provider({$$sanitizeUri:$$SanitizeUriProvider}),$provide.provider("$compile",$CompileProvider).directive({a:htmlAnchorDirective,input:inputDirective,textarea:inputDirective,form:formDirective,script:scriptDirective,select:selectDirective,style:styleDirective,option:optionDirective,ngBind:ngBindDirective,ngBindHtml:ngBindHtmlDirective,ngBindTemplate:ngBindTemplateDirective,ngClass:ngClassDirective,ngClassEven:ngClassEvenDirective,ngClassOdd:ngClassOddDirective,ngCloak:ngCloakDirective,ngController:ngControllerDirective,ngForm:ngFormDirective,ngHide:ngHideDirective,ngIf:ngIfDirective,ngInclude:ngIncludeDirective,ngInit:ngInitDirective,ngNonBindable:ngNonBindableDirective,ngPluralize:ngPluralizeDirective,ngRepeat:ngRepeatDirective,ngShow:ngShowDirective,ngStyle:ngStyleDirective,ngSwitch:ngSwitchDirective,ngSwitchWhen:ngSwitchWhenDirective,ngSwitchDefault:ngSwitchDefaultDirective,ngOptions:ngOptionsDirective,ngTransclude:ngTranscludeDirective,ngModel:ngModelDirective,ngList:ngListDirective,ngChange:ngChangeDirective,pattern:patternDirective,ngPattern:patternDirective,required:requiredDirective,ngRequired:requiredDirective,minlength:minlengthDirective,ngMinlength:minlengthDirective,maxlength:maxlengthDirective,ngMaxlength:maxlengthDirective,ngValue:ngValueDirective,ngModelOptions:ngModelOptionsDirective}).directive({ngInclude:ngIncludeFillContentDirective}).directive(ngAttributeAliasDirectives).directive(ngEventDirectives),$provide.provider({$anchorScroll:$AnchorScrollProvider,$animate:$AnimateProvider,$animateCss:$CoreAnimateCssProvider,$$animateQueue:$$CoreAnimateQueueProvider,$$AnimateRunner:$$CoreAnimateRunnerProvider,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$$forceReflow:$$ForceReflowProvider,$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$http:$HttpProvider,$httpParamSerializer:$HttpParamSerializerProvider,$httpParamSerializerJQLike:$HttpParamSerializerJQLikeProvider,$httpBackend:$HttpBackendProvider,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$$q:$$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$templateCache:$TemplateCacheProvider,$templateRequest:$TemplateRequestProvider,$$testability:$$TestabilityProvider,$timeout:$TimeoutProvider,$window:$WindowProvider,$$rAF:$$RAFProvider,$$jqLite:$$jqLiteProvider,$$HashMap:$$HashMapProvider,$$cookieReader:$$CookieReaderProvider})}])}function jqNextId(){return++jqId}function camelCase(name){return name.replace(SPECIAL_CHARS_REGEXP,function(_,separator,letter,offset){return offset?letter.toUpperCase():letter}).replace(MOZ_HACK_REGEXP,"Moz$1")}function jqLiteIsTextNode(html){return!HTML_REGEXP.test(html)}function jqLiteAcceptsData(node){var nodeType=node.nodeType;return nodeType===NODE_TYPE_ELEMENT||!nodeType||nodeType===NODE_TYPE_DOCUMENT}function jqLiteHasData(node){for(var key in jqCache[node.ng339])return!0;return!1}function jqLiteBuildFragment(html,context){var tmp,tag,wrap,i,fragment=context.createDocumentFragment(),nodes=[];if(jqLiteIsTextNode(html))nodes.push(context.createTextNode(html));else{for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(TAG_NAME_REGEXP.exec(html)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+html.replace(XHTML_TAG_REGEXP,"<$1></$2>")+wrap[2],i=wrap[0];i--;)tmp=tmp.lastChild;nodes=concat(nodes,tmp.childNodes),tmp=fragment.firstChild,tmp.textContent=""}return fragment.textContent="",fragment.innerHTML="",forEach(nodes,function(node){fragment.appendChild(node)}),fragment}function jqLiteParseHTML(html,context){context=context||document;var parsed;return(parsed=SINGLE_TAG_REGEXP.exec(html))?[context.createElement(parsed[1])]:(parsed=jqLiteBuildFragment(html,context))?parsed.childNodes:[]}function JQLite(element){if(element instanceof JQLite)return element;var argIsString;if(isString(element)&&(element=trim(element),argIsString=!0),!(this instanceof JQLite)){if(argIsString&&"<"!=element.charAt(0))throw jqLiteMinErr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new JQLite(element)}argIsString?jqLiteAddNodes(this,jqLiteParseHTML(element)):jqLiteAddNodes(this,element)}function jqLiteClone(element){return element.cloneNode(!0)}function jqLiteDealoc(element,onlyDescendants){if(onlyDescendants||jqLiteRemoveData(element),element.querySelectorAll)for(var descendants=element.querySelectorAll("*"),i=0,l=descendants.length;l>i;i++)jqLiteRemoveData(descendants[i])}function jqLiteOff(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("offargs","jqLite#off() does not support the `selector` argument");var expandoStore=jqLiteExpandoStore(element),events=expandoStore&&expandoStore.events,handle=expandoStore&&expandoStore.handle;if(handle)if(type)forEach(type.split(" "),function(type){if(isDefined(fn)){var listenerFns=events[type];if(arrayRemove(listenerFns||[],fn),listenerFns&&listenerFns.length>0)return}removeEventListenerFn(element,type,handle),delete events[type]});else for(type in events)"$destroy"!==type&&removeEventListenerFn(element,type,handle),delete events[type]}function jqLiteRemoveData(element,name){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];if(expandoStore){if(name)return void delete expandoStore.data[name];expandoStore.handle&&(expandoStore.events.$destroy&&expandoStore.handle({},"$destroy"),jqLiteOff(element)),delete jqCache[expandoId],element.ng339=undefined}}function jqLiteExpandoStore(element,createIfNecessary){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];return createIfNecessary&&!expandoStore&&(element.ng339=expandoId=jqNextId(),expandoStore=jqCache[expandoId]={events:{},data:{},handle:undefined}),expandoStore}function jqLiteData(element,key,value){if(jqLiteAcceptsData(element)){var isSimpleSetter=isDefined(value),isSimpleGetter=!isSimpleSetter&&key&&!isObject(key),massGetter=!key,expandoStore=jqLiteExpandoStore(element,!isSimpleGetter),data=expandoStore&&expandoStore.data;if(isSimpleSetter)data[key]=value;else{if(massGetter)return data;if(isSimpleGetter)return data&&data[key];extend(data,key)}}}function jqLiteHasClass(element,selector){return element.getAttribute?(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+selector+" ")>-1:!1}function jqLiteRemoveClass(element,cssClasses){cssClasses&&element.setAttribute&&forEach(cssClasses.split(" "),function(cssClass){element.setAttribute("class",trim((" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+trim(cssClass)+" "," ")))})}function jqLiteAddClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");forEach(cssClasses.split(" "),function(cssClass){cssClass=trim(cssClass),-1===existingClasses.indexOf(" "+cssClass+" ")&&(existingClasses+=cssClass+" ")}),element.setAttribute("class",trim(existingClasses))}}function jqLiteAddNodes(root,elements){if(elements)if(elements.nodeType)root[root.length++]=elements;else{var length=elements.length;if("number"==typeof length&&elements.window!==elements){if(length)for(var i=0;length>i;i++)root[root.length++]=elements[i]}else root[root.length++]=elements}}function jqLiteController(element,name){return jqLiteInheritedData(element,"$"+(name||"ngController")+"Controller")}function jqLiteInheritedData(element,name,value){element.nodeType==NODE_TYPE_DOCUMENT&&(element=element.documentElement);for(var names=isArray(name)?name:[name];element;){for(var i=0,ii=names.length;ii>i;i++)if((value=jqLite.data(element,names[i]))!==undefined)return value;element=element.parentNode||element.nodeType===NODE_TYPE_DOCUMENT_FRAGMENT&&element.host}}function jqLiteEmpty(element){for(jqLiteDealoc(element,!0);element.firstChild;)element.removeChild(element.firstChild)}function jqLiteRemove(element,keepData){keepData||jqLiteDealoc(element);var parent=element.parentNode;parent&&parent.removeChild(element)}function jqLiteDocumentLoaded(action,win){win=win||window,"complete"===win.document.readyState?win.setTimeout(action):jqLite(win).on("load",action)}function getBooleanAttrName(element,name){var booleanAttr=BOOLEAN_ATTR[name.toLowerCase()];return booleanAttr&&BOOLEAN_ELEMENTS[nodeName_(element)]&&booleanAttr}function getAliasedAttrName(element,name){var nodeName=element.nodeName;return("INPUT"===nodeName||"TEXTAREA"===nodeName)&&ALIASED_ATTR[name]}function createEventHandler(element,events){var eventHandler=function(event,type){event.isDefaultPrevented=function(){return event.defaultPrevented};var eventFns=events[type||event.type],eventFnsLength=eventFns?eventFns.length:0;if(eventFnsLength){if(isUndefined(event.immediatePropagationStopped)){var originalStopImmediatePropagation=event.stopImmediatePropagation;event.stopImmediatePropagation=function(){event.immediatePropagationStopped=!0,event.stopPropagation&&event.stopPropagation(),originalStopImmediatePropagation&&originalStopImmediatePropagation.call(event)}}event.isImmediatePropagationStopped=function(){return event.immediatePropagationStopped===!0},eventFnsLength>1&&(eventFns=shallowCopy(eventFns));for(var i=0;eventFnsLength>i;i++)event.isImmediatePropagationStopped()||eventFns[i].call(element,event)}};return eventHandler.elem=element,eventHandler}function $$jqLiteProvider(){this.$get=function(){return extend(JQLite,{hasClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteHasClass(node,classes)},addClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteAddClass(node,classes)},removeClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteRemoveClass(node,classes)}})}}function hashKey(obj,nextUidFn){var key=obj&&obj.$$hashKey;if(key)return"function"==typeof key&&(key=obj.$$hashKey()),key;var objType=typeof obj;return key="function"==objType||"object"==objType&&null!==obj?obj.$$hashKey=objType+":"+(nextUidFn||nextUid)():objType+":"+obj}function HashMap(array,isolatedUid){if(isolatedUid){var uid=0;this.nextUid=function(){return++uid}}forEach(array,this.put,this)}function anonFn(fn){var fnText=fn.toString().replace(STRIP_COMMENTS,""),args=fnText.match(FN_ARGS);return args?"function("+(args[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function annotate(fn,strictDi,name){var $inject,fnText,argDecl,last;if("function"==typeof fn){if(!($inject=fn.$inject)){if($inject=[],fn.length){if(strictDi)throw isString(name)&&name||(name=fn.name||anonFn(fn)),$injectorMinErr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",name);fnText=fn.toString().replace(STRIP_COMMENTS,""),argDecl=fnText.match(FN_ARGS),forEach(argDecl[1].split(FN_ARG_SPLIT),function(arg){arg.replace(FN_ARG,function(all,underscore,name){$inject.push(name)})})}fn.$inject=$inject}}else isArray(fn)?(last=fn.length-1,assertArgFn(fn[last],"fn"),$inject=fn.slice(0,last)):assertArgFn(fn,"fn",!0);return $inject}function createInjector(modulesToLoad,strictDi){function supportObject(delegate){return function(key,value){return isObject(key)?void forEach(key,reverseParams(delegate)):delegate(key,value)}}function provider(name,provider_){if(assertNotHasOwnProperty(name,"service"),(isFunction(provider_)||isArray(provider_))&&(provider_=providerInjector.instantiate(provider_)),!provider_.$get)throw $injectorMinErr("pget","Provider '{0}' must define $get factory method.",name);

return providerCache[name+providerSuffix]=provider_}function enforceReturnValue(name,factory){return function(){var result=instanceInjector.invoke(factory,this);if(isUndefined(result))throw $injectorMinErr("undef","Provider '{0}' must return a value from $get factory method.",name);return result}}function factory(name,factoryFn,enforce){return provider(name,{$get:enforce!==!1?enforceReturnValue(name,factoryFn):factoryFn})}function service(name,constructor){return factory(name,["$injector",function($injector){return $injector.instantiate(constructor)}])}function value(name,val){return factory(name,valueFn(val),!1)}function constant(name,value){assertNotHasOwnProperty(name,"constant"),providerCache[name]=value,instanceCache[name]=value}function decorator(serviceName,decorFn){var origProvider=providerInjector.get(serviceName+providerSuffix),orig$get=origProvider.$get;origProvider.$get=function(){var origInstance=instanceInjector.invoke(orig$get,origProvider);return instanceInjector.invoke(decorFn,null,{$delegate:origInstance})}}function loadModules(modulesToLoad){assertArg(isUndefined(modulesToLoad)||isArray(modulesToLoad),"modulesToLoad","not an array");var moduleFn,runBlocks=[];return forEach(modulesToLoad,function(module){function runInvokeQueue(queue){var i,ii;for(i=0,ii=queue.length;ii>i;i++){var invokeArgs=queue[i],provider=providerInjector.get(invokeArgs[0]);provider[invokeArgs[1]].apply(provider,invokeArgs[2])}}if(!loadedModules.get(module)){loadedModules.put(module,!0);try{isString(module)?(moduleFn=angularModule(module),runBlocks=runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks),runInvokeQueue(moduleFn._invokeQueue),runInvokeQueue(moduleFn._configBlocks)):isFunction(module)?runBlocks.push(providerInjector.invoke(module)):isArray(module)?runBlocks.push(providerInjector.invoke(module)):assertArgFn(module,"module")}catch(e){throw isArray(module)&&(module=module[module.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),$injectorMinErr("modulerr","Failed to instantiate module {0} due to:\n{1}",module,e.stack||e.message||e)}}}),runBlocks}function createInternalInjector(cache,factory){function getService(serviceName,caller){if(cache.hasOwnProperty(serviceName)){if(cache[serviceName]===INSTANTIATING)throw $injectorMinErr("cdep","Circular dependency found: {0}",serviceName+" <- "+path.join(" <- "));return cache[serviceName]}try{return path.unshift(serviceName),cache[serviceName]=INSTANTIATING,cache[serviceName]=factory(serviceName,caller)}catch(err){throw cache[serviceName]===INSTANTIATING&&delete cache[serviceName],err}finally{path.shift()}}function invoke(fn,self,locals,serviceName){"string"==typeof locals&&(serviceName=locals,locals=null);var length,i,key,args=[],$inject=createInjector.$$annotate(fn,strictDi,serviceName);for(i=0,length=$inject.length;length>i;i++){if(key=$inject[i],"string"!=typeof key)throw $injectorMinErr("itkn","Incorrect injection token! Expected service name as string, got {0}",key);args.push(locals&&locals.hasOwnProperty(key)?locals[key]:getService(key,serviceName))}return isArray(fn)&&(fn=fn[length]),fn.apply(self,args)}function instantiate(Type,locals,serviceName){var instance=Object.create((isArray(Type)?Type[Type.length-1]:Type).prototype||null),returnedValue=invoke(Type,instance,locals,serviceName);return isObject(returnedValue)||isFunction(returnedValue)?returnedValue:instance}return{invoke:invoke,instantiate:instantiate,get:getService,annotate:createInjector.$$annotate,has:function(name){return providerCache.hasOwnProperty(name+providerSuffix)||cache.hasOwnProperty(name)}}}strictDi=strictDi===!0;var INSTANTIATING={},providerSuffix="Provider",path=[],loadedModules=new HashMap([],!0),providerCache={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},providerInjector=providerCache.$injector=createInternalInjector(providerCache,function(serviceName,caller){throw angular.isString(caller)&&path.push(caller),$injectorMinErr("unpr","Unknown provider: {0}",path.join(" <- "))}),instanceCache={},instanceInjector=instanceCache.$injector=createInternalInjector(instanceCache,function(serviceName,caller){var provider=providerInjector.get(serviceName+providerSuffix,caller);return instanceInjector.invoke(provider.$get,provider,undefined,serviceName)});return forEach(loadModules(modulesToLoad),function(fn){fn&&instanceInjector.invoke(fn)}),instanceInjector}function $AnchorScrollProvider(){var autoScrollingEnabled=!0;this.disableAutoScrolling=function(){autoScrollingEnabled=!1},this.$get=["$window","$location","$rootScope",function($window,$location,$rootScope){function getFirstAnchor(list){var result=null;return Array.prototype.some.call(list,function(element){return"a"===nodeName_(element)?(result=element,!0):void 0}),result}function getYOffset(){var offset=scroll.yOffset;if(isFunction(offset))offset=offset();else if(isElement(offset)){var elem=offset[0],style=$window.getComputedStyle(elem);offset="fixed"!==style.position?0:elem.getBoundingClientRect().bottom}else isNumber(offset)||(offset=0);return offset}function scrollTo(elem){if(elem){elem.scrollIntoView();var offset=getYOffset();if(offset){var elemTop=elem.getBoundingClientRect().top;$window.scrollBy(0,elemTop-offset)}}else $window.scrollTo(0,0)}function scroll(hash){hash=isString(hash)?hash:$location.hash();var elm;hash?(elm=document.getElementById(hash))?scrollTo(elm):(elm=getFirstAnchor(document.getElementsByName(hash)))?scrollTo(elm):"top"===hash&&scrollTo(null):scrollTo(null)}var document=$window.document;return autoScrollingEnabled&&$rootScope.$watch(function(){return $location.hash()},function(newVal,oldVal){(newVal!==oldVal||""!==newVal)&&jqLiteDocumentLoaded(function(){$rootScope.$evalAsync(scroll)})}),scroll}]}function mergeClasses(a,b){return a||b?a?b?(isArray(a)&&(a=a.join(" ")),isArray(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function extractElementNode(element){for(var i=0;i<element.length;i++){var elm=element[i];if(elm.nodeType===ELEMENT_NODE)return elm}}function splitClasses(classes){isString(classes)&&(classes=classes.split(" "));var obj=createMap();return forEach(classes,function(klass){klass.length&&(obj[klass]=!0)}),obj}function prepareAnimateOptions(options){return isObject(options)?options:{}}function Browser(window,document,$log,$sniffer){function completeOutstandingRequest(fn){try{fn.apply(null,sliceArgs(arguments,1))}finally{if(outstandingRequestCount--,0===outstandingRequestCount)for(;outstandingRequestCallbacks.length;)try{outstandingRequestCallbacks.pop()()}catch(e){$log.error(e)}}}function getHash(url){var index=url.indexOf("#");return-1===index?"":url.substr(index)}function cacheStateAndFireUrlChange(){cacheState(),fireUrlChange()}function getCurrentState(){try{return history.state}catch(e){}}function cacheState(){cachedState=getCurrentState(),cachedState=isUndefined(cachedState)?null:cachedState,equals(cachedState,lastCachedState)&&(cachedState=lastCachedState),lastCachedState=cachedState}function fireUrlChange(){(lastBrowserUrl!==self.url()||lastHistoryState!==cachedState)&&(lastBrowserUrl=self.url(),lastHistoryState=cachedState,forEach(urlChangeListeners,function(listener){listener(self.url(),cachedState)}))}var self=this,location=(document[0],window.location),history=window.history,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,pendingDeferIds={};self.isMock=!1;var outstandingRequestCount=0,outstandingRequestCallbacks=[];self.$$completeOutstandingRequest=completeOutstandingRequest,self.$$incOutstandingRequestCount=function(){outstandingRequestCount++},self.notifyWhenNoOutstandingRequests=function(callback){0===outstandingRequestCount?callback():outstandingRequestCallbacks.push(callback)};var cachedState,lastHistoryState,lastBrowserUrl=location.href,baseElement=document.find("base"),reloadLocation=null;cacheState(),lastHistoryState=cachedState,self.url=function(url,replace,state){if(isUndefined(state)&&(state=null),location!==window.location&&(location=window.location),history!==window.history&&(history=window.history),url){var sameState=lastHistoryState===state;if(lastBrowserUrl===url&&(!$sniffer.history||sameState))return self;var sameBase=lastBrowserUrl&&stripHash(lastBrowserUrl)===stripHash(url);return lastBrowserUrl=url,lastHistoryState=state,!$sniffer.history||sameBase&&sameState?((!sameBase||reloadLocation)&&(reloadLocation=url),replace?location.replace(url):sameBase?location.hash=getHash(url):location.href=url):(history[replace?"replaceState":"pushState"](state,"",url),cacheState(),lastHistoryState=cachedState),self}return reloadLocation||location.href.replace(/%27/g,"'")},self.state=function(){return cachedState};var urlChangeListeners=[],urlChangeInit=!1,lastCachedState=null;self.onUrlChange=function(callback){return urlChangeInit||($sniffer.history&&jqLite(window).on("popstate",cacheStateAndFireUrlChange),jqLite(window).on("hashchange",cacheStateAndFireUrlChange),urlChangeInit=!0),urlChangeListeners.push(callback),callback},self.$$applicationDestroyed=function(){jqLite(window).off("hashchange popstate",cacheStateAndFireUrlChange)},self.$$checkUrlChange=fireUrlChange,self.baseHref=function(){var href=baseElement.attr("href");return href?href.replace(/^(https?\:)?\/\/[^\/]*/,""):""},self.defer=function(fn,delay){var timeoutId;return outstandingRequestCount++,timeoutId=setTimeout(function(){delete pendingDeferIds[timeoutId],completeOutstandingRequest(fn)},delay||0),pendingDeferIds[timeoutId]=!0,timeoutId},self.defer.cancel=function(deferId){return pendingDeferIds[deferId]?(delete pendingDeferIds[deferId],clearTimeout(deferId),completeOutstandingRequest(noop),!0):!1}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document",function($window,$log,$sniffer,$document){return new Browser($window,$document,$log,$sniffer)}]}function $CacheFactoryProvider(){this.$get=function(){function cacheFactory(cacheId,options){function refresh(entry){entry!=freshEnd&&(staleEnd?staleEnd==entry&&(staleEnd=entry.n):staleEnd=entry,link(entry.n,entry.p),link(entry,freshEnd),freshEnd=entry,freshEnd.n=null)}function link(nextEntry,prevEntry){nextEntry!=prevEntry&&(nextEntry&&(nextEntry.p=prevEntry),prevEntry&&(prevEntry.n=nextEntry))}if(cacheId in caches)throw minErr("$cacheFactory")("iid","CacheId '{0}' is already taken!",cacheId);var size=0,stats=extend({},options,{id:cacheId}),data={},capacity=options&&options.capacity||Number.MAX_VALUE,lruHash={},freshEnd=null,staleEnd=null;return caches[cacheId]={put:function(key,value){if(!isUndefined(value)){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key]||(lruHash[key]={key:key});refresh(lruEntry)}return key in data||size++,data[key]=value,size>capacity&&this.remove(staleEnd.key),value}},get:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;refresh(lruEntry)}return data[key]},remove:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;lruEntry==freshEnd&&(freshEnd=lruEntry.p),lruEntry==staleEnd&&(staleEnd=lruEntry.n),link(lruEntry.n,lruEntry.p),delete lruHash[key]}delete data[key],size--},removeAll:function(){data={},size=0,lruHash={},freshEnd=staleEnd=null},destroy:function(){data=null,stats=null,lruHash=null,delete caches[cacheId]},info:function(){return extend({},stats,{size:size})}}}var caches={};return cacheFactory.info=function(){var info={};return forEach(caches,function(cache,cacheId){info[cacheId]=cache.info()}),info},cacheFactory.get=function(cacheId){return caches[cacheId]},cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function($cacheFactory){return $cacheFactory("templates")}]}function $CompileProvider($provide,$$sanitizeUriProvider){function parseIsolateBindings(scope,directiveName,isController){var LOCAL_REGEXP=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,bindings={};return forEach(scope,function(definition,scopeName){var match=definition.match(LOCAL_REGEXP);if(!match)throw $compileMinErr("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",directiveName,scopeName,definition,isController?"controller bindings definition":"isolate scope definition");bindings[scopeName]={mode:match[1][0],collection:"*"===match[2],optional:"?"===match[3],attrName:match[4]||scopeName}}),bindings}function parseDirectiveBindings(directive,directiveName){var bindings={isolateScope:null,bindToController:null};if(isObject(directive.scope)&&(directive.bindToController===!0?(bindings.bindToController=parseIsolateBindings(directive.scope,directiveName,!0),bindings.isolateScope={}):bindings.isolateScope=parseIsolateBindings(directive.scope,directiveName,!1)),isObject(directive.bindToController)&&(bindings.bindToController=parseIsolateBindings(directive.bindToController,directiveName,!0)),isObject(bindings.bindToController)){var controller=directive.controller,controllerAs=directive.controllerAs;if(!controller)throw $compileMinErr("noctrl","Cannot bind to controller without directive '{0}'s controller.",directiveName);if(!identifierForController(controller,controllerAs))throw $compileMinErr("noident","Cannot bind to controller without identifier for directive '{0}'.",directiveName)}return bindings}function assertValidDirectiveName(name){var letter=name.charAt(0);if(!letter||letter!==lowercase(letter))throw $compileMinErr("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",name);if(name!==name.trim())throw $compileMinErr("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",name)}var hasDirectives={},Suffix="Directive",COMMENT_DIRECTIVE_REGEXP=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,CLASS_DIRECTIVE_REGEXP=/(([\w\-]+)(?:\:([^;]+))?;?)/,ALL_OR_NOTHING_ATTRS=makeMap("ngSrc,ngSrcset,src,srcset"),REQUIRE_PREFIX_REGEXP=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,EVENT_HANDLER_ATTR_REGEXP=/^(on[a-z]+|formaction)$/;this.directive=function registerDirective(name,directiveFactory){return assertNotHasOwnProperty(name,"directive"),isString(name)?(assertValidDirectiveName(name),assertArg(directiveFactory,"directiveFactory"),hasDirectives.hasOwnProperty(name)||(hasDirectives[name]=[],$provide.factory(name+Suffix,["$injector","$exceptionHandler",function($injector,$exceptionHandler){var directives=[];return forEach(hasDirectives[name],function(directiveFactory,index){try{var directive=$injector.invoke(directiveFactory);isFunction(directive)?directive={compile:valueFn(directive)}:!directive.compile&&directive.link&&(directive.compile=valueFn(directive.link)),directive.priority=directive.priority||0,directive.index=index,directive.name=directive.name||name,directive.require=directive.require||directive.controller&&directive.name,directive.restrict=directive.restrict||"EA";var bindings=directive.$$bindings=parseDirectiveBindings(directive,directive.name);isObject(bindings.isolateScope)&&(directive.$$isolateBindings=bindings.isolateScope),directive.$$moduleName=directiveFactory.$$moduleName,directives.push(directive)}catch(e){$exceptionHandler(e)}}),directives}])),hasDirectives[name].push(directiveFactory)):forEach(name,reverseParams(registerDirective)),this},this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.aHrefSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.imgSrcSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.imgSrcSanitizationWhitelist()};var debugInfoEnabled=!0;this.debugInfoEnabled=function(enabled){return isDefined(enabled)?(debugInfoEnabled=enabled,this):debugInfoEnabled},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function($injector,$interpolate,$exceptionHandler,$templateRequest,$parse,$controller,$rootScope,$document,$sce,$animate,$$sanitizeUri){function safeAddClass($element,className){try{$element.addClass(className)}catch(e){}}function compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){$compileNodes instanceof jqLite||($compileNodes=jqLite($compileNodes)),forEach($compileNodes,function(node,index){node.nodeType==NODE_TYPE_TEXT&&node.nodeValue.match(/\S+/)&&($compileNodes[index]=jqLite(node).wrap("<span></span>").parent()[0])});var compositeLinkFn=compileNodes($compileNodes,transcludeFn,$compileNodes,maxPriority,ignoreDirective,previousCompileContext);compile.$$addScopeClass($compileNodes);var namespace=null;return function(scope,cloneConnectFn,options){assertArg(scope,"scope"),options=options||{};var parentBoundTranscludeFn=options.parentBoundTranscludeFn,transcludeControllers=options.transcludeControllers,futureParentElement=options.futureParentElement;parentBoundTranscludeFn&&parentBoundTranscludeFn.$$boundTransclude&&(parentBoundTranscludeFn=parentBoundTranscludeFn.$$boundTransclude),namespace||(namespace=detectNamespaceForChildElements(futureParentElement));var $linkNode;if($linkNode="html"!==namespace?jqLite(wrapTemplate(namespace,jqLite("<div>").append($compileNodes).html())):cloneConnectFn?JQLitePrototype.clone.call($compileNodes):$compileNodes,transcludeControllers)for(var controllerName in transcludeControllers)$linkNode.data("$"+controllerName+"Controller",transcludeControllers[controllerName].instance);return compile.$$addScopeInfo($linkNode,scope),cloneConnectFn&&cloneConnectFn($linkNode,scope),compositeLinkFn&&compositeLinkFn(scope,$linkNode,$linkNode,parentBoundTranscludeFn),$linkNode}}function detectNamespaceForChildElements(parentElement){var node=parentElement&&parentElement[0];return node&&"foreignobject"!==nodeName_(node)&&node.toString().match(/SVG/)?"svg":"html"}function compileNodes(nodeList,transcludeFn,$rootElement,maxPriority,ignoreDirective,previousCompileContext){function compositeLinkFn(scope,nodeList,$rootElement,parentBoundTranscludeFn){var nodeLinkFn,childLinkFn,node,childScope,i,ii,idx,childBoundTranscludeFn,stableNodeList;if(nodeLinkFnFound){var nodeListLength=nodeList.length;for(stableNodeList=new Array(nodeListLength),i=0;i<linkFns.length;i+=3)idx=linkFns[i],stableNodeList[idx]=nodeList[idx]}else stableNodeList=nodeList;for(i=0,ii=linkFns.length;ii>i;)if(node=stableNodeList[linkFns[i++]],nodeLinkFn=linkFns[i++],childLinkFn=linkFns[i++],nodeLinkFn){if(nodeLinkFn.scope){childScope=scope.$new(),compile.$$addScopeInfo(jqLite(node),childScope);var destroyBindings=nodeLinkFn.$$destroyBindings;destroyBindings&&(nodeLinkFn.$$destroyBindings=null,childScope.$on("$destroyed",destroyBindings))}else childScope=scope;childBoundTranscludeFn=nodeLinkFn.transcludeOnThisElement?createBoundTranscludeFn(scope,nodeLinkFn.transclude,parentBoundTranscludeFn):!nodeLinkFn.templateOnThisElement&&parentBoundTranscludeFn?parentBoundTranscludeFn:!parentBoundTranscludeFn&&transcludeFn?createBoundTranscludeFn(scope,transcludeFn):null,nodeLinkFn(childLinkFn,childScope,node,$rootElement,childBoundTranscludeFn,nodeLinkFn)}else childLinkFn&&childLinkFn(scope,node.childNodes,undefined,parentBoundTranscludeFn)}for(var attrs,directives,nodeLinkFn,childNodes,childLinkFn,linkFnFound,nodeLinkFnFound,linkFns=[],i=0;i<nodeList.length;i++)attrs=new Attributes,directives=collectDirectives(nodeList[i],[],attrs,0===i?maxPriority:undefined,ignoreDirective),nodeLinkFn=directives.length?applyDirectivesToNode(directives,nodeList[i],attrs,transcludeFn,$rootElement,null,[],[],previousCompileContext):null,nodeLinkFn&&nodeLinkFn.scope&&compile.$$addScopeClass(attrs.$$element),childLinkFn=nodeLinkFn&&nodeLinkFn.terminal||!(childNodes=nodeList[i].childNodes)||!childNodes.length?null:compileNodes(childNodes,nodeLinkFn?(nodeLinkFn.transcludeOnThisElement||!nodeLinkFn.templateOnThisElement)&&nodeLinkFn.transclude:transcludeFn),(nodeLinkFn||childLinkFn)&&(linkFns.push(i,nodeLinkFn,childLinkFn),linkFnFound=!0,nodeLinkFnFound=nodeLinkFnFound||nodeLinkFn),previousCompileContext=null;return linkFnFound?compositeLinkFn:null}function createBoundTranscludeFn(scope,transcludeFn,previousBoundTranscludeFn){var boundTranscludeFn=function(transcludedScope,cloneFn,controllers,futureParentElement,containingScope){return transcludedScope||(transcludedScope=scope.$new(!1,containingScope),transcludedScope.$$transcluded=!0),transcludeFn(transcludedScope,cloneFn,{parentBoundTranscludeFn:previousBoundTranscludeFn,transcludeControllers:controllers,futureParentElement:futureParentElement})};return boundTranscludeFn}function collectDirectives(node,directives,attrs,maxPriority,ignoreDirective){var match,className,nodeType=node.nodeType,attrsMap=attrs.$attr;switch(nodeType){case NODE_TYPE_ELEMENT:addDirective(directives,directiveNormalize(nodeName_(node)),"E",maxPriority,ignoreDirective);for(var attr,name,nName,ngAttrName,value,isNgAttr,nAttrs=node.attributes,j=0,jj=nAttrs&&nAttrs.length;jj>j;j++){var attrStartName=!1,attrEndName=!1;attr=nAttrs[j],name=attr.name,value=trim(attr.value),ngAttrName=directiveNormalize(name),(isNgAttr=NG_ATTR_BINDING.test(ngAttrName))&&(name=name.replace(PREFIX_REGEXP,"").substr(8).replace(/_(.)/g,function(match,letter){return letter.toUpperCase()}));var directiveNName=ngAttrName.replace(/(Start|End)$/,"");directiveIsMultiElement(directiveNName)&&ngAttrName===directiveNName+"Start"&&(attrStartName=name,attrEndName=name.substr(0,name.length-5)+"end",name=name.substr(0,name.length-6)),nName=directiveNormalize(name.toLowerCase()),attrsMap[nName]=name,(isNgAttr||!attrs.hasOwnProperty(nName))&&(attrs[nName]=value,getBooleanAttrName(node,nName)&&(attrs[nName]=!0)),addAttrInterpolateDirective(node,directives,value,nName,isNgAttr),addDirective(directives,nName,"A",maxPriority,ignoreDirective,attrStartName,attrEndName)}if(className=node.className,isObject(className)&&(className=className.animVal),isString(className)&&""!==className)for(;match=CLASS_DIRECTIVE_REGEXP.exec(className);)nName=directiveNormalize(match[2]),addDirective(directives,nName,"C",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[3])),className=className.substr(match.index+match[0].length);break;case NODE_TYPE_TEXT:if(11===msie)for(;node.parentNode&&node.nextSibling&&node.nextSibling.nodeType===NODE_TYPE_TEXT;)node.nodeValue=node.nodeValue+node.nextSibling.nodeValue,node.parentNode.removeChild(node.nextSibling);addTextInterpolateDirective(directives,node.nodeValue);break;case NODE_TYPE_COMMENT:try{match=COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue),match&&(nName=directiveNormalize(match[1]),addDirective(directives,nName,"M",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[2])))}catch(e){}}return directives.sort(byPriority),directives}function groupScan(node,attrStart,attrEnd){var nodes=[],depth=0;if(attrStart&&node.hasAttribute&&node.hasAttribute(attrStart)){do{if(!node)throw $compileMinErr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",attrStart,attrEnd);node.nodeType==NODE_TYPE_ELEMENT&&(node.hasAttribute(attrStart)&&depth++,node.hasAttribute(attrEnd)&&depth--),nodes.push(node),node=node.nextSibling}while(depth>0)}else nodes.push(node);return jqLite(nodes)}function groupElementsLinkFnWrapper(linkFn,attrStart,attrEnd){return function(scope,element,attrs,controllers,transcludeFn){return element=groupScan(element[0],attrStart,attrEnd),linkFn(scope,element,attrs,controllers,transcludeFn)}}function applyDirectivesToNode(directives,compileNode,templateAttrs,transcludeFn,jqCollection,originalReplaceDirective,preLinkFns,postLinkFns,previousCompileContext){function addLinkFns(pre,post,attrStart,attrEnd){pre&&(attrStart&&(pre=groupElementsLinkFnWrapper(pre,attrStart,attrEnd)),pre.require=directive.require,pre.directiveName=directiveName,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(pre=cloneAndAnnotateFn(pre,{isolateScope:!0})),preLinkFns.push(pre)),post&&(attrStart&&(post=groupElementsLinkFnWrapper(post,attrStart,attrEnd)),post.require=directive.require,post.directiveName=directiveName,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(post=cloneAndAnnotateFn(post,{isolateScope:!0})),postLinkFns.push(post))}function getControllers(directiveName,require,$element,elementControllers){var value;if(isString(require)){var match=require.match(REQUIRE_PREFIX_REGEXP),name=require.substring(match[0].length),inheritType=match[1]||match[3],optional="?"===match[2];if("^^"===inheritType?$element=$element.parent():(value=elementControllers&&elementControllers[name],value=value&&value.instance),!value){var dataName="$"+name+"Controller";value=inheritType?$element.inheritedData(dataName):$element.data(dataName)}if(!value&&!optional)throw $compileMinErr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",name,directiveName)}else if(isArray(require)){value=[];for(var i=0,ii=require.length;ii>i;i++)value[i]=getControllers(directiveName,require[i],$element,elementControllers)}return value||null}function setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope){var elementControllers=createMap();for(var controllerKey in controllerDirectives){var directive=controllerDirectives[controllerKey],locals={$scope:directive===newIsolateScopeDirective||directive.$$isolateScope?isolateScope:scope,$element:$element,$attrs:attrs,$transclude:transcludeFn},controller=directive.controller;"@"==controller&&(controller=attrs[directive.name]);var controllerInstance=$controller(controller,locals,!0,directive.controllerAs);elementControllers[directive.name]=controllerInstance,hasElementTranscludeDirective||$element.data("$"+directive.name+"Controller",controllerInstance.instance)}return elementControllers}function nodeLinkFn(childLinkFn,scope,linkNode,$rootElement,boundTranscludeFn,thisLinkFn){function controllersBoundTransclude(scope,cloneAttachFn,futureParentElement){var transcludeControllers;return isScope(scope)||(futureParentElement=cloneAttachFn,cloneAttachFn=scope,scope=undefined),hasElementTranscludeDirective&&(transcludeControllers=elementControllers),futureParentElement||(futureParentElement=hasElementTranscludeDirective?$element.parent():$element),boundTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild)}var i,ii,linkFn,controller,isolateScope,elementControllers,transcludeFn,$element,attrs;if(compileNode===linkNode?(attrs=templateAttrs,$element=templateAttrs.$$element):($element=jqLite(linkNode),attrs=new Attributes($element,templateAttrs)),newIsolateScopeDirective&&(isolateScope=scope.$new(!0)),boundTranscludeFn&&(transcludeFn=controllersBoundTransclude,transcludeFn.$$boundTransclude=boundTranscludeFn),controllerDirectives&&(elementControllers=setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope)),newIsolateScopeDirective&&(compile.$$addScopeInfo($element,isolateScope,!0,!(templateDirective&&(templateDirective===newIsolateScopeDirective||templateDirective===newIsolateScopeDirective.$$originalDirective))),compile.$$addScopeClass($element,!0),isolateScope.$$isolateBindings=newIsolateScopeDirective.$$isolateBindings,initializeDirectiveBindings(scope,attrs,isolateScope,isolateScope.$$isolateBindings,newIsolateScopeDirective,isolateScope)),elementControllers){var bindings,controllerForBindings,scopeDirective=newIsolateScopeDirective||newScopeDirective;scopeDirective&&elementControllers[scopeDirective.name]&&(bindings=scopeDirective.$$bindings.bindToController,controller=elementControllers[scopeDirective.name],controller&&controller.identifier&&bindings&&(controllerForBindings=controller,thisLinkFn.$$destroyBindings=initializeDirectiveBindings(scope,attrs,controller.instance,bindings,scopeDirective)));for(i in elementControllers){controller=elementControllers[i];var controllerResult=controller();controllerResult!==controller.instance&&(controller.instance=controllerResult,$element.data("$"+i+"Controller",controllerResult),controller===controllerForBindings&&(thisLinkFn.$$destroyBindings(),thisLinkFn.$$destroyBindings=initializeDirectiveBindings(scope,attrs,controllerResult,bindings,scopeDirective)))}}for(i=0,ii=preLinkFns.length;ii>i;i++)linkFn=preLinkFns[i],invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn);var scopeToChild=scope;for(newIsolateScopeDirective&&(newIsolateScopeDirective.template||null===newIsolateScopeDirective.templateUrl)&&(scopeToChild=isolateScope),childLinkFn&&childLinkFn(scopeToChild,linkNode.childNodes,undefined,boundTranscludeFn),i=postLinkFns.length-1;i>=0;i--)linkFn=postLinkFns[i],invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn)}previousCompileContext=previousCompileContext||{};for(var directive,directiveName,$template,linkFn,directiveValue,terminalPriority=-Number.MAX_VALUE,newScopeDirective=previousCompileContext.newScopeDirective,controllerDirectives=previousCompileContext.controllerDirectives,newIsolateScopeDirective=previousCompileContext.newIsolateScopeDirective,templateDirective=previousCompileContext.templateDirective,nonTlbTranscludeDirective=previousCompileContext.nonTlbTranscludeDirective,hasTranscludeDirective=!1,hasTemplate=!1,hasElementTranscludeDirective=previousCompileContext.hasElementTranscludeDirective,$compileNode=templateAttrs.$$element=jqLite(compileNode),replaceDirective=originalReplaceDirective,childTranscludeFn=transcludeFn,i=0,ii=directives.length;ii>i;i++){directive=directives[i];var attrStart=directive.$$start,attrEnd=directive.$$end;if(attrStart&&($compileNode=groupScan(compileNode,attrStart,attrEnd)),$template=undefined,terminalPriority>directive.priority)break;if((directiveValue=directive.scope)&&(directive.templateUrl||(isObject(directiveValue)?(assertNoDuplicate("new/isolated scope",newIsolateScopeDirective||newScopeDirective,directive,$compileNode),newIsolateScopeDirective=directive):assertNoDuplicate("new/isolated scope",newIsolateScopeDirective,directive,$compileNode)),newScopeDirective=newScopeDirective||directive),directiveName=directive.name,!directive.templateUrl&&directive.controller&&(directiveValue=directive.controller,controllerDirectives=controllerDirectives||createMap(),assertNoDuplicate("'"+directiveName+"' controller",controllerDirectives[directiveName],directive,$compileNode),controllerDirectives[directiveName]=directive),(directiveValue=directive.transclude)&&(hasTranscludeDirective=!0,directive.$$tlb||(assertNoDuplicate("transclusion",nonTlbTranscludeDirective,directive,$compileNode),nonTlbTranscludeDirective=directive),"element"==directiveValue?(hasElementTranscludeDirective=!0,terminalPriority=directive.priority,$template=$compileNode,$compileNode=templateAttrs.$$element=jqLite(document.createComment(" "+directiveName+": "+templateAttrs[directiveName]+" ")),compileNode=$compileNode[0],replaceWith(jqCollection,sliceArgs($template),compileNode),childTranscludeFn=compile($template,transcludeFn,terminalPriority,replaceDirective&&replaceDirective.name,{nonTlbTranscludeDirective:nonTlbTranscludeDirective})):($template=jqLite(jqLiteClone(compileNode)).contents(),$compileNode.empty(),childTranscludeFn=compile($template,transcludeFn))),directive.template)if(hasTemplate=!0,assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directiveValue=isFunction(directive.template)?directive.template($compileNode,templateAttrs):directive.template,directiveValue=denormalizeTemplate(directiveValue),directive.replace){if(replaceDirective=directive,$template=jqLiteIsTextNode(directiveValue)?[]:removeComments(wrapTemplate(directive.templateNamespace,trim(directiveValue))),compileNode=$template[0],1!=$template.length||compileNode.nodeType!==NODE_TYPE_ELEMENT)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",directiveName,"");

replaceWith(jqCollection,$compileNode,compileNode);var newTemplateAttrs={$attr:{}},templateDirectives=collectDirectives(compileNode,[],newTemplateAttrs),unprocessedDirectives=directives.splice(i+1,directives.length-(i+1));newIsolateScopeDirective&&markDirectivesAsIsolate(templateDirectives),directives=directives.concat(templateDirectives).concat(unprocessedDirectives),mergeTemplateAttributes(templateAttrs,newTemplateAttrs),ii=directives.length}else $compileNode.html(directiveValue);if(directive.templateUrl)hasTemplate=!0,assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directive.replace&&(replaceDirective=directive),nodeLinkFn=compileTemplateUrl(directives.splice(i,directives.length-i),$compileNode,templateAttrs,jqCollection,hasTranscludeDirective&&childTranscludeFn,preLinkFns,postLinkFns,{controllerDirectives:controllerDirectives,newScopeDirective:newScopeDirective!==directive&&newScopeDirective,newIsolateScopeDirective:newIsolateScopeDirective,templateDirective:templateDirective,nonTlbTranscludeDirective:nonTlbTranscludeDirective}),ii=directives.length;else if(directive.compile)try{linkFn=directive.compile($compileNode,templateAttrs,childTranscludeFn),isFunction(linkFn)?addLinkFns(null,linkFn,attrStart,attrEnd):linkFn&&addLinkFns(linkFn.pre,linkFn.post,attrStart,attrEnd)}catch(e){$exceptionHandler(e,startingTag($compileNode))}directive.terminal&&(nodeLinkFn.terminal=!0,terminalPriority=Math.max(terminalPriority,directive.priority))}return nodeLinkFn.scope=newScopeDirective&&newScopeDirective.scope===!0,nodeLinkFn.transcludeOnThisElement=hasTranscludeDirective,nodeLinkFn.templateOnThisElement=hasTemplate,nodeLinkFn.transclude=childTranscludeFn,previousCompileContext.hasElementTranscludeDirective=hasElementTranscludeDirective,nodeLinkFn}function markDirectivesAsIsolate(directives){for(var j=0,jj=directives.length;jj>j;j++)directives[j]=inherit(directives[j],{$$isolateScope:!0})}function addDirective(tDirectives,name,location,maxPriority,ignoreDirective,startAttrName,endAttrName){if(name===ignoreDirective)return null;var match=null;if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;ii>i;i++)try{directive=directives[i],(maxPriority===undefined||maxPriority>directive.priority)&&-1!=directive.restrict.indexOf(location)&&(startAttrName&&(directive=inherit(directive,{$$start:startAttrName,$$end:endAttrName})),tDirectives.push(directive),match=directive)}catch(e){$exceptionHandler(e)}return match}function directiveIsMultiElement(name){if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;ii>i;i++)if(directive=directives[i],directive.multiElement)return!0;return!1}function mergeTemplateAttributes(dst,src){var srcAttr=src.$attr,dstAttr=dst.$attr,$element=dst.$$element;forEach(dst,function(value,key){"$"!=key.charAt(0)&&(src[key]&&src[key]!==value&&(value+=("style"===key?";":" ")+src[key]),dst.$set(key,value,!0,srcAttr[key]))}),forEach(src,function(value,key){"class"==key?(safeAddClass($element,value),dst["class"]=(dst["class"]?dst["class"]+" ":"")+value):"style"==key?($element.attr("style",$element.attr("style")+";"+value),dst.style=(dst.style?dst.style+";":"")+value):"$"==key.charAt(0)||dst.hasOwnProperty(key)||(dst[key]=value,dstAttr[key]=srcAttr[key])})}function compileTemplateUrl(directives,$compileNode,tAttrs,$rootElement,childTranscludeFn,preLinkFns,postLinkFns,previousCompileContext){var afterTemplateNodeLinkFn,afterTemplateChildLinkFn,linkQueue=[],beforeTemplateCompileNode=$compileNode[0],origAsyncDirective=directives.shift(),derivedSyncDirective=inherit(origAsyncDirective,{templateUrl:null,transclude:null,replace:null,$$originalDirective:origAsyncDirective}),templateUrl=isFunction(origAsyncDirective.templateUrl)?origAsyncDirective.templateUrl($compileNode,tAttrs):origAsyncDirective.templateUrl,templateNamespace=origAsyncDirective.templateNamespace;return $compileNode.empty(),$templateRequest(templateUrl).then(function(content){var compileNode,tempTemplateAttrs,$template,childBoundTranscludeFn;if(content=denormalizeTemplate(content),origAsyncDirective.replace){if($template=jqLiteIsTextNode(content)?[]:removeComments(wrapTemplate(templateNamespace,trim(content))),compileNode=$template[0],1!=$template.length||compileNode.nodeType!==NODE_TYPE_ELEMENT)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",origAsyncDirective.name,templateUrl);tempTemplateAttrs={$attr:{}},replaceWith($rootElement,$compileNode,compileNode);var templateDirectives=collectDirectives(compileNode,[],tempTemplateAttrs);isObject(origAsyncDirective.scope)&&markDirectivesAsIsolate(templateDirectives),directives=templateDirectives.concat(directives),mergeTemplateAttributes(tAttrs,tempTemplateAttrs)}else compileNode=beforeTemplateCompileNode,$compileNode.html(content);for(directives.unshift(derivedSyncDirective),afterTemplateNodeLinkFn=applyDirectivesToNode(directives,compileNode,tAttrs,childTranscludeFn,$compileNode,origAsyncDirective,preLinkFns,postLinkFns,previousCompileContext),forEach($rootElement,function(node,i){node==compileNode&&($rootElement[i]=$compileNode[0])}),afterTemplateChildLinkFn=compileNodes($compileNode[0].childNodes,childTranscludeFn);linkQueue.length;){var scope=linkQueue.shift(),beforeTemplateLinkNode=linkQueue.shift(),linkRootElement=linkQueue.shift(),boundTranscludeFn=linkQueue.shift(),linkNode=$compileNode[0];if(!scope.$$destroyed){if(beforeTemplateLinkNode!==beforeTemplateCompileNode){var oldClasses=beforeTemplateLinkNode.className;previousCompileContext.hasElementTranscludeDirective&&origAsyncDirective.replace||(linkNode=jqLiteClone(compileNode)),replaceWith(linkRootElement,jqLite(beforeTemplateLinkNode),linkNode),safeAddClass(jqLite(linkNode),oldClasses)}childBoundTranscludeFn=afterTemplateNodeLinkFn.transcludeOnThisElement?createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn):boundTranscludeFn,afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,linkNode,$rootElement,childBoundTranscludeFn,afterTemplateNodeLinkFn)}}linkQueue=null}),function(ignoreChildLinkFn,scope,node,rootElement,boundTranscludeFn){var childBoundTranscludeFn=boundTranscludeFn;scope.$$destroyed||(linkQueue?linkQueue.push(scope,node,rootElement,childBoundTranscludeFn):(afterTemplateNodeLinkFn.transcludeOnThisElement&&(childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn)),afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,node,rootElement,childBoundTranscludeFn,afterTemplateNodeLinkFn)))}}function byPriority(a,b){var diff=b.priority-a.priority;return 0!==diff?diff:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function assertNoDuplicate(what,previousDirective,directive,element){function wrapModuleNameIfDefined(moduleName){return moduleName?" (module: "+moduleName+")":""}if(previousDirective)throw $compileMinErr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",previousDirective.name,wrapModuleNameIfDefined(previousDirective.$$moduleName),directive.name,wrapModuleNameIfDefined(directive.$$moduleName),what,startingTag(element))}function addTextInterpolateDirective(directives,text){var interpolateFn=$interpolate(text,!0);interpolateFn&&directives.push({priority:0,compile:function(templateNode){var templateNodeParent=templateNode.parent(),hasCompileParent=!!templateNodeParent.length;return hasCompileParent&&compile.$$addBindingClass(templateNodeParent),function(scope,node){var parent=node.parent();hasCompileParent||compile.$$addBindingClass(parent),compile.$$addBindingInfo(parent,interpolateFn.expressions),scope.$watch(interpolateFn,function(value){node[0].nodeValue=value})}}})}function wrapTemplate(type,template){switch(type=lowercase(type||"html")){case"svg":case"math":var wrapper=document.createElement("div");return wrapper.innerHTML="<"+type+">"+template+"</"+type+">",wrapper.childNodes[0].childNodes;default:return template}}function getTrustedContext(node,attrNormalizedName){if("srcdoc"==attrNormalizedName)return $sce.HTML;var tag=nodeName_(node);return"xlinkHref"==attrNormalizedName||"form"==tag&&"action"==attrNormalizedName||"img"!=tag&&("src"==attrNormalizedName||"ngSrc"==attrNormalizedName)?$sce.RESOURCE_URL:void 0}function addAttrInterpolateDirective(node,directives,value,name,allOrNothing){var trustedContext=getTrustedContext(node,name);allOrNothing=ALL_OR_NOTHING_ATTRS[name]||allOrNothing;var interpolateFn=$interpolate(value,!0,trustedContext,allOrNothing);if(interpolateFn){if("multiple"===name&&"select"===nodeName_(node))throw $compileMinErr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(node));directives.push({priority:100,compile:function(){return{pre:function(scope,element,attr){var $$observers=attr.$$observers||(attr.$$observers={});if(EVENT_HANDLER_ATTR_REGEXP.test(name))throw $compileMinErr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var newValue=attr[name];newValue!==value&&(interpolateFn=newValue&&$interpolate(newValue,!0,trustedContext,allOrNothing),value=newValue),interpolateFn&&(attr[name]=interpolateFn(scope),($$observers[name]||($$observers[name]=[])).$$inter=!0,(attr.$$observers&&attr.$$observers[name].$$scope||scope).$watch(interpolateFn,function(newValue,oldValue){"class"===name&&newValue!=oldValue?attr.$updateClass(newValue,oldValue):attr.$set(name,newValue)}))}}}})}}function replaceWith($rootElement,elementsToRemove,newNode){var i,ii,firstElementToRemove=elementsToRemove[0],removeCount=elementsToRemove.length,parent=firstElementToRemove.parentNode;if($rootElement)for(i=0,ii=$rootElement.length;ii>i;i++)if($rootElement[i]==firstElementToRemove){$rootElement[i++]=newNode;for(var j=i,j2=j+removeCount-1,jj=$rootElement.length;jj>j;j++,j2++)jj>j2?$rootElement[j]=$rootElement[j2]:delete $rootElement[j];$rootElement.length-=removeCount-1,$rootElement.context===firstElementToRemove&&($rootElement.context=newNode);break}parent&&parent.replaceChild(newNode,firstElementToRemove);var fragment=document.createDocumentFragment();fragment.appendChild(firstElementToRemove),jqLite.hasData(firstElementToRemove)&&(jqLite(newNode).data(jqLite(firstElementToRemove).data()),jQuery?(skipDestroyOnNextJQueryCleanData=!0,jQuery.cleanData([firstElementToRemove])):delete jqLite.cache[firstElementToRemove[jqLite.expando]]);for(var k=1,kk=elementsToRemove.length;kk>k;k++){var element=elementsToRemove[k];jqLite(element).remove(),fragment.appendChild(element),delete elementsToRemove[k]}elementsToRemove[0]=newNode,elementsToRemove.length=1}function cloneAndAnnotateFn(fn,annotation){return extend(function(){return fn.apply(null,arguments)},fn,annotation)}function invokeLinkFn(linkFn,scope,$element,attrs,controllers,transcludeFn){try{linkFn(scope,$element,attrs,controllers,transcludeFn)}catch(e){$exceptionHandler(e,startingTag($element))}}function initializeDirectiveBindings(scope,attrs,destination,bindings,directive,newScope){var onNewScopeDestroyed;forEach(bindings,function(definition,scopeName){var lastValue,parentGet,parentSet,compare,attrName=definition.attrName,optional=definition.optional,mode=definition.mode;switch(mode){case"@":optional||hasOwnProperty.call(attrs,attrName)||(destination[scopeName]=attrs[attrName]=void 0),attrs.$observe(attrName,function(value){isString(value)&&(destination[scopeName]=value)}),attrs.$$observers[attrName].$$scope=scope,isString(attrs[attrName])&&(destination[scopeName]=$interpolate(attrs[attrName])(scope));break;case"=":if(!hasOwnProperty.call(attrs,attrName)){if(optional)break;attrs[attrName]=void 0}if(optional&&!attrs[attrName])break;parentGet=$parse(attrs[attrName]),compare=parentGet.literal?equals:function(a,b){return a===b||a!==a&&b!==b},parentSet=parentGet.assign||function(){throw lastValue=destination[scopeName]=parentGet(scope),$compileMinErr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",attrs[attrName],directive.name)},lastValue=destination[scopeName]=parentGet(scope);var parentValueWatch=function(parentValue){return compare(parentValue,destination[scopeName])||(compare(parentValue,lastValue)?parentSet(scope,parentValue=destination[scopeName]):destination[scopeName]=parentValue),lastValue=parentValue};parentValueWatch.$stateful=!0;var unwatch;unwatch=definition.collection?scope.$watchCollection(attrs[attrName],parentValueWatch):scope.$watch($parse(attrs[attrName],parentValueWatch),null,parentGet.literal),onNewScopeDestroyed=onNewScopeDestroyed||[],onNewScopeDestroyed.push(unwatch);break;case"&":if(parentGet=attrs.hasOwnProperty(attrName)?$parse(attrs[attrName]):noop,parentGet===noop&&optional)break;destination[scopeName]=function(locals){return parentGet(scope,locals)}}});var destroyBindings=onNewScopeDestroyed?function(){for(var i=0,ii=onNewScopeDestroyed.length;ii>i;++i)onNewScopeDestroyed[i]()}:noop;return newScope&&destroyBindings!==noop?(newScope.$on("$destroy",destroyBindings),noop):destroyBindings}var Attributes=function(element,attributesToCopy){if(attributesToCopy){var i,l,key,keys=Object.keys(attributesToCopy);for(i=0,l=keys.length;l>i;i++)key=keys[i],this[key]=attributesToCopy[key]}else this.$attr={};this.$$element=element};Attributes.prototype={$normalize:directiveNormalize,$addClass:function(classVal){classVal&&classVal.length>0&&$animate.addClass(this.$$element,classVal)},$removeClass:function(classVal){classVal&&classVal.length>0&&$animate.removeClass(this.$$element,classVal)},$updateClass:function(newClasses,oldClasses){var toAdd=tokenDifference(newClasses,oldClasses);toAdd&&toAdd.length&&$animate.addClass(this.$$element,toAdd);var toRemove=tokenDifference(oldClasses,newClasses);toRemove&&toRemove.length&&$animate.removeClass(this.$$element,toRemove)},$set:function(key,value,writeAttr,attrName){var nodeName,node=this.$$element[0],booleanKey=getBooleanAttrName(node,key),aliasedKey=getAliasedAttrName(node,key),observer=key;if(booleanKey?(this.$$element.prop(key,value),attrName=booleanKey):aliasedKey&&(this[aliasedKey]=value,observer=aliasedKey),this[key]=value,attrName?this.$attr[key]=attrName:(attrName=this.$attr[key],attrName||(this.$attr[key]=attrName=snake_case(key,"-"))),nodeName=nodeName_(this.$$element),"a"===nodeName&&"href"===key||"img"===nodeName&&"src"===key)this[key]=value=$$sanitizeUri(value,"src"===key);else if("img"===nodeName&&"srcset"===key){for(var result="",trimmedSrcset=trim(value),srcPattern=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,pattern=/\s/.test(trimmedSrcset)?srcPattern:/(,)/,rawUris=trimmedSrcset.split(pattern),nbrUrisWith2parts=Math.floor(rawUris.length/2),i=0;nbrUrisWith2parts>i;i++){var innerIdx=2*i;result+=$$sanitizeUri(trim(rawUris[innerIdx]),!0),result+=" "+trim(rawUris[innerIdx+1])}var lastTuple=trim(rawUris[2*i]).split(/\s/);result+=$$sanitizeUri(trim(lastTuple[0]),!0),2===lastTuple.length&&(result+=" "+trim(lastTuple[1])),this[key]=value=result}writeAttr!==!1&&(null===value||value===undefined?this.$$element.removeAttr(attrName):this.$$element.attr(attrName,value));var $$observers=this.$$observers;$$observers&&forEach($$observers[observer],function(fn){try{fn(value)}catch(e){$exceptionHandler(e)}})},$observe:function(key,fn){var attrs=this,$$observers=attrs.$$observers||(attrs.$$observers=createMap()),listeners=$$observers[key]||($$observers[key]=[]);return listeners.push(fn),$rootScope.$evalAsync(function(){listeners.$$inter||!attrs.hasOwnProperty(key)||isUndefined(attrs[key])||fn(attrs[key])}),function(){arrayRemove(listeners,fn)}}};var startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),denormalizeTemplate="{{"==startSymbol||"}}"==endSymbol?identity:function(template){return template.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol)},NG_ATTR_BINDING=/^ngAttr[A-Z]/;return compile.$$addBindingInfo=debugInfoEnabled?function($element,binding){var bindings=$element.data("$binding")||[];isArray(binding)?bindings=bindings.concat(binding):bindings.push(binding),$element.data("$binding",bindings)}:noop,compile.$$addBindingClass=debugInfoEnabled?function($element){safeAddClass($element,"ng-binding")}:noop,compile.$$addScopeInfo=debugInfoEnabled?function($element,scope,isolated,noTemplate){var dataName=isolated?noTemplate?"$isolateScopeNoTemplate":"$isolateScope":"$scope";$element.data(dataName,scope)}:noop,compile.$$addScopeClass=debugInfoEnabled?function($element,isolated){safeAddClass($element,isolated?"ng-isolate-scope":"ng-scope")}:noop,compile}]}function directiveNormalize(name){return camelCase(name.replace(PREFIX_REGEXP,""))}function tokenDifference(str1,str2){var values="",tokens1=str1.split(/\s+/),tokens2=str2.split(/\s+/);outer:for(var i=0;i<tokens1.length;i++){for(var token=tokens1[i],j=0;j<tokens2.length;j++)if(token==tokens2[j])continue outer;values+=(values.length>0?" ":"")+token}return values}function removeComments(jqNodes){jqNodes=jqLite(jqNodes);var i=jqNodes.length;if(1>=i)return jqNodes;for(;i--;){var node=jqNodes[i];node.nodeType===NODE_TYPE_COMMENT&&splice.call(jqNodes,i,1)}return jqNodes}function identifierForController(controller,ident){if(ident&&isString(ident))return ident;if(isString(controller)){var match=CNTRL_REG.exec(controller);if(match)return match[3]}}function $ControllerProvider(){var controllers={},globals=!1;this.register=function(name,constructor){assertNotHasOwnProperty(name,"controller"),isObject(name)?extend(controllers,name):controllers[name]=constructor},this.allowGlobals=function(){globals=!0},this.$get=["$injector","$window",function($injector,$window){function addIdentifier(locals,identifier,instance,name){if(!locals||!isObject(locals.$scope))throw minErr("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",name,identifier);locals.$scope[identifier]=instance}return function(expression,locals,later,ident){var instance,match,constructor,identifier;if(later=later===!0,ident&&isString(ident)&&(identifier=ident),isString(expression)){if(match=expression.match(CNTRL_REG),!match)throw $controllerMinErr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",expression);constructor=match[1],identifier=identifier||match[3],expression=controllers.hasOwnProperty(constructor)?controllers[constructor]:getter(locals.$scope,constructor,!0)||(globals?getter($window,constructor,!0):undefined),assertArgFn(expression,constructor,!0)}if(later){var controllerPrototype=(isArray(expression)?expression[expression.length-1]:expression).prototype;instance=Object.create(controllerPrototype||null),identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name);var instantiate;return instantiate=extend(function(){var result=$injector.invoke(expression,instance,locals,constructor);return result!==instance&&(isObject(result)||isFunction(result))&&(instance=result,identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name)),instance},{instance:instance,identifier:identifier})}return instance=$injector.instantiate(expression,locals,constructor),identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name),instance}}]}function $DocumentProvider(){this.$get=["$window",function(window){return jqLite(window.document)}]}function $ExceptionHandlerProvider(){this.$get=["$log",function($log){return function(exception,cause){$log.error.apply($log,arguments)}}]}function serializeValue(v){return isObject(v)?isDate(v)?v.toISOString():toJson(v):v}function $HttpParamSerializerProvider(){this.$get=function(){return function(params){if(!params)return"";var parts=[];return forEachSorted(params,function(value,key){null===value||isUndefined(value)||(isArray(value)?forEach(value,function(v,k){parts.push(encodeUriQuery(key)+"="+encodeUriQuery(serializeValue(v)))}):parts.push(encodeUriQuery(key)+"="+encodeUriQuery(serializeValue(value))))}),parts.join("&")}}}function $HttpParamSerializerJQLikeProvider(){this.$get=function(){return function(params){function serialize(toSerialize,prefix,topLevel){null===toSerialize||isUndefined(toSerialize)||(isArray(toSerialize)?forEach(toSerialize,function(value,index){serialize(value,prefix+"["+(isObject(value)?index:"")+"]")}):isObject(toSerialize)&&!isDate(toSerialize)?forEachSorted(toSerialize,function(value,key){serialize(value,prefix+(topLevel?"":"[")+key+(topLevel?"":"]"))}):parts.push(encodeUriQuery(prefix)+"="+encodeUriQuery(serializeValue(toSerialize))))}if(!params)return"";var parts=[];return serialize(params,"",!0),parts.join("&")}}}function defaultHttpResponseTransform(data,headers){if(isString(data)){var tempData=data.replace(JSON_PROTECTION_PREFIX,"").trim();if(tempData){var contentType=headers("Content-Type");(contentType&&0===contentType.indexOf(APPLICATION_JSON)||isJsonLike(tempData))&&(data=fromJson(tempData))}}return data}function isJsonLike(str){var jsonStart=str.match(JSON_START);return jsonStart&&JSON_ENDS[jsonStart[0]].test(str)}function parseHeaders(headers){function fillInParsed(key,val){key&&(parsed[key]=parsed[key]?parsed[key]+", "+val:val)}var i,parsed=createMap();return isString(headers)?forEach(headers.split("\n"),function(line){i=line.indexOf(":"),fillInParsed(lowercase(trim(line.substr(0,i))),trim(line.substr(i+1)))}):isObject(headers)&&forEach(headers,function(headerVal,headerKey){fillInParsed(lowercase(headerKey),trim(headerVal))}),parsed}function headersGetter(headers){var headersObj;return function(name){if(headersObj||(headersObj=parseHeaders(headers)),name){var value=headersObj[lowercase(name)];return void 0===value&&(value=null),value}return headersObj}}function transformData(data,headers,status,fns){return isFunction(fns)?fns(data,headers,status):(forEach(fns,function(fn){data=fn(data,headers,status)}),data)}function isSuccess(status){return status>=200&&300>status}function $HttpProvider(){var defaults=this.defaults={transformResponse:[defaultHttpResponseTransform],transformRequest:[function(d){return!isObject(d)||isFile(d)||isBlob(d)||isFormData(d)?d:toJson(d)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),put:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),patch:shallowCopy(CONTENT_TYPE_APPLICATION_JSON)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},useApplyAsync=!1;this.useApplyAsync=function(value){return isDefined(value)?(useApplyAsync=!!value,this):useApplyAsync};var useLegacyPromise=!0;this.useLegacyPromiseExtensions=function(value){return isDefined(value)?(useLegacyPromise=!!value,this):useLegacyPromise};var interceptorFactories=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function($httpBackend,$$cookieReader,$cacheFactory,$rootScope,$q,$injector){function $http(requestConfig){function transformResponse(response){var resp=extend({},response);return resp.data=response.data?transformData(response.data,response.headers,response.status,config.transformResponse):response.data,isSuccess(response.status)?resp:$q.reject(resp)}function executeHeaderFns(headers,config){var headerContent,processedHeaders={};return forEach(headers,function(headerFn,header){isFunction(headerFn)?(headerContent=headerFn(config),null!=headerContent&&(processedHeaders[header]=headerContent)):processedHeaders[header]=headerFn}),processedHeaders}function mergeHeaders(config){var defHeaderName,lowercaseDefHeaderName,reqHeaderName,defHeaders=defaults.headers,reqHeaders=extend({},config.headers);defHeaders=extend({},defHeaders.common,defHeaders[lowercase(config.method)]);defaultHeadersIteration:for(defHeaderName in defHeaders){lowercaseDefHeaderName=lowercase(defHeaderName);for(reqHeaderName in reqHeaders)if(lowercase(reqHeaderName)===lowercaseDefHeaderName)continue defaultHeadersIteration;reqHeaders[defHeaderName]=defHeaders[defHeaderName]}return executeHeaderFns(reqHeaders,shallowCopy(config))}if(!angular.isObject(requestConfig))throw minErr("$http")("badreq","Http request configuration must be an object.  Received: {0}",requestConfig);var config=extend({method:"get",transformRequest:defaults.transformRequest,transformResponse:defaults.transformResponse,paramSerializer:defaults.paramSerializer},requestConfig);config.headers=mergeHeaders(requestConfig),config.method=uppercase(config.method),config.paramSerializer=isString(config.paramSerializer)?$injector.get(config.paramSerializer):config.paramSerializer;var serverRequest=function(config){var headers=config.headers,reqData=transformData(config.data,headersGetter(headers),undefined,config.transformRequest);return isUndefined(reqData)&&forEach(headers,function(value,header){"content-type"===lowercase(header)&&delete headers[header]}),isUndefined(config.withCredentials)&&!isUndefined(defaults.withCredentials)&&(config.withCredentials=defaults.withCredentials),sendReq(config,reqData).then(transformResponse,transformResponse)},chain=[serverRequest,undefined],promise=$q.when(config);for(forEach(reversedInterceptors,function(interceptor){(interceptor.request||interceptor.requestError)&&chain.unshift(interceptor.request,interceptor.requestError),(interceptor.response||interceptor.responseError)&&chain.push(interceptor.response,interceptor.responseError)});chain.length;){var thenFn=chain.shift(),rejectFn=chain.shift();promise=promise.then(thenFn,rejectFn)}return useLegacyPromise?(promise.success=function(fn){return assertArgFn(fn,"fn"),promise.then(function(response){fn(response.data,response.status,response.headers,config)}),promise},promise.error=function(fn){return assertArgFn(fn,"fn"),promise.then(null,function(response){fn(response.data,response.status,response.headers,config)}),promise}):(promise.success=$httpMinErrLegacyFn("success"),promise.error=$httpMinErrLegacyFn("error")),promise}function createShortMethods(names){forEach(arguments,function(name){$http[name]=function(url,config){return $http(extend({},config||{},{method:name,url:url}))}})}function createShortMethodsWithData(name){forEach(arguments,function(name){$http[name]=function(url,data,config){return $http(extend({},config||{},{method:name,url:url,data:data}))}})}function sendReq(config,reqData){function done(status,response,headersString,statusText){function resolveHttpPromise(){resolvePromise(response,status,headersString,statusText)}cache&&(isSuccess(status)?cache.put(url,[status,response,parseHeaders(headersString),statusText]):cache.remove(url)),useApplyAsync?$rootScope.$applyAsync(resolveHttpPromise):(resolveHttpPromise(),$rootScope.$$phase||$rootScope.$apply())}function resolvePromise(response,status,headers,statusText){status=Math.max(status,0),(isSuccess(status)?deferred.resolve:deferred.reject)({data:response,status:status,headers:headersGetter(headers),config:config,statusText:statusText})}function resolvePromiseWithResult(result){resolvePromise(result.data,result.status,shallowCopy(result.headers()),result.statusText)}function removePendingReq(){var idx=$http.pendingRequests.indexOf(config);-1!==idx&&$http.pendingRequests.splice(idx,1)}var cache,cachedResp,deferred=$q.defer(),promise=deferred.promise,reqHeaders=config.headers,url=buildUrl(config.url,config.paramSerializer(config.params));if($http.pendingRequests.push(config),promise.then(removePendingReq,removePendingReq),!config.cache&&!defaults.cache||config.cache===!1||"GET"!==config.method&&"JSONP"!==config.method||(cache=isObject(config.cache)?config.cache:isObject(defaults.cache)?defaults.cache:defaultCache),cache&&(cachedResp=cache.get(url),isDefined(cachedResp)?isPromiseLike(cachedResp)?cachedResp.then(resolvePromiseWithResult,resolvePromiseWithResult):isArray(cachedResp)?resolvePromise(cachedResp[1],cachedResp[0],shallowCopy(cachedResp[2]),cachedResp[3]):resolvePromise(cachedResp,200,{},"OK"):cache.put(url,promise)),isUndefined(cachedResp)){var xsrfValue=urlIsSameOrigin(config.url)?$$cookieReader()[config.xsrfCookieName||defaults.xsrfCookieName]:undefined;xsrfValue&&(reqHeaders[config.xsrfHeaderName||defaults.xsrfHeaderName]=xsrfValue),$httpBackend(config.method,url,reqData,done,reqHeaders,config.timeout,config.withCredentials,config.responseType)}return promise}function buildUrl(url,serializedParams){return serializedParams.length>0&&(url+=(-1==url.indexOf("?")?"?":"&")+serializedParams),url}var defaultCache=$cacheFactory("$http");defaults.paramSerializer=isString(defaults.paramSerializer)?$injector.get(defaults.paramSerializer):defaults.paramSerializer;var reversedInterceptors=[];return forEach(interceptorFactories,function(interceptorFactory){reversedInterceptors.unshift(isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory))}),$http.pendingRequests=[],createShortMethods("get","delete","head","jsonp"),createShortMethodsWithData("post","put","patch"),$http.defaults=defaults,$http}]}function createXhr(){return new window.XMLHttpRequest}function $HttpBackendProvider(){this.$get=["$browser","$window","$document",function($browser,$window,$document){return createHttpBackend($browser,createXhr,$browser.defer,$window.angular.callbacks,$document[0])}]}function createHttpBackend($browser,createXhr,$browserDefer,callbacks,rawDocument){function jsonpReq(url,callbackId,done){var script=rawDocument.createElement("script"),callback=null;return script.type="text/javascript",script.src=url,script.async=!0,callback=function(event){removeEventListenerFn(script,"load",callback),removeEventListenerFn(script,"error",callback),rawDocument.body.removeChild(script),script=null;var status=-1,text="unknown";event&&("load"!==event.type||callbacks[callbackId].called||(event={type:"error"}),text=event.type,status="error"===event.type?404:200),done&&done(status,text)},addEventListenerFn(script,"load",callback),addEventListenerFn(script,"error",callback),rawDocument.body.appendChild(script),callback}return function(method,url,post,callback,headers,timeout,withCredentials,responseType){function timeoutRequest(){jsonpDone&&jsonpDone(),xhr&&xhr.abort()}function completeRequest(callback,status,response,headersString,statusText){timeoutId!==undefined&&$browserDefer.cancel(timeoutId),jsonpDone=xhr=null,callback(status,response,headersString,statusText),$browser.$$completeOutstandingRequest(noop)}if($browser.$$incOutstandingRequestCount(),url=url||$browser.url(),"jsonp"==lowercase(method)){var callbackId="_"+(callbacks.counter++).toString(36);callbacks[callbackId]=function(data){callbacks[callbackId].data=data,callbacks[callbackId].called=!0};var jsonpDone=jsonpReq(url.replace("JSON_CALLBACK","angular.callbacks."+callbackId),callbackId,function(status,text){completeRequest(callback,status,callbacks[callbackId].data,"",text),callbacks[callbackId]=noop})}else{var xhr=createXhr();xhr.open(method,url,!0),forEach(headers,function(value,key){isDefined(value)&&xhr.setRequestHeader(key,value)}),xhr.onload=function(){var statusText=xhr.statusText||"",response="response"in xhr?xhr.response:xhr.responseText,status=1223===xhr.status?204:xhr.status;0===status&&(status=response?200:"file"==urlResolve(url).protocol?404:0),completeRequest(callback,status,response,xhr.getAllResponseHeaders(),statusText)};var requestError=function(){completeRequest(callback,-1,null,null,"")};if(xhr.onerror=requestError,xhr.onabort=requestError,withCredentials&&(xhr.withCredentials=!0),responseType)try{xhr.responseType=responseType}catch(e){if("json"!==responseType)throw e}xhr.send(post)}if(timeout>0)var timeoutId=$browserDefer(timeoutRequest,timeout);else isPromiseLike(timeout)&&timeout.then(timeoutRequest)}}function $InterpolateProvider(){var startSymbol="{{",endSymbol="}}";this.startSymbol=function(value){return value?(startSymbol=value,this):startSymbol},this.endSymbol=function(value){return value?(endSymbol=value,this):endSymbol},this.$get=["$parse","$exceptionHandler","$sce",function($parse,$exceptionHandler,$sce){
function escape(ch){return"\\\\\\"+ch}function unescapeText(text){return text.replace(escapedStartRegexp,startSymbol).replace(escapedEndRegexp,endSymbol)}function stringify(value){if(null==value)return"";switch(typeof value){case"string":break;case"number":value=""+value;break;default:value=toJson(value)}return value}function $interpolate(text,mustHaveExpression,trustedContext,allOrNothing){function parseStringifyInterceptor(value){try{return value=getValue(value),allOrNothing&&!isDefined(value)?value:stringify(value)}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err))}}allOrNothing=!!allOrNothing;for(var startIndex,endIndex,exp,index=0,expressions=[],parseFns=[],textLength=text.length,concat=[],expressionPositions=[];textLength>index;){if(-1==(startIndex=text.indexOf(startSymbol,index))||-1==(endIndex=text.indexOf(endSymbol,startIndex+startSymbolLength))){index!==textLength&&concat.push(unescapeText(text.substring(index)));break}index!==startIndex&&concat.push(unescapeText(text.substring(index,startIndex))),exp=text.substring(startIndex+startSymbolLength,endIndex),expressions.push(exp),parseFns.push($parse(exp,parseStringifyInterceptor)),index=endIndex+endSymbolLength,expressionPositions.push(concat.length),concat.push("")}if(trustedContext&&concat.length>1&&$interpolateMinErr.throwNoconcat(text),!mustHaveExpression||expressions.length){var compute=function(values){for(var i=0,ii=expressions.length;ii>i;i++){if(allOrNothing&&isUndefined(values[i]))return;concat[expressionPositions[i]]=values[i]}return concat.join("")},getValue=function(value){return trustedContext?$sce.getTrusted(trustedContext,value):$sce.valueOf(value)};return extend(function(context){var i=0,ii=expressions.length,values=new Array(ii);try{for(;ii>i;i++)values[i]=parseFns[i](context);return compute(values)}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err))}},{exp:text,expressions:expressions,$$watchDelegate:function(scope,listener){var lastValue;return scope.$watchGroup(parseFns,function(values,oldValues){var currValue=compute(values);isFunction(listener)&&listener.call(this,currValue,values!==oldValues?lastValue:currValue,scope),lastValue=currValue})}})}}var startSymbolLength=startSymbol.length,endSymbolLength=endSymbol.length,escapedStartRegexp=new RegExp(startSymbol.replace(/./g,escape),"g"),escapedEndRegexp=new RegExp(endSymbol.replace(/./g,escape),"g");return $interpolate.startSymbol=function(){return startSymbol},$interpolate.endSymbol=function(){return endSymbol},$interpolate}]}function $IntervalProvider(){this.$get=["$rootScope","$window","$q","$$q",function($rootScope,$window,$q,$$q){function interval(fn,delay,count,invokeApply){var hasParams=arguments.length>4,args=hasParams?sliceArgs(arguments,4):[],setInterval=$window.setInterval,clearInterval=$window.clearInterval,iteration=0,skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;return count=isDefined(count)?count:0,promise.then(null,null,hasParams?function(){fn.apply(null,args)}:fn),promise.$$intervalId=setInterval(function(){deferred.notify(iteration++),count>0&&iteration>=count&&(deferred.resolve(iteration),clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId]),skipApply||$rootScope.$apply()},delay),intervals[promise.$$intervalId]=deferred,promise}var intervals={};return interval.cancel=function(promise){return promise&&promise.$$intervalId in intervals?(intervals[promise.$$intervalId].reject("canceled"),$window.clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId],!0):!1},interval}]}function encodePath(path){for(var segments=path.split("/"),i=segments.length;i--;)segments[i]=encodeUriSegment(segments[i]);return segments.join("/")}function parseAbsoluteUrl(absoluteUrl,locationObj){var parsedUrl=urlResolve(absoluteUrl);locationObj.$$protocol=parsedUrl.protocol,locationObj.$$host=parsedUrl.hostname,locationObj.$$port=toInt(parsedUrl.port)||DEFAULT_PORTS[parsedUrl.protocol]||null}function parseAppUrl(relativeUrl,locationObj){var prefixed="/"!==relativeUrl.charAt(0);prefixed&&(relativeUrl="/"+relativeUrl);var match=urlResolve(relativeUrl);locationObj.$$path=decodeURIComponent(prefixed&&"/"===match.pathname.charAt(0)?match.pathname.substring(1):match.pathname),locationObj.$$search=parseKeyValue(match.search),locationObj.$$hash=decodeURIComponent(match.hash),locationObj.$$path&&"/"!=locationObj.$$path.charAt(0)&&(locationObj.$$path="/"+locationObj.$$path)}function beginsWith(begin,whole){return 0===whole.indexOf(begin)?whole.substr(begin.length):void 0}function stripHash(url){var index=url.indexOf("#");return-1==index?url:url.substr(0,index)}function trimEmptyHash(url){return url.replace(/(#.+)|#$/,"$1")}function stripFile(url){return url.substr(0,stripHash(url).lastIndexOf("/")+1)}function serverBase(url){return url.substring(0,url.indexOf("/",url.indexOf("//")+2))}function LocationHtml5Url(appBase,appBaseNoFile,basePrefix){this.$$html5=!0,basePrefix=basePrefix||"",parseAbsoluteUrl(appBase,this),this.$$parse=function(url){var pathUrl=beginsWith(appBaseNoFile,url);if(!isString(pathUrl))throw $locationMinErr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',url,appBaseNoFile);parseAppUrl(pathUrl,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBaseNoFile+this.$$url.substr(1)},this.$$parseLinkUrl=function(url,relHref){if(relHref&&"#"===relHref[0])return this.hash(relHref.slice(1)),!0;var appUrl,prevAppUrl,rewrittenUrl;return(appUrl=beginsWith(appBase,url))!==undefined?(prevAppUrl=appUrl,rewrittenUrl=(appUrl=beginsWith(basePrefix,appUrl))!==undefined?appBaseNoFile+(beginsWith("/",appUrl)||appUrl):appBase+prevAppUrl):(appUrl=beginsWith(appBaseNoFile,url))!==undefined?rewrittenUrl=appBaseNoFile+appUrl:appBaseNoFile==url+"/"&&(rewrittenUrl=appBaseNoFile),rewrittenUrl&&this.$$parse(rewrittenUrl),!!rewrittenUrl}}function LocationHashbangUrl(appBase,appBaseNoFile,hashPrefix){parseAbsoluteUrl(appBase,this),this.$$parse=function(url){function removeWindowsDriveName(path,url,base){var firstPathSegmentMatch,windowsFilePathExp=/^\/[A-Z]:(\/.*)/;return 0===url.indexOf(base)&&(url=url.replace(base,"")),windowsFilePathExp.exec(url)?path:(firstPathSegmentMatch=windowsFilePathExp.exec(path),firstPathSegmentMatch?firstPathSegmentMatch[1]:path)}var withoutHashUrl,withoutBaseUrl=beginsWith(appBase,url)||beginsWith(appBaseNoFile,url);isUndefined(withoutBaseUrl)||"#"!==withoutBaseUrl.charAt(0)?this.$$html5?withoutHashUrl=withoutBaseUrl:(withoutHashUrl="",isUndefined(withoutBaseUrl)&&(appBase=url,this.replace())):(withoutHashUrl=beginsWith(hashPrefix,withoutBaseUrl),isUndefined(withoutHashUrl)&&(withoutHashUrl=withoutBaseUrl)),parseAppUrl(withoutHashUrl,this),this.$$path=removeWindowsDriveName(this.$$path,withoutHashUrl,appBase),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+(this.$$url?hashPrefix+this.$$url:"")},this.$$parseLinkUrl=function(url,relHref){return stripHash(appBase)==stripHash(url)?(this.$$parse(url),!0):!1}}function LocationHashbangInHtml5Url(appBase,appBaseNoFile,hashPrefix){this.$$html5=!0,LocationHashbangUrl.apply(this,arguments),this.$$parseLinkUrl=function(url,relHref){if(relHref&&"#"===relHref[0])return this.hash(relHref.slice(1)),!0;var rewrittenUrl,appUrl;return appBase==stripHash(url)?rewrittenUrl=url:(appUrl=beginsWith(appBaseNoFile,url))?rewrittenUrl=appBase+hashPrefix+appUrl:appBaseNoFile===url+"/"&&(rewrittenUrl=appBaseNoFile),rewrittenUrl&&this.$$parse(rewrittenUrl),!!rewrittenUrl},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+hashPrefix+this.$$url}}function locationGetter(property){return function(){return this[property]}}function locationGetterSetter(property,preprocess){return function(value){return isUndefined(value)?this[property]:(this[property]=preprocess(value),this.$$compose(),this)}}function $LocationProvider(){var hashPrefix="",html5Mode={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(prefix){return isDefined(prefix)?(hashPrefix=prefix,this):hashPrefix},this.html5Mode=function(mode){return isBoolean(mode)?(html5Mode.enabled=mode,this):isObject(mode)?(isBoolean(mode.enabled)&&(html5Mode.enabled=mode.enabled),isBoolean(mode.requireBase)&&(html5Mode.requireBase=mode.requireBase),isBoolean(mode.rewriteLinks)&&(html5Mode.rewriteLinks=mode.rewriteLinks),this):html5Mode},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function($rootScope,$browser,$sniffer,$rootElement,$window){function setBrowserUrlWithFallback(url,replace,state){var oldUrl=$location.url(),oldState=$location.$$state;try{$browser.url(url,replace,state),$location.$$state=$browser.state()}catch(e){throw $location.url(oldUrl),$location.$$state=oldState,e}}function afterLocationChange(oldUrl,oldState){$rootScope.$broadcast("$locationChangeSuccess",$location.absUrl(),oldUrl,$location.$$state,oldState)}var $location,LocationMode,appBase,baseHref=$browser.baseHref(),initialUrl=$browser.url();if(html5Mode.enabled){if(!baseHref&&html5Mode.requireBase)throw $locationMinErr("nobase","$location in HTML5 mode requires a <base> tag to be present!");appBase=serverBase(initialUrl)+(baseHref||"/"),LocationMode=$sniffer.history?LocationHtml5Url:LocationHashbangInHtml5Url}else appBase=stripHash(initialUrl),LocationMode=LocationHashbangUrl;var appBaseNoFile=stripFile(appBase);$location=new LocationMode(appBase,appBaseNoFile,"#"+hashPrefix),$location.$$parseLinkUrl(initialUrl,initialUrl),$location.$$state=$browser.state();var IGNORE_URI_REGEXP=/^\s*(javascript|mailto):/i;$rootElement.on("click",function(event){if(html5Mode.rewriteLinks&&!event.ctrlKey&&!event.metaKey&&!event.shiftKey&&2!=event.which&&2!=event.button){for(var elm=jqLite(event.target);"a"!==nodeName_(elm[0]);)if(elm[0]===$rootElement[0]||!(elm=elm.parent())[0])return;var absHref=elm.prop("href"),relHref=elm.attr("href")||elm.attr("xlink:href");isObject(absHref)&&"[object SVGAnimatedString]"===absHref.toString()&&(absHref=urlResolve(absHref.animVal).href),IGNORE_URI_REGEXP.test(absHref)||!absHref||elm.attr("target")||event.isDefaultPrevented()||$location.$$parseLinkUrl(absHref,relHref)&&(event.preventDefault(),$location.absUrl()!=$browser.url()&&($rootScope.$apply(),$window.angular["ff-684208-preventDefault"]=!0))}}),trimEmptyHash($location.absUrl())!=trimEmptyHash(initialUrl)&&$browser.url($location.absUrl(),!0);var initializing=!0;return $browser.onUrlChange(function(newUrl,newState){return isUndefined(beginsWith(appBaseNoFile,newUrl))?void($window.location.href=newUrl):($rootScope.$evalAsync(function(){var defaultPrevented,oldUrl=$location.absUrl(),oldState=$location.$$state;$location.$$parse(newUrl),$location.$$state=newState,defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,newState,oldState).defaultPrevented,$location.absUrl()===newUrl&&(defaultPrevented?($location.$$parse(oldUrl),$location.$$state=oldState,setBrowserUrlWithFallback(oldUrl,!1,oldState)):(initializing=!1,afterLocationChange(oldUrl,oldState)))}),void($rootScope.$$phase||$rootScope.$digest()))}),$rootScope.$watch(function(){var oldUrl=trimEmptyHash($browser.url()),newUrl=trimEmptyHash($location.absUrl()),oldState=$browser.state(),currentReplace=$location.$$replace,urlOrStateChanged=oldUrl!==newUrl||$location.$$html5&&$sniffer.history&&oldState!==$location.$$state;(initializing||urlOrStateChanged)&&(initializing=!1,$rootScope.$evalAsync(function(){var newUrl=$location.absUrl(),defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,$location.$$state,oldState).defaultPrevented;$location.absUrl()===newUrl&&(defaultPrevented?($location.$$parse(oldUrl),$location.$$state=oldState):(urlOrStateChanged&&setBrowserUrlWithFallback(newUrl,currentReplace,oldState===$location.$$state?null:$location.$$state),afterLocationChange(oldUrl,oldState)))})),$location.$$replace=!1}),$location}]}function $LogProvider(){var debug=!0,self=this;this.debugEnabled=function(flag){return isDefined(flag)?(debug=flag,this):debug},this.$get=["$window",function($window){function formatError(arg){return arg instanceof Error&&(arg.stack?arg=arg.message&&-1===arg.stack.indexOf(arg.message)?"Error: "+arg.message+"\n"+arg.stack:arg.stack:arg.sourceURL&&(arg=arg.message+"\n"+arg.sourceURL+":"+arg.line)),arg}function consoleLog(type){var console=$window.console||{},logFn=console[type]||console.log||noop,hasApply=!1;try{hasApply=!!logFn.apply}catch(e){}return hasApply?function(){var args=[];return forEach(arguments,function(arg){args.push(formatError(arg))}),logFn.apply(console,args)}:function(arg1,arg2){logFn(arg1,null==arg2?"":arg2)}}return{log:consoleLog("log"),info:consoleLog("info"),warn:consoleLog("warn"),error:consoleLog("error"),debug:function(){var fn=consoleLog("debug");return function(){debug&&fn.apply(self,arguments)}}()}}]}function ensureSafeMemberName(name,fullExpression){if("__defineGetter__"===name||"__defineSetter__"===name||"__lookupGetter__"===name||"__lookupSetter__"===name||"__proto__"===name)throw $parseMinErr("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",fullExpression);return name}function ensureSafeObject(obj,fullExpression){if(obj){if(obj.constructor===obj)throw $parseMinErr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj.window===obj)throw $parseMinErr("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj.children&&(obj.nodeName||obj.prop&&obj.attr&&obj.find))throw $parseMinErr("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj===Object)throw $parseMinErr("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",fullExpression)}return obj}function ensureSafeFunction(obj,fullExpression){if(obj){if(obj.constructor===obj)throw $parseMinErr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj===CALL||obj===APPLY||obj===BIND)throw $parseMinErr("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",fullExpression)}}function ifDefined(v,d){return"undefined"!=typeof v?v:d}function plusFn(l,r){return"undefined"==typeof l?r:"undefined"==typeof r?l:l+r}function isStateless($filter,filterName){var fn=$filter(filterName);return!fn.$stateful}function findConstantAndWatchExpressions(ast,$filter){var allConstants,argsToWatch;switch(ast.type){case AST.Program:allConstants=!0,forEach(ast.body,function(expr){findConstantAndWatchExpressions(expr.expression,$filter),allConstants=allConstants&&expr.expression.constant}),ast.constant=allConstants;break;case AST.Literal:ast.constant=!0,ast.toWatch=[];break;case AST.UnaryExpression:findConstantAndWatchExpressions(ast.argument,$filter),ast.constant=ast.argument.constant,ast.toWatch=ast.argument.toWatch;break;case AST.BinaryExpression:findConstantAndWatchExpressions(ast.left,$filter),findConstantAndWatchExpressions(ast.right,$filter),ast.constant=ast.left.constant&&ast.right.constant,ast.toWatch=ast.left.toWatch.concat(ast.right.toWatch);break;case AST.LogicalExpression:findConstantAndWatchExpressions(ast.left,$filter),findConstantAndWatchExpressions(ast.right,$filter),ast.constant=ast.left.constant&&ast.right.constant,ast.toWatch=ast.constant?[]:[ast];break;case AST.ConditionalExpression:findConstantAndWatchExpressions(ast.test,$filter),findConstantAndWatchExpressions(ast.alternate,$filter),findConstantAndWatchExpressions(ast.consequent,$filter),ast.constant=ast.test.constant&&ast.alternate.constant&&ast.consequent.constant,ast.toWatch=ast.constant?[]:[ast];break;case AST.Identifier:ast.constant=!1,ast.toWatch=[ast];break;case AST.MemberExpression:findConstantAndWatchExpressions(ast.object,$filter),ast.computed&&findConstantAndWatchExpressions(ast.property,$filter),ast.constant=ast.object.constant&&(!ast.computed||ast.property.constant),ast.toWatch=[ast];break;case AST.CallExpression:allConstants=ast.filter?isStateless($filter,ast.callee.name):!1,argsToWatch=[],forEach(ast.arguments,function(expr){findConstantAndWatchExpressions(expr,$filter),allConstants=allConstants&&expr.constant,expr.constant||argsToWatch.push.apply(argsToWatch,expr.toWatch)}),ast.constant=allConstants,ast.toWatch=ast.filter&&isStateless($filter,ast.callee.name)?argsToWatch:[ast];break;case AST.AssignmentExpression:findConstantAndWatchExpressions(ast.left,$filter),findConstantAndWatchExpressions(ast.right,$filter),ast.constant=ast.left.constant&&ast.right.constant,ast.toWatch=[ast];break;case AST.ArrayExpression:allConstants=!0,argsToWatch=[],forEach(ast.elements,function(expr){findConstantAndWatchExpressions(expr,$filter),allConstants=allConstants&&expr.constant,expr.constant||argsToWatch.push.apply(argsToWatch,expr.toWatch)}),ast.constant=allConstants,ast.toWatch=argsToWatch;break;case AST.ObjectExpression:allConstants=!0,argsToWatch=[],forEach(ast.properties,function(property){findConstantAndWatchExpressions(property.value,$filter),allConstants=allConstants&&property.value.constant,property.value.constant||argsToWatch.push.apply(argsToWatch,property.value.toWatch)}),ast.constant=allConstants,ast.toWatch=argsToWatch;break;case AST.ThisExpression:ast.constant=!1,ast.toWatch=[]}}function getInputs(body){if(1==body.length){var lastExpression=body[0].expression,candidate=lastExpression.toWatch;return 1!==candidate.length?candidate:candidate[0]!==lastExpression?candidate:undefined}}function isAssignable(ast){return ast.type===AST.Identifier||ast.type===AST.MemberExpression}function assignableAST(ast){return 1===ast.body.length&&isAssignable(ast.body[0].expression)?{type:AST.AssignmentExpression,left:ast.body[0].expression,right:{type:AST.NGValueParameter},operator:"="}:void 0}function isLiteral(ast){return 0===ast.body.length||1===ast.body.length&&(ast.body[0].expression.type===AST.Literal||ast.body[0].expression.type===AST.ArrayExpression||ast.body[0].expression.type===AST.ObjectExpression)}function isConstant(ast){return ast.constant}function ASTCompiler(astBuilder,$filter){this.astBuilder=astBuilder,this.$filter=$filter}function ASTInterpreter(astBuilder,$filter){this.astBuilder=astBuilder,this.$filter=$filter}function isPossiblyDangerousMemberName(name){return"constructor"==name}function getValueOf(value){return isFunction(value.valueOf)?value.valueOf():objectValueOf.call(value)}function $ParseProvider(){var cacheDefault=createMap(),cacheExpensive=createMap();this.$get=["$filter",function($filter){function expressionInputDirtyCheck(newValue,oldValueOfValue){return null==newValue||null==oldValueOfValue?newValue===oldValueOfValue:"object"==typeof newValue&&(newValue=getValueOf(newValue),"object"==typeof newValue)?!1:newValue===oldValueOfValue||newValue!==newValue&&oldValueOfValue!==oldValueOfValue}function inputsWatchDelegate(scope,listener,objectEquality,parsedExpression,prettyPrintExpression){var lastResult,inputExpressions=parsedExpression.inputs;if(1===inputExpressions.length){var oldInputValueOf=expressionInputDirtyCheck;return inputExpressions=inputExpressions[0],scope.$watch(function(scope){var newInputValue=inputExpressions(scope);return expressionInputDirtyCheck(newInputValue,oldInputValueOf)||(lastResult=parsedExpression(scope,undefined,undefined,[newInputValue]),oldInputValueOf=newInputValue&&getValueOf(newInputValue)),lastResult},listener,objectEquality,prettyPrintExpression)}for(var oldInputValueOfValues=[],oldInputValues=[],i=0,ii=inputExpressions.length;ii>i;i++)oldInputValueOfValues[i]=expressionInputDirtyCheck,oldInputValues[i]=null;return scope.$watch(function(scope){for(var changed=!1,i=0,ii=inputExpressions.length;ii>i;i++){var newInputValue=inputExpressions[i](scope);(changed||(changed=!expressionInputDirtyCheck(newInputValue,oldInputValueOfValues[i])))&&(oldInputValues[i]=newInputValue,oldInputValueOfValues[i]=newInputValue&&getValueOf(newInputValue))}return changed&&(lastResult=parsedExpression(scope,undefined,undefined,oldInputValues)),lastResult},listener,objectEquality,prettyPrintExpression)}function oneTimeWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch,lastValue;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(value,old,scope){lastValue=value,isFunction(listener)&&listener.apply(this,arguments),isDefined(value)&&scope.$$postDigest(function(){isDefined(lastValue)&&unwatch()})},objectEquality)}function oneTimeLiteralWatchDelegate(scope,listener,objectEquality,parsedExpression){function isAllDefined(value){var allDefined=!0;return forEach(value,function(val){isDefined(val)||(allDefined=!1)}),allDefined}var unwatch,lastValue;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(value,old,scope){lastValue=value,isFunction(listener)&&listener.call(this,value,old,scope),isAllDefined(value)&&scope.$$postDigest(function(){isAllDefined(lastValue)&&unwatch()})},objectEquality)}function constantWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(value,old,scope){isFunction(listener)&&listener.apply(this,arguments),unwatch()},objectEquality)}function addInterceptor(parsedExpression,interceptorFn){if(!interceptorFn)return parsedExpression;var watchDelegate=parsedExpression.$$watchDelegate,regularWatch=watchDelegate!==oneTimeLiteralWatchDelegate&&watchDelegate!==oneTimeWatchDelegate,fn=regularWatch?function(scope,locals,assign,inputs){var value=parsedExpression(scope,locals,assign,inputs);return interceptorFn(value,scope,locals)}:function(scope,locals,assign,inputs){var value=parsedExpression(scope,locals,assign,inputs),result=interceptorFn(value,scope,locals);return isDefined(value)?result:value};return parsedExpression.$$watchDelegate&&parsedExpression.$$watchDelegate!==inputsWatchDelegate?fn.$$watchDelegate=parsedExpression.$$watchDelegate:interceptorFn.$stateful||(fn.$$watchDelegate=inputsWatchDelegate,fn.inputs=parsedExpression.inputs?parsedExpression.inputs:[parsedExpression]),fn}var noUnsafeEval=csp().noUnsafeEval,$parseOptions={csp:noUnsafeEval,expensiveChecks:!1},$parseOptionsExpensive={csp:noUnsafeEval,expensiveChecks:!0};return function(exp,interceptorFn,expensiveChecks){var parsedExpression,oneTime,cacheKey;switch(typeof exp){case"string":exp=exp.trim(),cacheKey=exp;var cache=expensiveChecks?cacheExpensive:cacheDefault;if(parsedExpression=cache[cacheKey],!parsedExpression){":"===exp.charAt(0)&&":"===exp.charAt(1)&&(oneTime=!0,exp=exp.substring(2));var parseOptions=expensiveChecks?$parseOptionsExpensive:$parseOptions,lexer=new Lexer(parseOptions),parser=new Parser(lexer,$filter,parseOptions);parsedExpression=parser.parse(exp),parsedExpression.constant?parsedExpression.$$watchDelegate=constantWatchDelegate:oneTime?parsedExpression.$$watchDelegate=parsedExpression.literal?oneTimeLiteralWatchDelegate:oneTimeWatchDelegate:parsedExpression.inputs&&(parsedExpression.$$watchDelegate=inputsWatchDelegate),cache[cacheKey]=parsedExpression}return addInterceptor(parsedExpression,interceptorFn);case"function":return addInterceptor(exp,interceptorFn);default:return noop}}}]}function $QProvider(){this.$get=["$rootScope","$exceptionHandler",function($rootScope,$exceptionHandler){return qFactory(function(callback){$rootScope.$evalAsync(callback)},$exceptionHandler)}]}function $$QProvider(){this.$get=["$browser","$exceptionHandler",function($browser,$exceptionHandler){return qFactory(function(callback){$browser.defer(callback)},$exceptionHandler)}]}function qFactory(nextTick,exceptionHandler){function callOnce(self,resolveFn,rejectFn){function wrap(fn){return function(value){called||(called=!0,fn.call(self,value))}}var called=!1;return[wrap(resolveFn),wrap(rejectFn)]}function Promise(){this.$$state={status:0}}function simpleBind(context,fn){return function(value){fn.call(context,value)}}function processQueue(state){var fn,deferred,pending;pending=state.pending,state.processScheduled=!1,state.pending=undefined;for(var i=0,ii=pending.length;ii>i;++i){deferred=pending[i][0],fn=pending[i][state.status];try{isFunction(fn)?deferred.resolve(fn(state.value)):1===state.status?deferred.resolve(state.value):deferred.reject(state.value)}catch(e){deferred.reject(e),exceptionHandler(e)}}}function scheduleProcessQueue(state){!state.processScheduled&&state.pending&&(state.processScheduled=!0,nextTick(function(){processQueue(state)}))}function Deferred(){this.promise=new Promise,this.resolve=simpleBind(this,this.resolve),this.reject=simpleBind(this,this.reject),this.notify=simpleBind(this,this.notify)}function all(promises){var deferred=new Deferred,counter=0,results=isArray(promises)?[]:{};return forEach(promises,function(promise,key){counter++,when(promise).then(function(value){results.hasOwnProperty(key)||(results[key]=value,--counter||deferred.resolve(results))},function(reason){results.hasOwnProperty(key)||deferred.reject(reason)})}),0===counter&&deferred.resolve(results),deferred.promise}var $qMinErr=minErr("$q",TypeError),defer=function(){return new Deferred};extend(Promise.prototype,{then:function(onFulfilled,onRejected,progressBack){if(isUndefined(onFulfilled)&&isUndefined(onRejected)&&isUndefined(progressBack))return this;var result=new Deferred;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([result,onFulfilled,onRejected,progressBack]),this.$$state.status>0&&scheduleProcessQueue(this.$$state),result.promise},"catch":function(callback){return this.then(null,callback)},"finally":function(callback,progressBack){return this.then(function(value){return handleCallback(value,!0,callback)},function(error){return handleCallback(error,!1,callback)},progressBack)}}),extend(Deferred.prototype,{resolve:function(val){this.promise.$$state.status||(val===this.promise?this.$$reject($qMinErr("qcycle","Expected promise to be resolved with value other than itself '{0}'",val)):this.$$resolve(val))},$$resolve:function(val){var then,fns;fns=callOnce(this,this.$$resolve,this.$$reject);try{(isObject(val)||isFunction(val))&&(then=val&&val.then),isFunction(then)?(this.promise.$$state.status=-1,then.call(val,fns[0],fns[1],this.notify)):(this.promise.$$state.value=val,this.promise.$$state.status=1,scheduleProcessQueue(this.promise.$$state))}catch(e){fns[1](e),exceptionHandler(e)}},reject:function(reason){this.promise.$$state.status||this.$$reject(reason)},$$reject:function(reason){this.promise.$$state.value=reason,this.promise.$$state.status=2,scheduleProcessQueue(this.promise.$$state)},notify:function(progress){var callbacks=this.promise.$$state.pending;this.promise.$$state.status<=0&&callbacks&&callbacks.length&&nextTick(function(){for(var callback,result,i=0,ii=callbacks.length;ii>i;i++){result=callbacks[i][0],callback=callbacks[i][3];try{result.notify(isFunction(callback)?callback(progress):progress)}catch(e){exceptionHandler(e)}}})}});var reject=function(reason){var result=new Deferred;return result.reject(reason),result.promise},makePromise=function(value,resolved){var result=new Deferred;return resolved?result.resolve(value):result.reject(value),result.promise},handleCallback=function(value,isResolved,callback){var callbackOutput=null;try{isFunction(callback)&&(callbackOutput=callback())}catch(e){return makePromise(e,!1)}return isPromiseLike(callbackOutput)?callbackOutput.then(function(){return makePromise(value,isResolved)},function(error){return makePromise(error,!1)}):makePromise(value,isResolved)},when=function(value,callback,errback,progressBack){var result=new Deferred;return result.resolve(value),result.promise.then(callback,errback,progressBack)},resolve=when,$Q=function Q(resolver){function resolveFn(value){deferred.resolve(value)}function rejectFn(reason){deferred.reject(reason)}if(!isFunction(resolver))throw $qMinErr("norslvr","Expected resolverFn, got '{0}'",resolver);if(!(this instanceof Q))return new Q(resolver);var deferred=new Deferred;return resolver(resolveFn,rejectFn),deferred.promise};return $Q.defer=defer,$Q.reject=reject,$Q.when=when,$Q.resolve=resolve,$Q.all=all,$Q}function $$RAFProvider(){this.$get=["$window","$timeout",function($window,$timeout){var requestAnimationFrame=$window.requestAnimationFrame||$window.webkitRequestAnimationFrame,cancelAnimationFrame=$window.cancelAnimationFrame||$window.webkitCancelAnimationFrame||$window.webkitCancelRequestAnimationFrame,rafSupported=!!requestAnimationFrame,raf=rafSupported?function(fn){var id=requestAnimationFrame(fn);return function(){cancelAnimationFrame(id)}}:function(fn){var timer=$timeout(fn,16.66,!1);return function(){$timeout.cancel(timer)}};return raf.supported=rafSupported,raf}]}function $RootScopeProvider(){function createChildScopeClass(parent){function ChildScope(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=nextUid(),this.$$ChildScope=null}return ChildScope.prototype=parent,ChildScope}var TTL=10,$rootScopeMinErr=minErr("$rootScope"),lastDirtyWatch=null,applyAsyncId=null;this.digestTtl=function(value){return arguments.length&&(TTL=value),TTL},this.$get=["$injector","$exceptionHandler","$parse","$browser",function($injector,$exceptionHandler,$parse,$browser){function destroyChildScope($event){$event.currentScope.$$destroyed=!0}function Scope(){this.$id=nextUid(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function beginPhase(phase){if($rootScope.$$phase)throw $rootScopeMinErr("inprog","{0} already in progress",$rootScope.$$phase);$rootScope.$$phase=phase}function clearPhase(){$rootScope.$$phase=null}function incrementWatchersCount(current,count){do current.$$watchersCount+=count;while(current=current.$parent)}function decrementListenerCount(current,count,name){do current.$$listenerCount[name]-=count,0===current.$$listenerCount[name]&&delete current.$$listenerCount[name];while(current=current.$parent)}function initWatchVal(){}function flushApplyAsync(){for(;applyAsyncQueue.length;)try{applyAsyncQueue.shift()()}catch(e){$exceptionHandler(e)}applyAsyncId=null}function scheduleApplyAsync(){null===applyAsyncId&&(applyAsyncId=$browser.defer(function(){$rootScope.$apply(flushApplyAsync)}))}Scope.prototype={constructor:Scope,$new:function(isolate,parent){var child;return parent=parent||this,isolate?(child=new Scope,child.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=createChildScopeClass(this)),child=new this.$$ChildScope),child.$parent=parent,child.$$prevSibling=parent.$$childTail,parent.$$childHead?(parent.$$childTail.$$nextSibling=child,parent.$$childTail=child):parent.$$childHead=parent.$$childTail=child,(isolate||parent!=this)&&child.$on("$destroy",destroyChildScope),child},$watch:function(watchExp,listener,objectEquality,prettyPrintExpression){var get=$parse(watchExp);if(get.$$watchDelegate)return get.$$watchDelegate(this,listener,objectEquality,get,watchExp);var scope=this,array=scope.$$watchers,watcher={fn:listener,last:initWatchVal,get:get,exp:prettyPrintExpression||watchExp,eq:!!objectEquality};return lastDirtyWatch=null,isFunction(listener)||(watcher.fn=noop),array||(array=scope.$$watchers=[]),array.unshift(watcher),incrementWatchersCount(this,1),function(){arrayRemove(array,watcher)>=0&&incrementWatchersCount(scope,-1),
lastDirtyWatch=null}},$watchGroup:function(watchExpressions,listener){function watchGroupAction(){changeReactionScheduled=!1,firstRun?(firstRun=!1,listener(newValues,newValues,self)):listener(newValues,oldValues,self)}var oldValues=new Array(watchExpressions.length),newValues=new Array(watchExpressions.length),deregisterFns=[],self=this,changeReactionScheduled=!1,firstRun=!0;if(!watchExpressions.length){var shouldCall=!0;return self.$evalAsync(function(){shouldCall&&listener(newValues,newValues,self)}),function(){shouldCall=!1}}return 1===watchExpressions.length?this.$watch(watchExpressions[0],function(value,oldValue,scope){newValues[0]=value,oldValues[0]=oldValue,listener(newValues,value===oldValue?newValues:oldValues,scope)}):(forEach(watchExpressions,function(expr,i){var unwatchFn=self.$watch(expr,function(value,oldValue){newValues[i]=value,oldValues[i]=oldValue,changeReactionScheduled||(changeReactionScheduled=!0,self.$evalAsync(watchGroupAction))});deregisterFns.push(unwatchFn)}),function(){for(;deregisterFns.length;)deregisterFns.shift()()})},$watchCollection:function(obj,listener){function $watchCollectionInterceptor(_value){newValue=_value;var newLength,key,bothNaN,newItem,oldItem;if(!isUndefined(newValue)){if(isObject(newValue))if(isArrayLike(newValue)){oldValue!==internalArray&&(oldValue=internalArray,oldLength=oldValue.length=0,changeDetected++),newLength=newValue.length,oldLength!==newLength&&(changeDetected++,oldValue.length=oldLength=newLength);for(var i=0;newLength>i;i++)oldItem=oldValue[i],newItem=newValue[i],bothNaN=oldItem!==oldItem&&newItem!==newItem,bothNaN||oldItem===newItem||(changeDetected++,oldValue[i]=newItem)}else{oldValue!==internalObject&&(oldValue=internalObject={},oldLength=0,changeDetected++),newLength=0;for(key in newValue)newValue.hasOwnProperty(key)&&(newLength++,newItem=newValue[key],oldItem=oldValue[key],key in oldValue?(bothNaN=oldItem!==oldItem&&newItem!==newItem,bothNaN||oldItem===newItem||(changeDetected++,oldValue[key]=newItem)):(oldLength++,oldValue[key]=newItem,changeDetected++));if(oldLength>newLength){changeDetected++;for(key in oldValue)newValue.hasOwnProperty(key)||(oldLength--,delete oldValue[key])}}else oldValue!==newValue&&(oldValue=newValue,changeDetected++);return changeDetected}}function $watchCollectionAction(){if(initRun?(initRun=!1,listener(newValue,newValue,self)):listener(newValue,veryOldValue,self),trackVeryOldValue)if(isObject(newValue))if(isArrayLike(newValue)){veryOldValue=new Array(newValue.length);for(var i=0;i<newValue.length;i++)veryOldValue[i]=newValue[i]}else{veryOldValue={};for(var key in newValue)hasOwnProperty.call(newValue,key)&&(veryOldValue[key]=newValue[key])}else veryOldValue=newValue}$watchCollectionInterceptor.$stateful=!0;var newValue,oldValue,veryOldValue,self=this,trackVeryOldValue=listener.length>1,changeDetected=0,changeDetector=$parse(obj,$watchCollectionInterceptor),internalArray=[],internalObject={},initRun=!0,oldLength=0;return this.$watch(changeDetector,$watchCollectionAction)},$digest:function(){var watch,value,last,watchers,length,dirty,next,current,logIdx,asyncTask,ttl=TTL,target=this,watchLog=[];beginPhase("$digest"),$browser.$$checkUrlChange(),this===$rootScope&&null!==applyAsyncId&&($browser.defer.cancel(applyAsyncId),flushApplyAsync()),lastDirtyWatch=null;do{for(dirty=!1,current=target;asyncQueue.length;){try{asyncTask=asyncQueue.shift(),asyncTask.scope.$eval(asyncTask.expression,asyncTask.locals)}catch(e){$exceptionHandler(e)}lastDirtyWatch=null}traverseScopesLoop:do{if(watchers=current.$$watchers)for(length=watchers.length;length--;)try{if(watch=watchers[length])if((value=watch.get(current))===(last=watch.last)||(watch.eq?equals(value,last):"number"==typeof value&&"number"==typeof last&&isNaN(value)&&isNaN(last))){if(watch===lastDirtyWatch){dirty=!1;break traverseScopesLoop}}else dirty=!0,lastDirtyWatch=watch,watch.last=watch.eq?copy(value,null):value,watch.fn(value,last===initWatchVal?value:last,current),5>ttl&&(logIdx=4-ttl,watchLog[logIdx]||(watchLog[logIdx]=[]),watchLog[logIdx].push({msg:isFunction(watch.exp)?"fn: "+(watch.exp.name||watch.exp.toString()):watch.exp,newVal:value,oldVal:last}))}catch(e){$exceptionHandler(e)}if(!(next=current.$$watchersCount&&current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}while(current=next);if((dirty||asyncQueue.length)&&!ttl--)throw clearPhase(),$rootScopeMinErr("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",TTL,watchLog)}while(dirty||asyncQueue.length);for(clearPhase();postDigestQueue.length;)try{postDigestQueue.shift()()}catch(e){$exceptionHandler(e)}},$destroy:function(){if(!this.$$destroyed){var parent=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===$rootScope&&$browser.$$applicationDestroyed(),incrementWatchersCount(this,-this.$$watchersCount);for(var eventName in this.$$listenerCount)decrementListenerCount(this,this.$$listenerCount[eventName],eventName);parent&&parent.$$childHead==this&&(parent.$$childHead=this.$$nextSibling),parent&&parent.$$childTail==this&&(parent.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=noop,this.$on=this.$watch=this.$watchGroup=function(){return noop},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(expr,locals){return $parse(expr)(this,locals)},$evalAsync:function(expr,locals){$rootScope.$$phase||asyncQueue.length||$browser.defer(function(){asyncQueue.length&&$rootScope.$digest()}),asyncQueue.push({scope:this,expression:expr,locals:locals})},$$postDigest:function(fn){postDigestQueue.push(fn)},$apply:function(expr){try{beginPhase("$apply");try{return this.$eval(expr)}finally{clearPhase()}}catch(e){$exceptionHandler(e)}finally{try{$rootScope.$digest()}catch(e){throw $exceptionHandler(e),e}}},$applyAsync:function(expr){function $applyAsyncExpression(){scope.$eval(expr)}var scope=this;expr&&applyAsyncQueue.push($applyAsyncExpression),scheduleApplyAsync()},$on:function(name,listener){var namedListeners=this.$$listeners[name];namedListeners||(this.$$listeners[name]=namedListeners=[]),namedListeners.push(listener);var current=this;do current.$$listenerCount[name]||(current.$$listenerCount[name]=0),current.$$listenerCount[name]++;while(current=current.$parent);var self=this;return function(){var indexOfListener=namedListeners.indexOf(listener);-1!==indexOfListener&&(namedListeners[indexOfListener]=null,decrementListenerCount(self,1,name))}},$emit:function(name,args){var namedListeners,i,length,empty=[],scope=this,stopPropagation=!1,event={name:name,targetScope:scope,stopPropagation:function(){stopPropagation=!0},preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1},listenerArgs=concat([event],arguments,1);do{for(namedListeners=scope.$$listeners[name]||empty,event.currentScope=scope,i=0,length=namedListeners.length;length>i;i++)if(namedListeners[i])try{namedListeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else namedListeners.splice(i,1),i--,length--;if(stopPropagation)return event.currentScope=null,event;scope=scope.$parent}while(scope);return event.currentScope=null,event},$broadcast:function(name,args){var target=this,current=target,next=target,event={name:name,targetScope:target,preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1};if(!target.$$listenerCount[name])return event;for(var listeners,i,length,listenerArgs=concat([event],arguments,1);current=next;){for(event.currentScope=current,listeners=current.$$listeners[name]||[],i=0,length=listeners.length;length>i;i++)if(listeners[i])try{listeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else listeners.splice(i,1),i--,length--;if(!(next=current.$$listenerCount[name]&&current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}return event.currentScope=null,event}};var $rootScope=new Scope,asyncQueue=$rootScope.$$asyncQueue=[],postDigestQueue=$rootScope.$$postDigestQueue=[],applyAsyncQueue=$rootScope.$$applyAsyncQueue=[];return $rootScope}]}function $$SanitizeUriProvider(){var aHrefSanitizationWhitelist=/^\s*(https?|ftp|mailto|tel|file):/,imgSrcSanitizationWhitelist=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?(aHrefSanitizationWhitelist=regexp,this):aHrefSanitizationWhitelist},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?(imgSrcSanitizationWhitelist=regexp,this):imgSrcSanitizationWhitelist},this.$get=function(){return function(uri,isImage){var normalizedVal,regex=isImage?imgSrcSanitizationWhitelist:aHrefSanitizationWhitelist;return normalizedVal=urlResolve(uri).href,""===normalizedVal||normalizedVal.match(regex)?uri:"unsafe:"+normalizedVal}}}function adjustMatcher(matcher){if("self"===matcher)return matcher;if(isString(matcher)){if(matcher.indexOf("***")>-1)throw $sceMinErr("iwcard","Illegal sequence *** in string matcher.  String: {0}",matcher);return matcher=escapeForRegexp(matcher).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+matcher+"$")}if(isRegExp(matcher))return new RegExp("^"+matcher.source+"$");throw $sceMinErr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function adjustMatchers(matchers){var adjustedMatchers=[];return isDefined(matchers)&&forEach(matchers,function(matcher){adjustedMatchers.push(adjustMatcher(matcher))}),adjustedMatchers}function $SceDelegateProvider(){this.SCE_CONTEXTS=SCE_CONTEXTS;var resourceUrlWhitelist=["self"],resourceUrlBlacklist=[];this.resourceUrlWhitelist=function(value){return arguments.length&&(resourceUrlWhitelist=adjustMatchers(value)),resourceUrlWhitelist},this.resourceUrlBlacklist=function(value){return arguments.length&&(resourceUrlBlacklist=adjustMatchers(value)),resourceUrlBlacklist},this.$get=["$injector",function($injector){function matchUrl(matcher,parsedUrl){return"self"===matcher?urlIsSameOrigin(parsedUrl):!!matcher.exec(parsedUrl.href)}function isResourceUrlAllowedByPolicy(url){var i,n,parsedUrl=urlResolve(url.toString()),allowed=!1;for(i=0,n=resourceUrlWhitelist.length;n>i;i++)if(matchUrl(resourceUrlWhitelist[i],parsedUrl)){allowed=!0;break}if(allowed)for(i=0,n=resourceUrlBlacklist.length;n>i;i++)if(matchUrl(resourceUrlBlacklist[i],parsedUrl)){allowed=!1;break}return allowed}function generateHolderType(Base){var holderType=function(trustedValue){this.$$unwrapTrustedValue=function(){return trustedValue}};return Base&&(holderType.prototype=new Base),holderType.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},holderType.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},holderType}function trustAs(type,trustedValue){var Constructor=byType.hasOwnProperty(type)?byType[type]:null;if(!Constructor)throw $sceMinErr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",type,trustedValue);if(null===trustedValue||trustedValue===undefined||""===trustedValue)return trustedValue;if("string"!=typeof trustedValue)throw $sceMinErr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",type);return new Constructor(trustedValue)}function valueOf(maybeTrusted){return maybeTrusted instanceof trustedValueHolderBase?maybeTrusted.$$unwrapTrustedValue():maybeTrusted}function getTrusted(type,maybeTrusted){if(null===maybeTrusted||maybeTrusted===undefined||""===maybeTrusted)return maybeTrusted;var constructor=byType.hasOwnProperty(type)?byType[type]:null;if(constructor&&maybeTrusted instanceof constructor)return maybeTrusted.$$unwrapTrustedValue();if(type===SCE_CONTEXTS.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(maybeTrusted))return maybeTrusted;throw $sceMinErr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",maybeTrusted.toString())}if(type===SCE_CONTEXTS.HTML)return htmlSanitizer(maybeTrusted);throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")}var htmlSanitizer=function(html){throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")};$injector.has("$sanitize")&&(htmlSanitizer=$injector.get("$sanitize"));var trustedValueHolderBase=generateHolderType(),byType={};return byType[SCE_CONTEXTS.HTML]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.CSS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.URL]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.JS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.RESOURCE_URL]=generateHolderType(byType[SCE_CONTEXTS.URL]),{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf}}]}function $SceProvider(){var enabled=!0;this.enabled=function(value){return arguments.length&&(enabled=!!value),enabled},this.$get=["$parse","$sceDelegate",function($parse,$sceDelegate){if(enabled&&8>msie)throw $sceMinErr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var sce=shallowCopy(SCE_CONTEXTS);sce.isEnabled=function(){return enabled},sce.trustAs=$sceDelegate.trustAs,sce.getTrusted=$sceDelegate.getTrusted,sce.valueOf=$sceDelegate.valueOf,enabled||(sce.trustAs=sce.getTrusted=function(type,value){return value},sce.valueOf=identity),sce.parseAs=function(type,expr){var parsed=$parse(expr);return parsed.literal&&parsed.constant?parsed:$parse(expr,function(value){return sce.getTrusted(type,value)})};var parse=sce.parseAs,getTrusted=sce.getTrusted,trustAs=sce.trustAs;return forEach(SCE_CONTEXTS,function(enumValue,name){var lName=lowercase(name);sce[camelCase("parse_as_"+lName)]=function(expr){return parse(enumValue,expr)},sce[camelCase("get_trusted_"+lName)]=function(value){return getTrusted(enumValue,value)},sce[camelCase("trust_as_"+lName)]=function(value){return trustAs(enumValue,value)}}),sce}]}function $SnifferProvider(){this.$get=["$window","$document",function($window,$document){var vendorPrefix,match,eventSupport={},android=toInt((/android (\d+)/.exec(lowercase(($window.navigator||{}).userAgent))||[])[1]),boxee=/Boxee/i.test(($window.navigator||{}).userAgent),document=$document[0]||{},vendorRegex=/^(Moz|webkit|ms)(?=[A-Z])/,bodyStyle=document.body&&document.body.style,transitions=!1,animations=!1;if(bodyStyle){for(var prop in bodyStyle)if(match=vendorRegex.exec(prop)){vendorPrefix=match[0],vendorPrefix=vendorPrefix.substr(0,1).toUpperCase()+vendorPrefix.substr(1);break}vendorPrefix||(vendorPrefix="WebkitOpacity"in bodyStyle&&"webkit"),transitions=!!("transition"in bodyStyle||vendorPrefix+"Transition"in bodyStyle),animations=!!("animation"in bodyStyle||vendorPrefix+"Animation"in bodyStyle),!android||transitions&&animations||(transitions=isString(bodyStyle.webkitTransition),animations=isString(bodyStyle.webkitAnimation))}return{history:!(!$window.history||!$window.history.pushState||4>android||boxee),hasEvent:function(event){if("input"===event&&11>=msie)return!1;if(isUndefined(eventSupport[event])){var divElm=document.createElement("div");eventSupport[event]="on"+event in divElm}return eventSupport[event]},csp:csp(),vendorPrefix:vendorPrefix,transitions:transitions,animations:animations,android:android}}]}function $TemplateRequestProvider(){this.$get=["$templateCache","$http","$q","$sce",function($templateCache,$http,$q,$sce){function handleRequestFn(tpl,ignoreRequestError){function handleError(resp){if(!ignoreRequestError)throw $compileMinErr("tpload","Failed to load template: {0} (HTTP status: {1} {2})",tpl,resp.status,resp.statusText);return $q.reject(resp)}handleRequestFn.totalPendingRequests++,isString(tpl)&&$templateCache.get(tpl)||(tpl=$sce.getTrustedResourceUrl(tpl));var transformResponse=$http.defaults&&$http.defaults.transformResponse;isArray(transformResponse)?transformResponse=transformResponse.filter(function(transformer){return transformer!==defaultHttpResponseTransform}):transformResponse===defaultHttpResponseTransform&&(transformResponse=null);var httpOptions={cache:$templateCache,transformResponse:transformResponse};return $http.get(tpl,httpOptions)["finally"](function(){handleRequestFn.totalPendingRequests--}).then(function(response){return $templateCache.put(tpl,response.data),response.data},handleError)}return handleRequestFn.totalPendingRequests=0,handleRequestFn}]}function $$TestabilityProvider(){this.$get=["$rootScope","$browser","$location",function($rootScope,$browser,$location){var testability={};return testability.findBindings=function(element,expression,opt_exactMatch){var bindings=element.getElementsByClassName("ng-binding"),matches=[];return forEach(bindings,function(binding){var dataBinding=angular.element(binding).data("$binding");dataBinding&&forEach(dataBinding,function(bindingName){if(opt_exactMatch){var matcher=new RegExp("(^|\\s)"+escapeForRegexp(expression)+"(\\s|\\||$)");matcher.test(bindingName)&&matches.push(binding)}else-1!=bindingName.indexOf(expression)&&matches.push(binding)})}),matches},testability.findModels=function(element,expression,opt_exactMatch){for(var prefixes=["ng-","data-ng-","ng\\:"],p=0;p<prefixes.length;++p){var attributeEquals=opt_exactMatch?"=":"*=",selector="["+prefixes[p]+"model"+attributeEquals+'"'+expression+'"]',elements=element.querySelectorAll(selector);if(elements.length)return elements}},testability.getLocation=function(){return $location.url()},testability.setLocation=function(url){url!==$location.url()&&($location.url(url),$rootScope.$digest())},testability.whenStable=function(callback){$browser.notifyWhenNoOutstandingRequests(callback)},testability}]}function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function($rootScope,$browser,$q,$$q,$exceptionHandler){function timeout(fn,delay,invokeApply){isFunction(fn)||(invokeApply=delay,delay=fn,fn=noop);var timeoutId,args=sliceArgs(arguments,3),skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;return timeoutId=$browser.defer(function(){try{deferred.resolve(fn.apply(null,args))}catch(e){deferred.reject(e),$exceptionHandler(e)}finally{delete deferreds[promise.$$timeoutId]}skipApply||$rootScope.$apply()},delay),promise.$$timeoutId=timeoutId,deferreds[timeoutId]=deferred,promise}var deferreds={};return timeout.cancel=function(promise){return promise&&promise.$$timeoutId in deferreds?(deferreds[promise.$$timeoutId].reject("canceled"),delete deferreds[promise.$$timeoutId],$browser.defer.cancel(promise.$$timeoutId)):!1},timeout}]}function urlResolve(url){var href=url;return msie&&(urlParsingNode.setAttribute("href",href),href=urlParsingNode.href),urlParsingNode.setAttribute("href",href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}function urlIsSameOrigin(requestUrl){var parsed=isString(requestUrl)?urlResolve(requestUrl):requestUrl;return parsed.protocol===originUrl.protocol&&parsed.host===originUrl.host}function $WindowProvider(){this.$get=valueFn(window)}function $$CookieReader($document){function safeDecodeURIComponent(str){try{return decodeURIComponent(str)}catch(e){return str}}var rawDocument=$document[0]||{},lastCookies={},lastCookieString="";return function(){var cookieArray,cookie,i,index,name,currentCookieString=rawDocument.cookie||"";if(currentCookieString!==lastCookieString)for(lastCookieString=currentCookieString,cookieArray=lastCookieString.split("; "),lastCookies={},i=0;i<cookieArray.length;i++)cookie=cookieArray[i],index=cookie.indexOf("="),index>0&&(name=safeDecodeURIComponent(cookie.substring(0,index)),lastCookies[name]===undefined&&(lastCookies[name]=safeDecodeURIComponent(cookie.substring(index+1))));return lastCookies}}function $$CookieReaderProvider(){this.$get=$$CookieReader}function $FilterProvider($provide){function register(name,factory){if(isObject(name)){var filters={};return forEach(name,function(filter,key){filters[key]=register(key,filter)}),filters}return $provide.factory(name+suffix,factory)}var suffix="Filter";this.register=register,this.$get=["$injector",function($injector){return function(name){return $injector.get(name+suffix)}}],register("currency",currencyFilter),register("date",dateFilter),register("filter",filterFilter),register("json",jsonFilter),register("limitTo",limitToFilter),register("lowercase",lowercaseFilter),register("number",numberFilter),register("orderBy",orderByFilter),register("uppercase",uppercaseFilter)}function filterFilter(){return function(array,expression,comparator){if(!isArrayLike(array)){if(null==array)return array;throw minErr("filter")("notarray","Expected array but received: {0}",array)}var predicateFn,matchAgainstAnyProp,expressionType=getTypeForFilter(expression);switch(expressionType){case"function":predicateFn=expression;break;case"boolean":case"null":case"number":case"string":matchAgainstAnyProp=!0;case"object":predicateFn=createPredicateFn(expression,comparator,matchAgainstAnyProp);break;default:return array}return Array.prototype.filter.call(array,predicateFn)}}function createPredicateFn(expression,comparator,matchAgainstAnyProp){var predicateFn,shouldMatchPrimitives=isObject(expression)&&"$"in expression;return comparator===!0?comparator=equals:isFunction(comparator)||(comparator=function(actual,expected){return isUndefined(actual)?!1:null===actual||null===expected?actual===expected:isObject(expected)||isObject(actual)&&!hasCustomToString(actual)?!1:(actual=lowercase(""+actual),expected=lowercase(""+expected),-1!==actual.indexOf(expected))}),predicateFn=function(item){return shouldMatchPrimitives&&!isObject(item)?deepCompare(item,expression.$,comparator,!1):deepCompare(item,expression,comparator,matchAgainstAnyProp)}}function deepCompare(actual,expected,comparator,matchAgainstAnyProp,dontMatchWholeObject){var actualType=getTypeForFilter(actual),expectedType=getTypeForFilter(expected);if("string"===expectedType&&"!"===expected.charAt(0))return!deepCompare(actual,expected.substring(1),comparator,matchAgainstAnyProp);if(isArray(actual))return actual.some(function(item){return deepCompare(item,expected,comparator,matchAgainstAnyProp)});switch(actualType){case"object":var key;if(matchAgainstAnyProp){for(key in actual)if("$"!==key.charAt(0)&&deepCompare(actual[key],expected,comparator,!0))return!0;return dontMatchWholeObject?!1:deepCompare(actual,expected,comparator,!1)}if("object"===expectedType){for(key in expected){var expectedVal=expected[key];if(!isFunction(expectedVal)&&!isUndefined(expectedVal)){var matchAnyProperty="$"===key,actualVal=matchAnyProperty?actual:actual[key];if(!deepCompare(actualVal,expectedVal,comparator,matchAnyProperty,matchAnyProperty))return!1}}return!0}return comparator(actual,expected);case"function":return!1;default:return comparator(actual,expected)}}function getTypeForFilter(val){return null===val?"null":typeof val}function currencyFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(amount,currencySymbol,fractionSize){return isUndefined(currencySymbol)&&(currencySymbol=formats.CURRENCY_SYM),isUndefined(fractionSize)&&(fractionSize=formats.PATTERNS[1].maxFrac),null==amount?amount:formatNumber(amount,formats.PATTERNS[1],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize).replace(/\u00A4/g,currencySymbol)}}function numberFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(number,fractionSize){return null==number?number:formatNumber(number,formats.PATTERNS[0],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize)}}function formatNumber(number,pattern,groupSep,decimalSep,fractionSize){if(isObject(number))return"";var isNegative=0>number;number=Math.abs(number);var isInfinity=number===1/0;if(!isInfinity&&!isFinite(number))return"";var numStr=number+"",formatedText="",hasExponent=!1,parts=[];if(isInfinity&&(formatedText="∞"),!isInfinity&&-1!==numStr.indexOf("e")){var match=numStr.match(/([\d\.]+)e(-?)(\d+)/);match&&"-"==match[2]&&match[3]>fractionSize+1?number=0:(formatedText=numStr,hasExponent=!0)}if(isInfinity||hasExponent)fractionSize>0&&1>number&&(formatedText=number.toFixed(fractionSize),number=parseFloat(formatedText));else{var fractionLen=(numStr.split(DECIMAL_SEP)[1]||"").length;isUndefined(fractionSize)&&(fractionSize=Math.min(Math.max(pattern.minFrac,fractionLen),pattern.maxFrac)),number=+(Math.round(+(number.toString()+"e"+fractionSize)).toString()+"e"+-fractionSize);var fraction=(""+number).split(DECIMAL_SEP),whole=fraction[0];fraction=fraction[1]||"";var i,pos=0,lgroup=pattern.lgSize,group=pattern.gSize;if(whole.length>=lgroup+group)for(pos=whole.length-lgroup,i=0;pos>i;i++)(pos-i)%group===0&&0!==i&&(formatedText+=groupSep),formatedText+=whole.charAt(i);for(i=pos;i<whole.length;i++)(whole.length-i)%lgroup===0&&0!==i&&(formatedText+=groupSep),formatedText+=whole.charAt(i);for(;fraction.length<fractionSize;)fraction+="0";fractionSize&&"0"!==fractionSize&&(formatedText+=decimalSep+fraction.substr(0,fractionSize))}return 0===number&&(isNegative=!1),parts.push(isNegative?pattern.negPre:pattern.posPre,formatedText,isNegative?pattern.negSuf:pattern.posSuf),parts.join("")}function padNumber(num,digits,trim){var neg="";for(0>num&&(neg="-",num=-num),num=""+num;num.length<digits;)num="0"+num;return trim&&(num=num.substr(num.length-digits)),neg+num}function dateGetter(name,size,offset,trim){return offset=offset||0,function(date){var value=date["get"+name]();return(offset>0||value>-offset)&&(value+=offset),0===value&&-12==offset&&(value=12),padNumber(value,size,trim)}}function dateStrGetter(name,shortForm){return function(date,formats){var value=date["get"+name](),get=uppercase(shortForm?"SHORT"+name:name);return formats[get][value]}}function timeZoneGetter(date,formats,offset){var zone=-1*offset,paddedZone=zone>=0?"+":"";return paddedZone+=padNumber(Math[zone>0?"floor":"ceil"](zone/60),2)+padNumber(Math.abs(zone%60),2)}function getFirstThursdayOfYear(year){var dayOfWeekOnFirst=new Date(year,0,1).getDay();return new Date(year,0,(4>=dayOfWeekOnFirst?5:12)-dayOfWeekOnFirst)}function getThursdayThisWeek(datetime){return new Date(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+(4-datetime.getDay()))}function weekGetter(size){return function(date){var firstThurs=getFirstThursdayOfYear(date.getFullYear()),thisThurs=getThursdayThisWeek(date),diff=+thisThurs-+firstThurs,result=1+Math.round(diff/6048e5);return padNumber(result,size)}}function ampmGetter(date,formats){return date.getHours()<12?formats.AMPMS[0]:formats.AMPMS[1]}function eraGetter(date,formats){return date.getFullYear()<=0?formats.ERAS[0]:formats.ERAS[1]}function longEraGetter(date,formats){return date.getFullYear()<=0?formats.ERANAMES[0]:formats.ERANAMES[1]}function dateFilter($locale){function jsonStringToDate(string){var match;if(match=string.match(R_ISO8601_STR)){var date=new Date(0),tzHour=0,tzMin=0,dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;match[9]&&(tzHour=toInt(match[9]+match[10]),tzMin=toInt(match[9]+match[11])),dateSetter.call(date,toInt(match[1]),toInt(match[2])-1,toInt(match[3]));var h=toInt(match[4]||0)-tzHour,m=toInt(match[5]||0)-tzMin,s=toInt(match[6]||0),ms=Math.round(1e3*parseFloat("0."+(match[7]||0)));return timeSetter.call(date,h,m,s,ms),date}return string}var R_ISO8601_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(date,format,timezone){var fn,match,text="",parts=[];if(format=format||"mediumDate",format=$locale.DATETIME_FORMATS[format]||format,isString(date)&&(date=NUMBER_STRING.test(date)?toInt(date):jsonStringToDate(date)),isNumber(date)&&(date=new Date(date)),!isDate(date)||!isFinite(date.getTime()))return date;for(;format;)match=DATE_FORMATS_SPLIT.exec(format),match?(parts=concat(parts,match,1),format=parts.pop()):(parts.push(format),format=null);var dateTimezoneOffset=date.getTimezoneOffset();return timezone&&(dateTimezoneOffset=timezoneToOffset(timezone,date.getTimezoneOffset()),date=convertTimezoneToLocal(date,timezone,!0)),forEach(parts,function(value){fn=DATE_FORMATS[value],text+=fn?fn(date,$locale.DATETIME_FORMATS,dateTimezoneOffset):value.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),text}}function jsonFilter(){return function(object,spacing){return isUndefined(spacing)&&(spacing=2),toJson(object,spacing)}}function limitToFilter(){return function(input,limit,begin){return limit=Math.abs(Number(limit))===1/0?Number(limit):toInt(limit),isNaN(limit)?input:(isNumber(input)&&(input=input.toString()),isArray(input)||isString(input)?(begin=!begin||isNaN(begin)?0:toInt(begin),begin=0>begin&&begin>=-input.length?input.length+begin:begin,limit>=0?input.slice(begin,begin+limit):0===begin?input.slice(limit,input.length):input.slice(Math.max(0,begin+limit),begin)):input)}}function orderByFilter($parse){function processPredicates(sortPredicate,reverseOrder){return reverseOrder=reverseOrder?-1:1,sortPredicate.map(function(predicate){var descending=1,get=identity;if(isFunction(predicate))get=predicate;else if(isString(predicate)&&(("+"==predicate.charAt(0)||"-"==predicate.charAt(0))&&(descending="-"==predicate.charAt(0)?-1:1,predicate=predicate.substring(1)),""!==predicate&&(get=$parse(predicate),get.constant))){var key=get();get=function(value){return value[key]}}return{get:get,descending:descending*reverseOrder}})}function isPrimitive(value){switch(typeof value){case"number":case"boolean":case"string":return!0;default:return!1}}function objectValue(value,index){return"function"==typeof value.valueOf&&(value=value.valueOf(),isPrimitive(value))?value:hasCustomToString(value)&&(value=value.toString(),isPrimitive(value))?value:index}function getPredicateValue(value,index){var type=typeof value;return null===value?(type="string",value="null"):"string"===type?value=value.toLowerCase():"object"===type&&(value=objectValue(value,index)),{value:value,type:type}}function compare(v1,v2){var result=0;return v1.type===v2.type?v1.value!==v2.value&&(result=v1.value<v2.value?-1:1):result=v1.type<v2.type?-1:1,result}return function(array,sortPredicate,reverseOrder){function getComparisonObject(value,index){return{value:value,predicateValues:predicates.map(function(predicate){return getPredicateValue(predicate.get(value),index)})}}function doComparison(v1,v2){for(var result=0,index=0,length=predicates.length;length>index&&!(result=compare(v1.predicateValues[index],v2.predicateValues[index])*predicates[index].descending);++index);return result}if(!isArrayLike(array))return array;isArray(sortPredicate)||(sortPredicate=[sortPredicate]),0===sortPredicate.length&&(sortPredicate=["+"]);var predicates=processPredicates(sortPredicate,reverseOrder);predicates.push({get:function(){return{}},descending:reverseOrder?-1:1});var compareValues=Array.prototype.map.call(array,getComparisonObject);return compareValues.sort(doComparison),array=compareValues.map(function(item){return item.value})}}function ngDirective(directive){return isFunction(directive)&&(directive={link:directive}),directive.restrict=directive.restrict||"AC",valueFn(directive)}function nullFormRenameControl(control,name){control.$name=name}function FormController(element,attrs,$scope,$animate,$interpolate){var form=this,controls=[],parentForm=form.$$parentForm=element.parent().controller("form")||nullFormCtrl;

form.$error={},form.$$success={},form.$pending=undefined,form.$name=$interpolate(attrs.name||attrs.ngForm||"")($scope),form.$dirty=!1,form.$pristine=!0,form.$valid=!0,form.$invalid=!1,form.$submitted=!1,parentForm.$addControl(form),form.$rollbackViewValue=function(){forEach(controls,function(control){control.$rollbackViewValue()})},form.$commitViewValue=function(){forEach(controls,function(control){control.$commitViewValue()})},form.$addControl=function(control){assertNotHasOwnProperty(control.$name,"input"),controls.push(control),control.$name&&(form[control.$name]=control)},form.$$renameControl=function(control,newName){var oldName=control.$name;form[oldName]===control&&delete form[oldName],form[newName]=control,control.$name=newName},form.$removeControl=function(control){control.$name&&form[control.$name]===control&&delete form[control.$name],forEach(form.$pending,function(value,name){form.$setValidity(name,null,control)}),forEach(form.$error,function(value,name){form.$setValidity(name,null,control)}),forEach(form.$$success,function(value,name){form.$setValidity(name,null,control)}),arrayRemove(controls,control)},addSetValidityMethod({ctrl:this,$element:element,set:function(object,property,controller){var list=object[property];if(list){var index=list.indexOf(controller);-1===index&&list.push(controller)}else object[property]=[controller]},unset:function(object,property,controller){var list=object[property];list&&(arrayRemove(list,controller),0===list.length&&delete object[property])},parentForm:parentForm,$animate:$animate}),form.$setDirty=function(){$animate.removeClass(element,PRISTINE_CLASS),$animate.addClass(element,DIRTY_CLASS),form.$dirty=!0,form.$pristine=!1,parentForm.$setDirty()},form.$setPristine=function(){$animate.setClass(element,PRISTINE_CLASS,DIRTY_CLASS+" "+SUBMITTED_CLASS),form.$dirty=!1,form.$pristine=!0,form.$submitted=!1,forEach(controls,function(control){control.$setPristine()})},form.$setUntouched=function(){forEach(controls,function(control){control.$setUntouched()})},form.$setSubmitted=function(){$animate.addClass(element,SUBMITTED_CLASS),form.$submitted=!0,parentForm.$setSubmitted()}}function stringBasedInputType(ctrl){ctrl.$formatters.push(function(value){return ctrl.$isEmpty(value)?value:value.toString()})}function textInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl)}function baseInputType(scope,element,attr,ctrl,$sniffer,$browser){var type=lowercase(element[0].type);if(!$sniffer.android){var composing=!1;element.on("compositionstart",function(data){composing=!0}),element.on("compositionend",function(){composing=!1,listener()})}var listener=function(ev){if(timeout&&($browser.defer.cancel(timeout),timeout=null),!composing){var value=element.val(),event=ev&&ev.type;"password"===type||attr.ngTrim&&"false"===attr.ngTrim||(value=trim(value)),(ctrl.$viewValue!==value||""===value&&ctrl.$$hasNativeValidators)&&ctrl.$setViewValue(value,event)}};if($sniffer.hasEvent("input"))element.on("input",listener);else{var timeout,deferListener=function(ev,input,origValue){timeout||(timeout=$browser.defer(function(){timeout=null,input&&input.value===origValue||listener(ev)}))};element.on("keydown",function(event){var key=event.keyCode;91===key||key>15&&19>key||key>=37&&40>=key||deferListener(event,this,this.value)}),$sniffer.hasEvent("paste")&&element.on("paste cut",deferListener)}element.on("change",listener),ctrl.$render=function(){var value=ctrl.$isEmpty(ctrl.$viewValue)?"":ctrl.$viewValue;element.val()!==value&&element.val(value)}}function weekParser(isoWeek,existingDate){if(isDate(isoWeek))return isoWeek;if(isString(isoWeek)){WEEK_REGEXP.lastIndex=0;var parts=WEEK_REGEXP.exec(isoWeek);if(parts){var year=+parts[1],week=+parts[2],hours=0,minutes=0,seconds=0,milliseconds=0,firstThurs=getFirstThursdayOfYear(year),addDays=7*(week-1);return existingDate&&(hours=existingDate.getHours(),minutes=existingDate.getMinutes(),seconds=existingDate.getSeconds(),milliseconds=existingDate.getMilliseconds()),new Date(year,0,firstThurs.getDate()+addDays,hours,minutes,seconds,milliseconds)}}return 0/0}function createDateParser(regexp,mapping){return function(iso,date){var parts,map;if(isDate(iso))return iso;if(isString(iso)){if('"'==iso.charAt(0)&&'"'==iso.charAt(iso.length-1)&&(iso=iso.substring(1,iso.length-1)),ISO_DATE_REGEXP.test(iso))return new Date(iso);if(regexp.lastIndex=0,parts=regexp.exec(iso))return parts.shift(),map=date?{yyyy:date.getFullYear(),MM:date.getMonth()+1,dd:date.getDate(),HH:date.getHours(),mm:date.getMinutes(),ss:date.getSeconds(),sss:date.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},forEach(parts,function(part,index){index<mapping.length&&(map[mapping[index]]=+part)}),new Date(map.yyyy,map.MM-1,map.dd,map.HH,map.mm,map.ss||0,1e3*map.sss||0)}return 0/0}}function createDateInputType(type,regexp,parseDate,format){return function(scope,element,attr,ctrl,$sniffer,$browser,$filter){function isValidDate(value){return value&&!(value.getTime&&value.getTime()!==value.getTime())}function parseObservedDateValue(val){return isDefined(val)?isDate(val)?val:parseDate(val):undefined}badInputChecker(scope,element,attr,ctrl),baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var previousDate,timezone=ctrl&&ctrl.$options&&ctrl.$options.timezone;if(ctrl.$$parserName=type,ctrl.$parsers.push(function(value){if(ctrl.$isEmpty(value))return null;if(regexp.test(value)){var parsedDate=parseDate(value,previousDate);return timezone&&(parsedDate=convertTimezoneToLocal(parsedDate,timezone)),parsedDate}return undefined}),ctrl.$formatters.push(function(value){if(value&&!isDate(value))throw ngModelMinErr("datefmt","Expected `{0}` to be a date",value);return isValidDate(value)?(previousDate=value,previousDate&&timezone&&(previousDate=convertTimezoneToLocal(previousDate,timezone,!0)),$filter("date")(value,format,timezone)):(previousDate=null,"")}),isDefined(attr.min)||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return!isValidDate(value)||isUndefined(minVal)||parseDate(value)>=minVal},attr.$observe("min",function(val){minVal=parseObservedDateValue(val),ctrl.$validate()})}if(isDefined(attr.max)||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return!isValidDate(value)||isUndefined(maxVal)||parseDate(value)<=maxVal},attr.$observe("max",function(val){maxVal=parseObservedDateValue(val),ctrl.$validate()})}}}function badInputChecker(scope,element,attr,ctrl){var node=element[0],nativeValidation=ctrl.$$hasNativeValidators=isObject(node.validity);nativeValidation&&ctrl.$parsers.push(function(value){var validity=element.prop(VALIDITY_STATE_PROPERTY)||{};return validity.badInput&&!validity.typeMismatch?undefined:value})}function numberInputType(scope,element,attr,ctrl,$sniffer,$browser){if(badInputChecker(scope,element,attr,ctrl),baseInputType(scope,element,attr,ctrl,$sniffer,$browser),ctrl.$$parserName="number",ctrl.$parsers.push(function(value){return ctrl.$isEmpty(value)?null:NUMBER_REGEXP.test(value)?parseFloat(value):undefined}),ctrl.$formatters.push(function(value){if(!ctrl.$isEmpty(value)){if(!isNumber(value))throw ngModelMinErr("numfmt","Expected `{0}` to be a number",value);value=value.toString()}return value}),isDefined(attr.min)||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return ctrl.$isEmpty(value)||isUndefined(minVal)||value>=minVal},attr.$observe("min",function(val){isDefined(val)&&!isNumber(val)&&(val=parseFloat(val,10)),minVal=isNumber(val)&&!isNaN(val)?val:undefined,ctrl.$validate()})}if(isDefined(attr.max)||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return ctrl.$isEmpty(value)||isUndefined(maxVal)||maxVal>=value},attr.$observe("max",function(val){isDefined(val)&&!isNumber(val)&&(val=parseFloat(val,10)),maxVal=isNumber(val)&&!isNaN(val)?val:undefined,ctrl.$validate()})}}function urlInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl),ctrl.$$parserName="url",ctrl.$validators.url=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||URL_REGEXP.test(value)}}function emailInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl),ctrl.$$parserName="email",ctrl.$validators.email=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||EMAIL_REGEXP.test(value)}}function radioInputType(scope,element,attr,ctrl){isUndefined(attr.name)&&element.attr("name",nextUid());var listener=function(ev){element[0].checked&&ctrl.$setViewValue(attr.value,ev&&ev.type)};element.on("click",listener),ctrl.$render=function(){var value=attr.value;element[0].checked=value==ctrl.$viewValue},attr.$observe("value",ctrl.$render)}function parseConstantExpr($parse,context,name,expression,fallback){var parseFn;if(isDefined(expression)){if(parseFn=$parse(expression),!parseFn.constant)throw ngModelMinErr("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",name,expression);return parseFn(context)}return fallback}function checkboxInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter,$parse){var trueValue=parseConstantExpr($parse,scope,"ngTrueValue",attr.ngTrueValue,!0),falseValue=parseConstantExpr($parse,scope,"ngFalseValue",attr.ngFalseValue,!1),listener=function(ev){ctrl.$setViewValue(element[0].checked,ev&&ev.type)};element.on("click",listener),ctrl.$render=function(){element[0].checked=ctrl.$viewValue},ctrl.$isEmpty=function(value){return value===!1},ctrl.$formatters.push(function(value){return equals(value,trueValue)}),ctrl.$parsers.push(function(value){return value?trueValue:falseValue})}function classDirective(name,selector){return name="ngClass"+name,["$animate",function($animate){function arrayDifference(tokens1,tokens2){var values=[];outer:for(var i=0;i<tokens1.length;i++){for(var token=tokens1[i],j=0;j<tokens2.length;j++)if(token==tokens2[j])continue outer;values.push(token)}return values}function arrayClasses(classVal){var classes=[];return isArray(classVal)?(forEach(classVal,function(v){classes=classes.concat(arrayClasses(v))}),classes):isString(classVal)?classVal.split(" "):isObject(classVal)?(forEach(classVal,function(v,k){v&&(classes=classes.concat(k.split(" ")))}),classes):classVal}return{restrict:"AC",link:function(scope,element,attr){function addClasses(classes){var newClasses=digestClassCounts(classes,1);attr.$addClass(newClasses)}function removeClasses(classes){var newClasses=digestClassCounts(classes,-1);attr.$removeClass(newClasses)}function digestClassCounts(classes,count){var classCounts=element.data("$classCounts")||createMap(),classesToUpdate=[];return forEach(classes,function(className){(count>0||classCounts[className])&&(classCounts[className]=(classCounts[className]||0)+count,classCounts[className]===+(count>0)&&classesToUpdate.push(className))}),element.data("$classCounts",classCounts),classesToUpdate.join(" ")}function updateClasses(oldClasses,newClasses){var toAdd=arrayDifference(newClasses,oldClasses),toRemove=arrayDifference(oldClasses,newClasses);toAdd=digestClassCounts(toAdd,1),toRemove=digestClassCounts(toRemove,-1),toAdd&&toAdd.length&&$animate.addClass(element,toAdd),toRemove&&toRemove.length&&$animate.removeClass(element,toRemove)}function ngClassWatchAction(newVal){if(selector===!0||scope.$index%2===selector){var newClasses=arrayClasses(newVal||[]);if(oldVal){if(!equals(newVal,oldVal)){var oldClasses=arrayClasses(oldVal);updateClasses(oldClasses,newClasses)}}else addClasses(newClasses)}oldVal=shallowCopy(newVal)}var oldVal;scope.$watch(attr[name],ngClassWatchAction,!0),attr.$observe("class",function(value){ngClassWatchAction(scope.$eval(attr[name]))}),"ngClass"!==name&&scope.$watch("$index",function($index,old$index){var mod=1&$index;if(mod!==(1&old$index)){var classes=arrayClasses(scope.$eval(attr[name]));mod===selector?addClasses(classes):removeClasses(classes)}})}}}]}function addSetValidityMethod(context){function setValidity(validationErrorKey,state,controller){state===undefined?createAndSet("$pending",validationErrorKey,controller):unsetAndCleanup("$pending",validationErrorKey,controller),isBoolean(state)?state?(unset(ctrl.$error,validationErrorKey,controller),set(ctrl.$$success,validationErrorKey,controller)):(set(ctrl.$error,validationErrorKey,controller),unset(ctrl.$$success,validationErrorKey,controller)):(unset(ctrl.$error,validationErrorKey,controller),unset(ctrl.$$success,validationErrorKey,controller)),ctrl.$pending?(cachedToggleClass(PENDING_CLASS,!0),ctrl.$valid=ctrl.$invalid=undefined,toggleValidationCss("",null)):(cachedToggleClass(PENDING_CLASS,!1),ctrl.$valid=isObjectEmpty(ctrl.$error),ctrl.$invalid=!ctrl.$valid,toggleValidationCss("",ctrl.$valid));var combinedState;combinedState=ctrl.$pending&&ctrl.$pending[validationErrorKey]?undefined:ctrl.$error[validationErrorKey]?!1:ctrl.$$success[validationErrorKey]?!0:null,toggleValidationCss(validationErrorKey,combinedState),parentForm.$setValidity(validationErrorKey,combinedState,ctrl)}function createAndSet(name,value,controller){ctrl[name]||(ctrl[name]={}),set(ctrl[name],value,controller)}function unsetAndCleanup(name,value,controller){ctrl[name]&&unset(ctrl[name],value,controller),isObjectEmpty(ctrl[name])&&(ctrl[name]=undefined)}function cachedToggleClass(className,switchValue){switchValue&&!classCache[className]?($animate.addClass($element,className),classCache[className]=!0):!switchValue&&classCache[className]&&($animate.removeClass($element,className),classCache[className]=!1)}function toggleValidationCss(validationErrorKey,isValid){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"",cachedToggleClass(VALID_CLASS+validationErrorKey,isValid===!0),cachedToggleClass(INVALID_CLASS+validationErrorKey,isValid===!1)}var ctrl=context.ctrl,$element=context.$element,classCache={},set=context.set,unset=context.unset,parentForm=context.parentForm,$animate=context.$animate;classCache[INVALID_CLASS]=!(classCache[VALID_CLASS]=$element.hasClass(VALID_CLASS)),ctrl.$setValidity=setValidity}function isObjectEmpty(obj){if(obj)for(var prop in obj)if(obj.hasOwnProperty(prop))return!1;return!0}var REGEX_STRING_REGEXP=/^\/(.+)\/([a-z]*)$/,VALIDITY_STATE_PROPERTY="validity",lowercase=function(string){return isString(string)?string.toLowerCase():string},hasOwnProperty=Object.prototype.hasOwnProperty,uppercase=function(string){return isString(string)?string.toUpperCase():string},manualLowercase=function(s){return isString(s)?s.replace(/[A-Z]/g,function(ch){return String.fromCharCode(32|ch.charCodeAt(0))}):s},manualUppercase=function(s){return isString(s)?s.replace(/[a-z]/g,function(ch){return String.fromCharCode(-33&ch.charCodeAt(0))}):s};"i"!=="I".toLowerCase()&&(lowercase=manualLowercase,uppercase=manualUppercase);var msie,jqLite,jQuery,angularModule,slice=[].slice,splice=[].splice,push=[].push,toString=Object.prototype.toString,getPrototypeOf=Object.getPrototypeOf,ngMinErr=minErr("ng"),angular=window.angular||(window.angular={}),uid=0;msie=document.documentMode,noop.$inject=[],identity.$inject=[];var skipDestroyOnNextJQueryCleanData,isArray=Array.isArray,TYPED_ARRAY_REGEXP=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,trim=function(value){return isString(value)?value.trim():value},escapeForRegexp=function(s){return s.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},csp=function(){function noUnsafeEval(){try{return new Function(""),!1}catch(e){return!0}}if(!isDefined(csp.rules)){var ngCspElement=document.querySelector("[ng-csp]")||document.querySelector("[data-ng-csp]");if(ngCspElement){var ngCspAttribute=ngCspElement.getAttribute("ng-csp")||ngCspElement.getAttribute("data-ng-csp");csp.rules={noUnsafeEval:!ngCspAttribute||-1!==ngCspAttribute.indexOf("no-unsafe-eval"),noInlineStyle:!ngCspAttribute||-1!==ngCspAttribute.indexOf("no-inline-style")}}else csp.rules={noUnsafeEval:noUnsafeEval(),noInlineStyle:!1}}return csp.rules},jq=function(){if(isDefined(jq.name_))return jq.name_;var el,i,prefix,name,ii=ngAttrPrefixes.length;for(i=0;ii>i;++i)if(prefix=ngAttrPrefixes[i],el=document.querySelector("["+prefix.replace(":","\\:")+"jq]")){name=el.getAttribute(prefix+"jq");break}return jq.name_=name},ngAttrPrefixes=["ng-","data-ng-","ng:","x-ng-"],SNAKE_CASE_REGEXP=/[A-Z]/g,bindJQueryFired=!1,NODE_TYPE_ELEMENT=1,NODE_TYPE_ATTRIBUTE=2,NODE_TYPE_TEXT=3,NODE_TYPE_COMMENT=8,NODE_TYPE_DOCUMENT=9,NODE_TYPE_DOCUMENT_FRAGMENT=11,version={full:"1.4.5",major:1,minor:4,dot:5,codeName:"permanent-internship"};JQLite.expando="ng339";var jqCache=JQLite.cache={},jqId=1,addEventListenerFn=function(element,type,fn){element.addEventListener(type,fn,!1)},removeEventListenerFn=function(element,type,fn){element.removeEventListener(type,fn,!1)};JQLite._data=function(node){return this.cache[node[this.expando]]||{}};var SPECIAL_CHARS_REGEXP=/([\:\-\_]+(.))/g,MOZ_HACK_REGEXP=/^moz([A-Z])/,MOUSE_EVENT_MAP={mouseleave:"mouseout",mouseenter:"mouseover"},jqLiteMinErr=minErr("jqLite"),SINGLE_TAG_REGEXP=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,HTML_REGEXP=/<|&#?\w+;/,TAG_NAME_REGEXP=/<([\w:]+)/,XHTML_TAG_REGEXP=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,wrapMap={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td;var JQLitePrototype=JQLite.prototype={ready:function(fn){function trigger(){fired||(fired=!0,fn())}var fired=!1;"complete"===document.readyState?setTimeout(trigger):(this.on("DOMContentLoaded",trigger),JQLite(window).on("load",trigger))},toString:function(){var value=[];return forEach(this,function(e){value.push(""+e)}),"["+value.join(", ")+"]"},eq:function(index){return jqLite(index>=0?this[index]:this[this.length+index])},length:0,push:push,sort:[].sort,splice:[].splice},BOOLEAN_ATTR={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(value){BOOLEAN_ATTR[lowercase(value)]=value});var BOOLEAN_ELEMENTS={};forEach("input,select,option,textarea,button,form,details".split(","),function(value){BOOLEAN_ELEMENTS[value]=!0});var ALIASED_ATTR={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};forEach({data:jqLiteData,removeData:jqLiteRemoveData,hasData:jqLiteHasData},function(fn,name){JQLite[name]=fn}),forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(element){return jqLite.data(element,"$scope")||jqLiteInheritedData(element.parentNode||element,["$isolateScope","$scope"])},isolateScope:function(element){return jqLite.data(element,"$isolateScope")||jqLite.data(element,"$isolateScopeNoTemplate")},controller:jqLiteController,injector:function(element){return jqLiteInheritedData(element,"$injector")},removeAttr:function(element,name){element.removeAttribute(name)},hasClass:jqLiteHasClass,css:function(element,name,value){return name=camelCase(name),isDefined(value)?void(element.style[name]=value):element.style[name]},attr:function(element,name,value){var nodeType=element.nodeType;if(nodeType!==NODE_TYPE_TEXT&&nodeType!==NODE_TYPE_ATTRIBUTE&&nodeType!==NODE_TYPE_COMMENT){var lowercasedName=lowercase(name);if(BOOLEAN_ATTR[lowercasedName]){if(!isDefined(value))return element[name]||(element.attributes.getNamedItem(name)||noop).specified?lowercasedName:undefined;value?(element[name]=!0,element.setAttribute(name,lowercasedName)):(element[name]=!1,element.removeAttribute(lowercasedName))}else if(isDefined(value))element.setAttribute(name,value);else if(element.getAttribute){var ret=element.getAttribute(name,2);return null===ret?undefined:ret}}},prop:function(element,name,value){return isDefined(value)?void(element[name]=value):element[name]},text:function(){function getText(element,value){if(isUndefined(value)){var nodeType=element.nodeType;return nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_TEXT?element.textContent:""}element.textContent=value}return getText.$dv="",getText}(),val:function(element,value){if(isUndefined(value)){if(element.multiple&&"select"===nodeName_(element)){var result=[];return forEach(element.options,function(option){option.selected&&result.push(option.value||option.text)}),0===result.length?null:result}return element.value}element.value=value},html:function(element,value){return isUndefined(value)?element.innerHTML:(jqLiteDealoc(element,!0),void(element.innerHTML=value))},empty:jqLiteEmpty},function(fn,name){JQLite.prototype[name]=function(arg1,arg2){var i,key,nodeCount=this.length;if(fn!==jqLiteEmpty&&(2==fn.length&&fn!==jqLiteHasClass&&fn!==jqLiteController?arg1:arg2)===undefined){if(isObject(arg1)){for(i=0;nodeCount>i;i++)if(fn===jqLiteData)fn(this[i],arg1);else for(key in arg1)fn(this[i],key,arg1[key]);return this}for(var value=fn.$dv,jj=value===undefined?Math.min(nodeCount,1):nodeCount,j=0;jj>j;j++){var nodeValue=fn(this[j],arg1,arg2);value=value?value+nodeValue:nodeValue}return value}for(i=0;nodeCount>i;i++)fn(this[i],arg1,arg2);return this}}),forEach({removeData:jqLiteRemoveData,on:function jqLiteOn(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(jqLiteAcceptsData(element)){var expandoStore=jqLiteExpandoStore(element,!0),events=expandoStore.events,handle=expandoStore.handle;handle||(handle=expandoStore.handle=createEventHandler(element,events));for(var types=type.indexOf(" ")>=0?type.split(" "):[type],i=types.length;i--;){type=types[i];var eventFns=events[type];eventFns||(events[type]=[],"mouseenter"===type||"mouseleave"===type?jqLiteOn(element,MOUSE_EVENT_MAP[type],function(event){var target=this,related=event.relatedTarget;(!related||related!==target&&!target.contains(related))&&handle(event,type)}):"$destroy"!==type&&addEventListenerFn(element,type,handle),eventFns=events[type]),eventFns.push(fn)}}},off:jqLiteOff,one:function(element,type,fn){element=jqLite(element),element.on(type,function onFn(){element.off(type,fn),element.off(type,onFn)}),element.on(type,fn)},replaceWith:function(element,replaceNode){var index,parent=element.parentNode;jqLiteDealoc(element),forEach(new JQLite(replaceNode),function(node){index?parent.insertBefore(node,index.nextSibling):parent.replaceChild(node,element),index=node})},children:function(element){var children=[];return forEach(element.childNodes,function(element){element.nodeType===NODE_TYPE_ELEMENT&&children.push(element)}),children},contents:function(element){return element.contentDocument||element.childNodes||[]},append:function(element,node){var nodeType=element.nodeType;if(nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_DOCUMENT_FRAGMENT){node=new JQLite(node);for(var i=0,ii=node.length;ii>i;i++){var child=node[i];element.appendChild(child)}}},prepend:function(element,node){if(element.nodeType===NODE_TYPE_ELEMENT){var index=element.firstChild;forEach(new JQLite(node),function(child){element.insertBefore(child,index)})}},wrap:function(element,wrapNode){wrapNode=jqLite(wrapNode).eq(0).clone()[0];var parent=element.parentNode;parent&&parent.replaceChild(wrapNode,element),wrapNode.appendChild(element)},remove:jqLiteRemove,detach:function(element){jqLiteRemove(element,!0)},after:function(element,newElement){var index=element,parent=element.parentNode;newElement=new JQLite(newElement);for(var i=0,ii=newElement.length;ii>i;i++){var node=newElement[i];parent.insertBefore(node,index.nextSibling),index=node}},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(element,selector,condition){selector&&forEach(selector.split(" "),function(className){var classCondition=condition;isUndefined(classCondition)&&(classCondition=!jqLiteHasClass(element,className)),(classCondition?jqLiteAddClass:jqLiteRemoveClass)(element,className)})},parent:function(element){var parent=element.parentNode;return parent&&parent.nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT?parent:null},next:function(element){return element.nextElementSibling},find:function(element,selector){return element.getElementsByTagName?element.getElementsByTagName(selector):[]},clone:jqLiteClone,triggerHandler:function(element,event,extraParameters){var dummyEvent,eventFnsCopy,handlerArgs,eventName=event.type||event,expandoStore=jqLiteExpandoStore(element),events=expandoStore&&expandoStore.events,eventFns=events&&events[eventName];eventFns&&(dummyEvent={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:noop,type:eventName,target:element},event.type&&(dummyEvent=extend(dummyEvent,event)),eventFnsCopy=shallowCopy(eventFns),handlerArgs=extraParameters?[dummyEvent].concat(extraParameters):[dummyEvent],forEach(eventFnsCopy,function(fn){dummyEvent.isImmediatePropagationStopped()||fn.apply(element,handlerArgs)}))}},function(fn,name){JQLite.prototype[name]=function(arg1,arg2,arg3){for(var value,i=0,ii=this.length;ii>i;i++)isUndefined(value)?(value=fn(this[i],arg1,arg2,arg3),isDefined(value)&&(value=jqLite(value))):jqLiteAddNodes(value,fn(this[i],arg1,arg2,arg3));return isDefined(value)?value:this},JQLite.prototype.bind=JQLite.prototype.on,JQLite.prototype.unbind=JQLite.prototype.off}),HashMap.prototype={put:function(key,value){this[hashKey(key,this.nextUid)]=value},get:function(key){return this[hashKey(key,this.nextUid)]},remove:function(key){var value=this[key=hashKey(key,this.nextUid)];return delete this[key],value}};var $$HashMapProvider=[function(){this.$get=[function(){return HashMap}]}],FN_ARGS=/^[^\(]*\(\s*([^\)]*)\)/m,FN_ARG_SPLIT=/,/,FN_ARG=/^\s*(_?)(\S+?)\1\s*$/,STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,$injectorMinErr=minErr("$injector");createInjector.$$annotate=annotate;var $animateMinErr=minErr("$animate"),ELEMENT_NODE=1,NG_ANIMATE_CLASSNAME="ng-animate",$$CoreAnimateRunnerProvider=function(){this.$get=["$q","$$rAF",function($q,$$rAF){function AnimateRunner(){}return AnimateRunner.all=noop,AnimateRunner.chain=noop,AnimateRunner.prototype={end:noop,cancel:noop,resume:noop,pause:noop,complete:noop,then:function(pass,fail){return $q(function(resolve){$$rAF(function(){resolve()})}).then(pass,fail)}},AnimateRunner}]},$$CoreAnimateQueueProvider=function(){var postDigestQueue=new HashMap,postDigestElements=[];this.$get=["$$AnimateRunner","$rootScope",function($$AnimateRunner,$rootScope){function addRemoveClassesPostDigest(element,add,remove){var data=postDigestQueue.get(element);data||(postDigestQueue.put(element,data={}),postDigestElements.push(element));var updateData=function(classes,value){var changed=!1;return classes&&(classes=isString(classes)?classes.split(" "):isArray(classes)?classes:[],forEach(classes,function(className){className&&(changed=!0,data[className]=value)})),changed},classesAdded=updateData(add,!0),classesRemoved=updateData(remove,!1);!classesAdded&&!classesRemoved||postDigestElements.length>1||$rootScope.$$postDigest(function(){forEach(postDigestElements,function(element){var data=postDigestQueue.get(element);if(data){var existing=splitClasses(element.attr("class")),toAdd="",toRemove="";forEach(data,function(status,className){var hasClass=!!existing[className];status!==hasClass&&(status?toAdd+=(toAdd.length?" ":"")+className:toRemove+=(toRemove.length?" ":"")+className)}),forEach(element,function(elm){toAdd&&jqLiteAddClass(elm,toAdd),toRemove&&jqLiteRemoveClass(elm,toRemove)}),postDigestQueue.remove(element)}}),postDigestElements.length=0})}return{enabled:noop,on:noop,off:noop,pin:noop,push:function(element,event,options,domOperation){return domOperation&&domOperation(),options=options||{},options.from&&element.css(options.from),options.to&&element.css(options.to),(options.addClass||options.removeClass)&&addRemoveClassesPostDigest(element,options.addClass,options.removeClass),new $$AnimateRunner}}}]},$AnimateProvider=["$provide",function($provide){var provider=this;this.$$registeredAnimations=Object.create(null),this.register=function(name,factory){if(name&&"."!==name.charAt(0))throw $animateMinErr("notcsel","Expecting class selector starting with '.' got '{0}'.",name);var key=name+"-animation";provider.$$registeredAnimations[name.substr(1)]=key,$provide.factory(key,factory)},this.classNameFilter=function(expression){if(1===arguments.length&&(this.$$classNameFilter=expression instanceof RegExp?expression:null,this.$$classNameFilter)){var reservedRegex=new RegExp("(\\s+|\\/)"+NG_ANIMATE_CLASSNAME+"(\\s+|\\/)");if(reservedRegex.test(this.$$classNameFilter.toString()))throw $animateMinErr("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',NG_ANIMATE_CLASSNAME)}return this.$$classNameFilter},this.$get=["$$animateQueue",function($$animateQueue){function domInsert(element,parentElement,afterElement){if(afterElement){var afterNode=extractElementNode(afterElement);!afterNode||afterNode.parentNode||afterNode.previousElementSibling||(afterElement=null)}afterElement?afterElement.after(element):parentElement.prepend(element)}return{on:$$animateQueue.on,off:$$animateQueue.off,pin:$$animateQueue.pin,enabled:$$animateQueue.enabled,cancel:function(runner){runner.end&&runner.end()},enter:function(element,parent,after,options){return parent=parent&&jqLite(parent),after=after&&jqLite(after),parent=parent||after.parent(),domInsert(element,parent,after),$$animateQueue.push(element,"enter",prepareAnimateOptions(options))},move:function(element,parent,after,options){return parent=parent&&jqLite(parent),after=after&&jqLite(after),parent=parent||after.parent(),domInsert(element,parent,after),$$animateQueue.push(element,"move",prepareAnimateOptions(options))},leave:function(element,options){return $$animateQueue.push(element,"leave",prepareAnimateOptions(options),function(){element.remove()})},addClass:function(element,className,options){return options=prepareAnimateOptions(options),options.addClass=mergeClasses(options.addclass,className),$$animateQueue.push(element,"addClass",options)},removeClass:function(element,className,options){return options=prepareAnimateOptions(options),options.removeClass=mergeClasses(options.removeClass,className),$$animateQueue.push(element,"removeClass",options)},setClass:function(element,add,remove,options){return options=prepareAnimateOptions(options),options.addClass=mergeClasses(options.addClass,add),options.removeClass=mergeClasses(options.removeClass,remove),$$animateQueue.push(element,"setClass",options)},animate:function(element,from,to,className,options){return options=prepareAnimateOptions(options),options.from=options.from?extend(options.from,from):from,options.to=options.to?extend(options.to,to):to,className=className||"ng-inline-animate",options.tempClasses=mergeClasses(options.tempClasses,className),$$animateQueue.push(element,"animate",options)}}}]}],$CoreAnimateCssProvider=function(){this.$get=["$$rAF","$q",function($$rAF,$q){var RAFPromise=function(){};return RAFPromise.prototype={done:function(cancel){this.defer&&this.defer[cancel===!0?"reject":"resolve"]()},end:function(){this.done()},cancel:function(){this.done(!0)},getPromise:function(){return this.defer||(this.defer=$q.defer()),this.defer.promise},then:function(f1,f2){return this.getPromise().then(f1,f2)},"catch":function(f1){return this.getPromise()["catch"](f1)},"finally":function(f1){return this.getPromise()["finally"](f1)}},function(element,options){function run(){return $$rAF(function(){close(),closed||runner.done(),closed=!0}),runner}function close(){options.addClass&&(element.addClass(options.addClass),
options.addClass=null),options.removeClass&&(element.removeClass(options.removeClass),options.removeClass=null),options.to&&(element.css(options.to),options.to=null)}options.from&&(element.css(options.from),options.from=null);var closed,runner=new RAFPromise;return{start:run,end:run}}}]},$compileMinErr=minErr("$compile");$CompileProvider.$inject=["$provide","$$sanitizeUriProvider"];var PREFIX_REGEXP=/^((?:x|data)[\:\-_])/i,$controllerMinErr=minErr("$controller"),CNTRL_REG=/^(\S+)(\s+as\s+(\w+))?$/,$$ForceReflowProvider=function(){this.$get=["$document",function($document){return function(domNode){return domNode?!domNode.nodeType&&domNode instanceof jqLite&&(domNode=domNode[0]):domNode=$document[0].body,domNode.offsetWidth+1}}]},APPLICATION_JSON="application/json",CONTENT_TYPE_APPLICATION_JSON={"Content-Type":APPLICATION_JSON+";charset=utf-8"},JSON_START=/^\[|^\{(?!\{)/,JSON_ENDS={"[":/]$/,"{":/}$/},JSON_PROTECTION_PREFIX=/^\)\]\}',?\n/,$httpMinErr=minErr("$http"),$httpMinErrLegacyFn=function(method){return function(){throw $httpMinErr("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",method)}},$interpolateMinErr=angular.$interpolateMinErr=minErr("$interpolate");$interpolateMinErr.throwNoconcat=function(text){throw $interpolateMinErr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",text)},$interpolateMinErr.interr=function(text,err){return $interpolateMinErr("interr","Can't interpolate: {0}\n{1}",text,err.toString())};var PATH_MATCH=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,DEFAULT_PORTS={http:80,https:443,ftp:21},$locationMinErr=minErr("$location"),locationPrototype={$$html5:!1,$$replace:!1,absUrl:locationGetter("$$absUrl"),url:function(url){if(isUndefined(url))return this.$$url;var match=PATH_MATCH.exec(url);return(match[1]||""===url)&&this.path(decodeURIComponent(match[1])),(match[2]||match[1]||""===url)&&this.search(match[3]||""),this.hash(match[5]||""),this},protocol:locationGetter("$$protocol"),host:locationGetter("$$host"),port:locationGetter("$$port"),path:locationGetterSetter("$$path",function(path){return path=null!==path?path.toString():"","/"==path.charAt(0)?path:"/"+path}),search:function(search,paramValue){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(search)||isNumber(search))search=search.toString(),this.$$search=parseKeyValue(search);else{if(!isObject(search))throw $locationMinErr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");search=copy(search,{}),forEach(search,function(value,key){null==value&&delete search[key]}),this.$$search=search}break;default:isUndefined(paramValue)||null===paramValue?delete this.$$search[search]:this.$$search[search]=paramValue}return this.$$compose(),this},hash:locationGetterSetter("$$hash",function(hash){return null!==hash?hash.toString():""}),replace:function(){return this.$$replace=!0,this}};forEach([LocationHashbangInHtml5Url,LocationHashbangUrl,LocationHtml5Url],function(Location){Location.prototype=Object.create(locationPrototype),Location.prototype.state=function(state){if(!arguments.length)return this.$$state;if(Location!==LocationHtml5Url||!this.$$html5)throw $locationMinErr("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=isUndefined(state)?null:state,this}});var $parseMinErr=minErr("$parse"),CALL=Function.prototype.call,APPLY=Function.prototype.apply,BIND=Function.prototype.bind,OPERATORS=createMap();forEach("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(operator){OPERATORS[operator]=!0});var ESCAPE={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Lexer=function(options){this.options=options};Lexer.prototype={constructor:Lexer,lex:function(text){for(this.text=text,this.index=0,this.tokens=[];this.index<this.text.length;){var ch=this.text.charAt(this.index);if('"'===ch||"'"===ch)this.readString(ch);else if(this.isNumber(ch)||"."===ch&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(ch))this.readIdent();else if(this.is(ch,"(){}[].,;:?"))this.tokens.push({index:this.index,text:ch}),this.index++;else if(this.isWhitespace(ch))this.index++;else{var ch2=ch+this.peek(),ch3=ch2+this.peek(2),op1=OPERATORS[ch],op2=OPERATORS[ch2],op3=OPERATORS[ch3];if(op1||op2||op3){var token=op3?ch3:op2?ch2:ch;this.tokens.push({index:this.index,text:token,operator:!0}),this.index+=token.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(ch,chars){return-1!==chars.indexOf(ch)},peek:function(i){var num=i||1;return this.index+num<this.text.length?this.text.charAt(this.index+num):!1},isNumber:function(ch){return ch>="0"&&"9">=ch&&"string"==typeof ch},isWhitespace:function(ch){return" "===ch||"\r"===ch||"	"===ch||"\n"===ch||""===ch||" "===ch},isIdent:function(ch){return ch>="a"&&"z">=ch||ch>="A"&&"Z">=ch||"_"===ch||"$"===ch},isExpOperator:function(ch){return"-"===ch||"+"===ch||this.isNumber(ch)},throwError:function(error,start,end){end=end||this.index;var colStr=isDefined(start)?"s "+start+"-"+this.index+" ["+this.text.substring(start,end)+"]":" "+end;throw $parseMinErr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",error,colStr,this.text)},readNumber:function(){for(var number="",start=this.index;this.index<this.text.length;){var ch=lowercase(this.text.charAt(this.index));if("."==ch||this.isNumber(ch))number+=ch;else{var peekCh=this.peek();if("e"==ch&&this.isExpOperator(peekCh))number+=ch;else if(this.isExpOperator(ch)&&peekCh&&this.isNumber(peekCh)&&"e"==number.charAt(number.length-1))number+=ch;else{if(!this.isExpOperator(ch)||peekCh&&this.isNumber(peekCh)||"e"!=number.charAt(number.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:start,text:number,constant:!0,value:Number(number)})},readIdent:function(){for(var start=this.index;this.index<this.text.length;){var ch=this.text.charAt(this.index);if(!this.isIdent(ch)&&!this.isNumber(ch))break;this.index++}this.tokens.push({index:start,text:this.text.slice(start,this.index),identifier:!0})},readString:function(quote){var start=this.index;this.index++;for(var string="",rawString=quote,escape=!1;this.index<this.text.length;){var ch=this.text.charAt(this.index);if(rawString+=ch,escape){if("u"===ch){var hex=this.text.substring(this.index+1,this.index+5);hex.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+hex+"]"),this.index+=4,string+=String.fromCharCode(parseInt(hex,16))}else{var rep=ESCAPE[ch];string+=rep||ch}escape=!1}else if("\\"===ch)escape=!0;else{if(ch===quote)return this.index++,void this.tokens.push({index:start,text:rawString,constant:!0,value:string});string+=ch}this.index++}this.throwError("Unterminated quote",start)}};var AST=function(lexer,options){this.lexer=lexer,this.options=options};AST.Program="Program",AST.ExpressionStatement="ExpressionStatement",AST.AssignmentExpression="AssignmentExpression",AST.ConditionalExpression="ConditionalExpression",AST.LogicalExpression="LogicalExpression",AST.BinaryExpression="BinaryExpression",AST.UnaryExpression="UnaryExpression",AST.CallExpression="CallExpression",AST.MemberExpression="MemberExpression",AST.Identifier="Identifier",AST.Literal="Literal",AST.ArrayExpression="ArrayExpression",AST.Property="Property",AST.ObjectExpression="ObjectExpression",AST.ThisExpression="ThisExpression",AST.NGValueParameter="NGValueParameter",AST.prototype={ast:function(text){this.text=text,this.tokens=this.lexer.lex(text);var value=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),value},program:function(){for(var body=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&body.push(this.expressionStatement()),!this.expect(";"))return{type:AST.Program,body:body}},expressionStatement:function(){return{type:AST.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var token,left=this.expression();token=this.expect("|");)left=this.filter(left);return left},expression:function(){return this.assignment()},assignment:function(){var result=this.ternary();return this.expect("=")&&(result={type:AST.AssignmentExpression,left:result,right:this.assignment(),operator:"="}),result},ternary:function(){var alternate,consequent,test=this.logicalOR();return this.expect("?")&&(alternate=this.expression(),this.consume(":"))?(consequent=this.expression(),{type:AST.ConditionalExpression,test:test,alternate:alternate,consequent:consequent}):test},logicalOR:function(){for(var left=this.logicalAND();this.expect("||");)left={type:AST.LogicalExpression,operator:"||",left:left,right:this.logicalAND()};return left},logicalAND:function(){for(var left=this.equality();this.expect("&&");)left={type:AST.LogicalExpression,operator:"&&",left:left,right:this.equality()};return left},equality:function(){for(var token,left=this.relational();token=this.expect("==","!=","===","!==");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.relational()};return left},relational:function(){for(var token,left=this.additive();token=this.expect("<",">","<=",">=");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.additive()};return left},additive:function(){for(var token,left=this.multiplicative();token=this.expect("+","-");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.multiplicative()};return left},multiplicative:function(){for(var token,left=this.unary();token=this.expect("*","/","%");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.unary()};return left},unary:function(){var token;return(token=this.expect("+","-","!"))?{type:AST.UnaryExpression,operator:token.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var primary;this.expect("(")?(primary=this.filterChain(),this.consume(")")):this.expect("[")?primary=this.arrayDeclaration():this.expect("{")?primary=this.object():this.constants.hasOwnProperty(this.peek().text)?primary=copy(this.constants[this.consume().text]):this.peek().identifier?primary=this.identifier():this.peek().constant?primary=this.constant():this.throwError("not a primary expression",this.peek());for(var next;next=this.expect("(","[",".");)"("===next.text?(primary={type:AST.CallExpression,callee:primary,arguments:this.parseArguments()},this.consume(")")):"["===next.text?(primary={type:AST.MemberExpression,object:primary,property:this.expression(),computed:!0},this.consume("]")):"."===next.text?primary={type:AST.MemberExpression,object:primary,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return primary},filter:function(baseExpression){for(var args=[baseExpression],result={type:AST.CallExpression,callee:this.identifier(),arguments:args,filter:!0};this.expect(":");)args.push(this.expression());return result},parseArguments:function(){var args=[];if(")"!==this.peekToken().text)do args.push(this.expression());while(this.expect(","));return args},identifier:function(){var token=this.consume();return token.identifier||this.throwError("is not a valid identifier",token),{type:AST.Identifier,name:token.text}},constant:function(){return{type:AST.Literal,value:this.consume().value}},arrayDeclaration:function(){var elements=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;elements.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:AST.ArrayExpression,elements:elements}},object:function(){var property,properties=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;property={type:AST.Property,kind:"init"},this.peek().constant?property.key=this.constant():this.peek().identifier?property.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),property.value=this.expression(),properties.push(property)}while(this.expect(","));return this.consume("}"),{type:AST.ObjectExpression,properties:properties}},throwError:function(msg,token){throw $parseMinErr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",token.text,msg,token.index+1,this.text,this.text.substring(token.index))},consume:function(e1){if(0===this.tokens.length)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);var token=this.expect(e1);return token||this.throwError("is unexpected, expecting ["+e1+"]",this.peek()),token},peekToken:function(){if(0===this.tokens.length)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e1,e2,e3,e4){return this.peekAhead(0,e1,e2,e3,e4)},peekAhead:function(i,e1,e2,e3,e4){if(this.tokens.length>i){var token=this.tokens[i],t=token.text;if(t===e1||t===e2||t===e3||t===e4||!e1&&!e2&&!e3&&!e4)return token}return!1},expect:function(e1,e2,e3,e4){var token=this.peek(e1,e2,e3,e4);return token?(this.tokens.shift(),token):!1},constants:{"true":{type:AST.Literal,value:!0},"false":{type:AST.Literal,value:!1},"null":{type:AST.Literal,value:null},undefined:{type:AST.Literal,value:undefined},"this":{type:AST.ThisExpression}}},ASTCompiler.prototype={compile:function(expression,expensiveChecks){var self=this,ast=this.astBuilder.ast(expression);this.state={nextId:0,filters:{},expensiveChecks:expensiveChecks,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},findConstantAndWatchExpressions(ast,self.$filter);var assignable,extra="";if(this.stage="assign",assignable=assignableAST(ast)){this.state.computing="assign";var result=this.nextId();this.recurse(assignable,result),extra="fn.assign="+this.generateFunction("assign","s,v,l")}var toWatch=getInputs(ast.body);self.stage="inputs",forEach(toWatch,function(watch,key){var fnKey="fn"+key;self.state[fnKey]={vars:[],body:[],own:{}},self.state.computing=fnKey;var intoId=self.nextId();self.recurse(watch,intoId),self.return_(intoId),self.state.inputs.push(fnKey),watch.watchId=key}),this.state.computing="fn",this.stage="main",this.recurse(ast);var fnString='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+extra+this.watchFns()+"return fn;",fn=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",fnString)(this.$filter,ensureSafeMemberName,ensureSafeObject,ensureSafeFunction,ifDefined,plusFn,expression);return this.state=this.stage=undefined,fn.literal=isLiteral(ast),fn.constant=isConstant(ast),fn},USE:"use",STRICT:"strict",watchFns:function(){var result=[],fns=this.state.inputs,self=this;return forEach(fns,function(name){result.push("var "+name+"="+self.generateFunction(name,"s"))}),fns.length&&result.push("fn.inputs=["+fns.join(",")+"];"),result.join("")},generateFunction:function(name,params){return"function("+params+"){"+this.varsPrefix(name)+this.body(name)+"};"},filterPrefix:function(){var parts=[],self=this;return forEach(this.state.filters,function(id,filter){parts.push(id+"=$filter("+self.escape(filter)+")")}),parts.length?"var "+parts.join(",")+";":""},varsPrefix:function(section){return this.state[section].vars.length?"var "+this.state[section].vars.join(",")+";":""},body:function(section){return this.state[section].body.join("")},recurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var left,right,args,expression,self=this;if(recursionFn=recursionFn||noop,!skipWatchIdCheck&&isDefined(ast.watchId))return intoId=intoId||this.nextId(),void this.if_("i",this.lazyAssign(intoId,this.computedMember("i",ast.watchId)),this.lazyRecurse(ast,intoId,nameId,recursionFn,create,!0));switch(ast.type){case AST.Program:forEach(ast.body,function(expression,pos){self.recurse(expression.expression,undefined,undefined,function(expr){right=expr}),pos!==ast.body.length-1?self.current().body.push(right,";"):self.return_(right)});break;case AST.Literal:expression=this.escape(ast.value),this.assign(intoId,expression),recursionFn(expression);break;case AST.UnaryExpression:this.recurse(ast.argument,undefined,undefined,function(expr){right=expr}),expression=ast.operator+"("+this.ifDefined(right,0)+")",this.assign(intoId,expression),recursionFn(expression);break;case AST.BinaryExpression:this.recurse(ast.left,undefined,undefined,function(expr){left=expr}),this.recurse(ast.right,undefined,undefined,function(expr){right=expr}),expression="+"===ast.operator?this.plus(left,right):"-"===ast.operator?this.ifDefined(left,0)+ast.operator+this.ifDefined(right,0):"("+left+")"+ast.operator+"("+right+")",this.assign(intoId,expression),recursionFn(expression);break;case AST.LogicalExpression:intoId=intoId||this.nextId(),self.recurse(ast.left,intoId),self.if_("&&"===ast.operator?intoId:self.not(intoId),self.lazyRecurse(ast.right,intoId)),recursionFn(intoId);break;case AST.ConditionalExpression:intoId=intoId||this.nextId(),self.recurse(ast.test,intoId),self.if_(intoId,self.lazyRecurse(ast.alternate,intoId),self.lazyRecurse(ast.consequent,intoId)),recursionFn(intoId);break;case AST.Identifier:intoId=intoId||this.nextId(),nameId&&(nameId.context="inputs"===self.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",ast.name)+"?l:s"),nameId.computed=!1,nameId.name=ast.name),ensureSafeMemberName(ast.name),self.if_("inputs"===self.stage||self.not(self.getHasOwnProperty("l",ast.name)),function(){self.if_("inputs"===self.stage||"s",function(){create&&1!==create&&self.if_(self.not(self.nonComputedMember("s",ast.name)),self.lazyAssign(self.nonComputedMember("s",ast.name),"{}")),self.assign(intoId,self.nonComputedMember("s",ast.name))})},intoId&&self.lazyAssign(intoId,self.nonComputedMember("l",ast.name))),(self.state.expensiveChecks||isPossiblyDangerousMemberName(ast.name))&&self.addEnsureSafeObject(intoId),recursionFn(intoId);break;case AST.MemberExpression:left=nameId&&(nameId.context=this.nextId())||this.nextId(),intoId=intoId||this.nextId(),self.recurse(ast.object,left,undefined,function(){self.if_(self.notNull(left),function(){ast.computed?(right=self.nextId(),self.recurse(ast.property,right),self.addEnsureSafeMemberName(right),create&&1!==create&&self.if_(self.not(self.computedMember(left,right)),self.lazyAssign(self.computedMember(left,right),"{}")),expression=self.ensureSafeObject(self.computedMember(left,right)),self.assign(intoId,expression),nameId&&(nameId.computed=!0,nameId.name=right)):(ensureSafeMemberName(ast.property.name),create&&1!==create&&self.if_(self.not(self.nonComputedMember(left,ast.property.name)),self.lazyAssign(self.nonComputedMember(left,ast.property.name),"{}")),expression=self.nonComputedMember(left,ast.property.name),(self.state.expensiveChecks||isPossiblyDangerousMemberName(ast.property.name))&&(expression=self.ensureSafeObject(expression)),self.assign(intoId,expression),nameId&&(nameId.computed=!1,nameId.name=ast.property.name))},function(){self.assign(intoId,"undefined")}),recursionFn(intoId)},!!create);break;case AST.CallExpression:intoId=intoId||this.nextId(),ast.filter?(right=self.filter(ast.callee.name),args=[],forEach(ast.arguments,function(expr){var argument=self.nextId();self.recurse(expr,argument),args.push(argument)}),expression=right+"("+args.join(",")+")",self.assign(intoId,expression),recursionFn(intoId)):(right=self.nextId(),left={},args=[],self.recurse(ast.callee,right,left,function(){self.if_(self.notNull(right),function(){self.addEnsureSafeFunction(right),forEach(ast.arguments,function(expr){self.recurse(expr,self.nextId(),undefined,function(argument){args.push(self.ensureSafeObject(argument))})}),left.name?(self.state.expensiveChecks||self.addEnsureSafeObject(left.context),expression=self.member(left.context,left.name,left.computed)+"("+args.join(",")+")"):expression=right+"("+args.join(",")+")",expression=self.ensureSafeObject(expression),self.assign(intoId,expression)},function(){self.assign(intoId,"undefined")}),recursionFn(intoId)}));break;case AST.AssignmentExpression:if(right=this.nextId(),left={},!isAssignable(ast.left))throw $parseMinErr("lval","Trying to assing a value to a non l-value");this.recurse(ast.left,undefined,left,function(){self.if_(self.notNull(left.context),function(){self.recurse(ast.right,right),self.addEnsureSafeObject(self.member(left.context,left.name,left.computed)),expression=self.member(left.context,left.name,left.computed)+ast.operator+right,self.assign(intoId,expression),recursionFn(intoId||expression)})},1);break;case AST.ArrayExpression:args=[],forEach(ast.elements,function(expr){self.recurse(expr,self.nextId(),undefined,function(argument){args.push(argument)})}),expression="["+args.join(",")+"]",this.assign(intoId,expression),recursionFn(expression);break;case AST.ObjectExpression:args=[],forEach(ast.properties,function(property){self.recurse(property.value,self.nextId(),undefined,function(expr){args.push(self.escape(property.key.type===AST.Identifier?property.key.name:""+property.key.value)+":"+expr)})}),expression="{"+args.join(",")+"}",this.assign(intoId,expression),recursionFn(expression);break;case AST.ThisExpression:this.assign(intoId,"s"),recursionFn("s");break;case AST.NGValueParameter:this.assign(intoId,"v"),recursionFn("v")}},getHasOwnProperty:function(element,property){var key=element+"."+property,own=this.current().own;return own.hasOwnProperty(key)||(own[key]=this.nextId(!1,element+"&&("+this.escape(property)+" in "+element+")")),own[key]},assign:function(id,value){return id?(this.current().body.push(id,"=",value,";"),id):void 0},filter:function(filterName){return this.state.filters.hasOwnProperty(filterName)||(this.state.filters[filterName]=this.nextId(!0)),this.state.filters[filterName]},ifDefined:function(id,defaultValue){return"ifDefined("+id+","+this.escape(defaultValue)+")"},plus:function(left,right){return"plus("+left+","+right+")"},return_:function(id){this.current().body.push("return ",id,";")},if_:function(test,alternate,consequent){if(test===!0)alternate();else{var body=this.current().body;body.push("if(",test,"){"),alternate(),body.push("}"),consequent&&(body.push("else{"),consequent(),body.push("}"))}},not:function(expression){return"!("+expression+")"},notNull:function(expression){return expression+"!=null"},nonComputedMember:function(left,right){return left+"."+right},computedMember:function(left,right){return left+"["+right+"]"},member:function(left,right,computed){return computed?this.computedMember(left,right):this.nonComputedMember(left,right)},addEnsureSafeObject:function(item){this.current().body.push(this.ensureSafeObject(item),";")},addEnsureSafeMemberName:function(item){this.current().body.push(this.ensureSafeMemberName(item),";")},addEnsureSafeFunction:function(item){this.current().body.push(this.ensureSafeFunction(item),";")},ensureSafeObject:function(item){return"ensureSafeObject("+item+",text)"},ensureSafeMemberName:function(item){return"ensureSafeMemberName("+item+",text)"},ensureSafeFunction:function(item){return"ensureSafeFunction("+item+",text)"},lazyRecurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var self=this;return function(){self.recurse(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck)}},lazyAssign:function(id,value){var self=this;return function(){self.assign(id,value)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(c){return"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)},escape:function(value){if(isString(value))return"'"+value.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(isNumber(value))return value.toString();if(value===!0)return"true";if(value===!1)return"false";if(null===value)return"null";if("undefined"==typeof value)return"undefined";throw $parseMinErr("esc","IMPOSSIBLE")},nextId:function(skip,init){var id="v"+this.state.nextId++;return skip||this.current().vars.push(id+(init?"="+init:"")),id},current:function(){return this.state[this.state.computing]}},ASTInterpreter.prototype={compile:function(expression,expensiveChecks){var self=this,ast=this.astBuilder.ast(expression);this.expression=expression,this.expensiveChecks=expensiveChecks,findConstantAndWatchExpressions(ast,self.$filter);var assignable,assign;(assignable=assignableAST(ast))&&(assign=this.recurse(assignable));var inputs,toWatch=getInputs(ast.body);toWatch&&(inputs=[],forEach(toWatch,function(watch,key){var input=self.recurse(watch);watch.input=input,inputs.push(input),watch.watchId=key}));var expressions=[];forEach(ast.body,function(expression){expressions.push(self.recurse(expression.expression))});var fn=0===ast.body.length?function(){}:1===ast.body.length?expressions[0]:function(scope,locals){var lastValue;return forEach(expressions,function(exp){lastValue=exp(scope,locals)}),lastValue};return assign&&(fn.assign=function(scope,value,locals){return assign(scope,locals,value)}),inputs&&(fn.inputs=inputs),fn.literal=isLiteral(ast),fn.constant=isConstant(ast),fn},recurse:function(ast,context,create){var left,right,args,self=this;if(ast.input)return this.inputs(ast.input,ast.watchId);switch(ast.type){case AST.Literal:return this.value(ast.value,context);case AST.UnaryExpression:return right=this.recurse(ast.argument),this["unary"+ast.operator](right,context);case AST.BinaryExpression:return left=this.recurse(ast.left),right=this.recurse(ast.right),this["binary"+ast.operator](left,right,context);case AST.LogicalExpression:return left=this.recurse(ast.left),right=this.recurse(ast.right),this["binary"+ast.operator](left,right,context);case AST.ConditionalExpression:return this["ternary?:"](this.recurse(ast.test),this.recurse(ast.alternate),this.recurse(ast.consequent),context);case AST.Identifier:return ensureSafeMemberName(ast.name,self.expression),self.identifier(ast.name,self.expensiveChecks||isPossiblyDangerousMemberName(ast.name),context,create,self.expression);case AST.MemberExpression:return left=this.recurse(ast.object,!1,!!create),ast.computed||(ensureSafeMemberName(ast.property.name,self.expression),right=ast.property.name),ast.computed&&(right=this.recurse(ast.property)),ast.computed?this.computedMember(left,right,context,create,self.expression):this.nonComputedMember(left,right,self.expensiveChecks,context,create,self.expression);case AST.CallExpression:return args=[],forEach(ast.arguments,function(expr){args.push(self.recurse(expr))}),ast.filter&&(right=this.$filter(ast.callee.name)),ast.filter||(right=this.recurse(ast.callee,!0)),ast.filter?function(scope,locals,assign,inputs){for(var values=[],i=0;i<args.length;++i)values.push(args[i](scope,locals,assign,inputs));var value=right.apply(undefined,values,inputs);return context?{context:undefined,name:undefined,value:value}:value}:function(scope,locals,assign,inputs){var value,rhs=right(scope,locals,assign,inputs);if(null!=rhs.value){ensureSafeObject(rhs.context,self.expression),ensureSafeFunction(rhs.value,self.expression);for(var values=[],i=0;i<args.length;++i)values.push(ensureSafeObject(args[i](scope,locals,assign,inputs),self.expression));value=ensureSafeObject(rhs.value.apply(rhs.context,values),self.expression)}return context?{value:value}:value};case AST.AssignmentExpression:return left=this.recurse(ast.left,!0,1),right=this.recurse(ast.right),function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs),rhs=right(scope,locals,assign,inputs);return ensureSafeObject(lhs.value,self.expression),lhs.context[lhs.name]=rhs,context?{value:rhs}:rhs};case AST.ArrayExpression:return args=[],forEach(ast.elements,function(expr){args.push(self.recurse(expr))}),function(scope,locals,assign,inputs){for(var value=[],i=0;i<args.length;++i)value.push(args[i](scope,locals,assign,inputs));return context?{value:value}:value};case AST.ObjectExpression:return args=[],forEach(ast.properties,function(property){args.push({key:property.key.type===AST.Identifier?property.key.name:""+property.key.value,value:self.recurse(property.value)})}),function(scope,locals,assign,inputs){for(var value={},i=0;i<args.length;++i)value[args[i].key]=args[i].value(scope,locals,assign,inputs);return context?{value:value}:value};case AST.ThisExpression:return function(scope){return context?{value:scope}:scope};case AST.NGValueParameter:return function(scope,locals,assign,inputs){return context?{value:assign}:assign}}},"unary+":function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);return arg=isDefined(arg)?+arg:0,context?{value:arg}:arg}},"unary-":function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);return arg=isDefined(arg)?-arg:0,context?{value:arg}:arg}},"unary!":function(argument,context){return function(scope,locals,assign,inputs){var arg=!argument(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary+":function(left,right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs),rhs=right(scope,locals,assign,inputs),arg=plusFn(lhs,rhs);return context?{value:arg}:arg}},"binary-":function(left,right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs),rhs=right(scope,locals,assign,inputs),arg=(isDefined(lhs)?lhs:0)-(isDefined(rhs)?rhs:0);return context?{value:arg}:arg}},"binary*":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)*right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary/":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)/right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary%":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)%right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary===":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)===right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary!==":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!==right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary==":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)==right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary!=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary<":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary>":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary<=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary>=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary&&":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)&&right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary||":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)||right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"ternary?:":function(test,alternate,consequent,context){return function(scope,locals,assign,inputs){var arg=test(scope,locals,assign,inputs)?alternate(scope,locals,assign,inputs):consequent(scope,locals,assign,inputs);return context?{
value:arg}:arg}},value:function(value,context){return function(){return context?{context:undefined,name:undefined,value:value}:value}},identifier:function(name,expensiveChecks,context,create,expression){return function(scope,locals,assign,inputs){var base=locals&&name in locals?locals:scope;create&&1!==create&&base&&!base[name]&&(base[name]={});var value=base?base[name]:undefined;return expensiveChecks&&ensureSafeObject(value,expression),context?{context:base,name:name,value:value}:value}},computedMember:function(left,right,context,create,expression){return function(scope,locals,assign,inputs){var rhs,value,lhs=left(scope,locals,assign,inputs);return null!=lhs&&(rhs=right(scope,locals,assign,inputs),ensureSafeMemberName(rhs,expression),create&&1!==create&&lhs&&!lhs[rhs]&&(lhs[rhs]={}),value=lhs[rhs],ensureSafeObject(value,expression)),context?{context:lhs,name:rhs,value:value}:value}},nonComputedMember:function(left,right,expensiveChecks,context,create,expression){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);create&&1!==create&&lhs&&!lhs[right]&&(lhs[right]={});var value=null!=lhs?lhs[right]:undefined;return(expensiveChecks||isPossiblyDangerousMemberName(right))&&ensureSafeObject(value,expression),context?{context:lhs,name:right,value:value}:value}},inputs:function(input,watchId){return function(scope,value,locals,inputs){return inputs?inputs[watchId]:input(scope,value,locals)}}};var Parser=function(lexer,$filter,options){this.lexer=lexer,this.$filter=$filter,this.options=options,this.ast=new AST(this.lexer),this.astCompiler=options.csp?new ASTInterpreter(this.ast,$filter):new ASTCompiler(this.ast,$filter)};Parser.prototype={constructor:Parser,parse:function(text){return this.astCompiler.compile(text,this.options.expensiveChecks)}};var objectValueOf=(createMap(),createMap(),Object.prototype.valueOf),$sceMinErr=minErr("$sce"),SCE_CONTEXTS={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},$compileMinErr=minErr("$compile"),urlParsingNode=document.createElement("a"),originUrl=urlResolve(window.location.href);$$CookieReader.$inject=["$document"],$FilterProvider.$inject=["$provide"],currencyFilter.$inject=["$locale"],numberFilter.$inject=["$locale"];var DECIMAL_SEP=".",DATE_FORMATS={yyyy:dateGetter("FullYear",4),yy:dateGetter("FullYear",2,0,!0),y:dateGetter("FullYear",1),MMMM:dateStrGetter("Month"),MMM:dateStrGetter("Month",!0),MM:dateGetter("Month",2,1),M:dateGetter("Month",1,1),dd:dateGetter("Date",2),d:dateGetter("Date",1),HH:dateGetter("Hours",2),H:dateGetter("Hours",1),hh:dateGetter("Hours",2,-12),h:dateGetter("Hours",1,-12),mm:dateGetter("Minutes",2),m:dateGetter("Minutes",1),ss:dateGetter("Seconds",2),s:dateGetter("Seconds",1),sss:dateGetter("Milliseconds",3),EEEE:dateStrGetter("Day"),EEE:dateStrGetter("Day",!0),a:ampmGetter,Z:timeZoneGetter,ww:weekGetter(2),w:weekGetter(1),G:eraGetter,GG:eraGetter,GGG:eraGetter,GGGG:longEraGetter},DATE_FORMATS_SPLIT=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,NUMBER_STRING=/^\-?\d+$/;dateFilter.$inject=["$locale"];var lowercaseFilter=valueFn(lowercase),uppercaseFilter=valueFn(uppercase);orderByFilter.$inject=["$parse"];var htmlAnchorDirective=valueFn({restrict:"E",compile:function(element,attr){return attr.href||attr.xlinkHref?void 0:function(scope,element){if("a"===element[0].nodeName.toLowerCase()){var href="[object SVGAnimatedString]"===toString.call(element.prop("href"))?"xlink:href":"href";element.on("click",function(event){element.attr(href)||event.preventDefault()})}}}}),ngAttributeAliasDirectives={};forEach(BOOLEAN_ATTR,function(propName,attrName){function defaultLinkFn(scope,element,attr){scope.$watch(attr[normalized],function(value){attr.$set(attrName,!!value)})}if("multiple"!=propName){var normalized=directiveNormalize("ng-"+attrName),linkFn=defaultLinkFn;"checked"===propName&&(linkFn=function(scope,element,attr){attr.ngModel!==attr[normalized]&&defaultLinkFn(scope,element,attr)}),ngAttributeAliasDirectives[normalized]=function(){return{restrict:"A",priority:100,link:linkFn}}}}),forEach(ALIASED_ATTR,function(htmlAttr,ngAttr){ngAttributeAliasDirectives[ngAttr]=function(){return{priority:100,link:function(scope,element,attr){if("ngPattern"===ngAttr&&"/"==attr.ngPattern.charAt(0)){var match=attr.ngPattern.match(REGEX_STRING_REGEXP);if(match)return void attr.$set("ngPattern",new RegExp(match[1],match[2]))}scope.$watch(attr[ngAttr],function(value){attr.$set(ngAttr,value)})}}}}),forEach(["src","srcset","href"],function(attrName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:99,link:function(scope,element,attr){var propName=attrName,name=attrName;"href"===attrName&&"[object SVGAnimatedString]"===toString.call(element.prop("href"))&&(name="xlinkHref",attr.$attr[name]="xlink:href",propName=null),attr.$observe(normalized,function(value){return value?(attr.$set(name,value),void(msie&&propName&&element.prop(propName,attr[name]))):void("href"===attrName&&attr.$set(name,null))})}}}});var nullFormCtrl={$addControl:noop,$$renameControl:nullFormRenameControl,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop,$setSubmitted:noop},SUBMITTED_CLASS="ng-submitted";FormController.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var formDirectiveFactory=function(isNgForm){return["$timeout","$parse",function($timeout,$parse){function getSetter(expression){return""===expression?$parse('this[""]').assign:$parse(expression).assign||noop}var formDirective={name:"form",restrict:isNgForm?"EAC":"E",controller:FormController,compile:function(formElement,attr){formElement.addClass(PRISTINE_CLASS).addClass(VALID_CLASS);var nameAttr=attr.name?"name":isNgForm&&attr.ngForm?"ngForm":!1;return{pre:function(scope,formElement,attr,controller){if(!("action"in attr)){var handleFormSubmission=function(event){scope.$apply(function(){controller.$commitViewValue(),controller.$setSubmitted()}),event.preventDefault()};addEventListenerFn(formElement[0],"submit",handleFormSubmission),formElement.on("$destroy",function(){$timeout(function(){removeEventListenerFn(formElement[0],"submit",handleFormSubmission)},0,!1)})}var parentFormCtrl=controller.$$parentForm,setter=nameAttr?getSetter(controller.$name):noop;nameAttr&&(setter(scope,controller),attr.$observe(nameAttr,function(newValue){controller.$name!==newValue&&(setter(scope,undefined),parentFormCtrl.$$renameControl(controller,newValue),(setter=getSetter(controller.$name))(scope,controller))})),formElement.on("$destroy",function(){parentFormCtrl.$removeControl(controller),setter(scope,undefined),extend(controller,nullFormCtrl)})}}}};return formDirective}]},formDirective=formDirectiveFactory(),ngFormDirective=formDirectiveFactory(!0),ISO_DATE_REGEXP=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,URL_REGEXP=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,EMAIL_REGEXP=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,NUMBER_REGEXP=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,DATE_REGEXP=/^(\d{4})-(\d{2})-(\d{2})$/,DATETIMELOCAL_REGEXP=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,WEEK_REGEXP=/^(\d{4})-W(\d\d)$/,MONTH_REGEXP=/^(\d{4})-(\d\d)$/,TIME_REGEXP=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,inputType={text:textInputType,date:createDateInputType("date",DATE_REGEXP,createDateParser(DATE_REGEXP,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":createDateInputType("datetimelocal",DATETIMELOCAL_REGEXP,createDateParser(DATETIMELOCAL_REGEXP,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:createDateInputType("time",TIME_REGEXP,createDateParser(TIME_REGEXP,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:createDateInputType("week",WEEK_REGEXP,weekParser,"yyyy-Www"),month:createDateInputType("month",MONTH_REGEXP,createDateParser(MONTH_REGEXP,["yyyy","MM"]),"yyyy-MM"),number:numberInputType,url:urlInputType,email:emailInputType,radio:radioInputType,checkbox:checkboxInputType,hidden:noop,button:noop,submit:noop,reset:noop,file:noop},inputDirective=["$browser","$sniffer","$filter","$parse",function($browser,$sniffer,$filter,$parse){return{restrict:"E",require:["?ngModel"],link:{pre:function(scope,element,attr,ctrls){ctrls[0]&&(inputType[lowercase(attr.type)]||inputType.text)(scope,element,attr,ctrls[0],$sniffer,$browser,$filter,$parse)}}}}],CONSTANT_VALUE_REGEXP=/^(true|false|\d+)$/,ngValueDirective=function(){return{restrict:"A",priority:100,compile:function(tpl,tplAttr){return CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue)?function(scope,elm,attr){attr.$set("value",scope.$eval(attr.ngValue))}:function(scope,elm,attr){scope.$watch(attr.ngValue,function(value){attr.$set("value",value)})}}}},ngBindDirective=["$compile",function($compile){return{restrict:"AC",compile:function(templateElement){return $compile.$$addBindingClass(templateElement),function(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBind),element=element[0],scope.$watch(attr.ngBind,function(value){element.textContent=value===undefined?"":value})}}}}],ngBindTemplateDirective=["$interpolate","$compile",function($interpolate,$compile){return{compile:function(templateElement){return $compile.$$addBindingClass(templateElement),function(scope,element,attr){var interpolateFn=$interpolate(element.attr(attr.$attr.ngBindTemplate));$compile.$$addBindingInfo(element,interpolateFn.expressions),element=element[0],attr.$observe("ngBindTemplate",function(value){element.textContent=value===undefined?"":value})}}}}],ngBindHtmlDirective=["$sce","$parse","$compile",function($sce,$parse,$compile){return{restrict:"A",compile:function(tElement,tAttrs){var ngBindHtmlGetter=$parse(tAttrs.ngBindHtml),ngBindHtmlWatch=$parse(tAttrs.ngBindHtml,function(value){return(value||"").toString()});return $compile.$$addBindingClass(tElement),function(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBindHtml),scope.$watch(ngBindHtmlWatch,function(){element.html($sce.getTrustedHtml(ngBindHtmlGetter(scope))||"")})}}}}],ngChangeDirective=valueFn({restrict:"A",require:"ngModel",link:function(scope,element,attr,ctrl){ctrl.$viewChangeListeners.push(function(){scope.$eval(attr.ngChange)})}}),ngClassDirective=classDirective("",!0),ngClassOddDirective=classDirective("Odd",0),ngClassEvenDirective=classDirective("Even",1),ngCloakDirective=ngDirective({compile:function(element,attr){attr.$set("ngCloak",undefined),element.removeClass("ng-cloak")}}),ngControllerDirective=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ngEventDirectives={},forceAsyncEvents={blur:!0,focus:!0};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(eventName){var directiveName=directiveNormalize("ng-"+eventName);ngEventDirectives[directiveName]=["$parse","$rootScope",function($parse,$rootScope){return{restrict:"A",compile:function($element,attr){var fn=$parse(attr[directiveName],null,!0);return function(scope,element){element.on(eventName,function(event){var callback=function(){fn(scope,{$event:event})};forceAsyncEvents[eventName]&&$rootScope.$$phase?scope.$evalAsync(callback):scope.$apply(callback)})}}}}]});var ngIfDirective=["$animate",function($animate){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function($scope,$element,$attr,ctrl,$transclude){var block,childScope,previousElements;$scope.$watch($attr.ngIf,function(value){value?childScope||$transclude(function(clone,newScope){childScope=newScope,clone[clone.length++]=document.createComment(" end ngIf: "+$attr.ngIf+" "),block={clone:clone},$animate.enter(clone,$element.parent(),$element)}):(previousElements&&(previousElements.remove(),previousElements=null),childScope&&(childScope.$destroy(),childScope=null),block&&(previousElements=getBlockNodes(block.clone),$animate.leave(previousElements).then(function(){previousElements=null}),block=null))})}}}],ngIncludeDirective=["$templateRequest","$anchorScroll","$animate",function($templateRequest,$anchorScroll,$animate){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:angular.noop,compile:function(element,attr){var srcExp=attr.ngInclude||attr.src,onloadExp=attr.onload||"",autoScrollExp=attr.autoscroll;return function(scope,$element,$attr,ctrl,$transclude){var currentScope,previousElement,currentElement,changeCounter=0,cleanupLastIncludeContent=function(){previousElement&&(previousElement.remove(),previousElement=null),currentScope&&(currentScope.$destroy(),currentScope=null),currentElement&&($animate.leave(currentElement).then(function(){previousElement=null}),previousElement=currentElement,currentElement=null)};scope.$watch(srcExp,function(src){var afterAnimation=function(){!isDefined(autoScrollExp)||autoScrollExp&&!scope.$eval(autoScrollExp)||$anchorScroll()},thisChangeId=++changeCounter;src?($templateRequest(src,!0).then(function(response){if(thisChangeId===changeCounter){var newScope=scope.$new();ctrl.template=response;var clone=$transclude(newScope,function(clone){cleanupLastIncludeContent(),$animate.enter(clone,null,$element).then(afterAnimation)});currentScope=newScope,currentElement=clone,currentScope.$emit("$includeContentLoaded",src),scope.$eval(onloadExp)}},function(){thisChangeId===changeCounter&&(cleanupLastIncludeContent(),scope.$emit("$includeContentError",src))}),scope.$emit("$includeContentRequested",src)):(cleanupLastIncludeContent(),ctrl.template=null)})}}}}],ngIncludeFillContentDirective=["$compile",function($compile){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(scope,$element,$attr,ctrl){return/SVG/.test($element[0].toString())?($element.empty(),void $compile(jqLiteBuildFragment(ctrl.template,document).childNodes)(scope,function(clone){$element.append(clone)},{futureParentElement:$element})):($element.html(ctrl.template),void $compile($element.contents())(scope))}}}],ngInitDirective=ngDirective({priority:450,compile:function(){return{pre:function(scope,element,attrs){scope.$eval(attrs.ngInit)}}}}),ngListDirective=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(scope,element,attr,ctrl){var ngList=element.attr(attr.$attr.ngList)||", ",trimValues="false"!==attr.ngTrim,separator=trimValues?trim(ngList):ngList,parse=function(viewValue){if(!isUndefined(viewValue)){var list=[];return viewValue&&forEach(viewValue.split(separator),function(value){value&&list.push(trimValues?trim(value):value)}),list}};ctrl.$parsers.push(parse),ctrl.$formatters.push(function(value){return isArray(value)?value.join(ngList):undefined}),ctrl.$isEmpty=function(value){return!value||!value.length}}}},VALID_CLASS="ng-valid",INVALID_CLASS="ng-invalid",PRISTINE_CLASS="ng-pristine",DIRTY_CLASS="ng-dirty",UNTOUCHED_CLASS="ng-untouched",TOUCHED_CLASS="ng-touched",PENDING_CLASS="ng-pending",ngModelMinErr=minErr("ngModel"),NgModelController=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function($scope,$exceptionHandler,$attr,$element,$parse,$animate,$timeout,$rootScope,$q,$interpolate){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=undefined,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=undefined,this.$name=$interpolate($attr.name||"",!1)($scope);var parserValid,parsedNgModel=$parse($attr.ngModel),parsedNgModelAssign=parsedNgModel.assign,ngModelGet=parsedNgModel,ngModelSet=parsedNgModelAssign,pendingDebounce=null,ctrl=this;this.$$setOptions=function(options){if(ctrl.$options=options,options&&options.getterSetter){var invokeModelGetter=$parse($attr.ngModel+"()"),invokeModelSetter=$parse($attr.ngModel+"($$$p)");ngModelGet=function($scope){var modelValue=parsedNgModel($scope);return isFunction(modelValue)&&(modelValue=invokeModelGetter($scope)),modelValue},ngModelSet=function($scope,newValue){isFunction(parsedNgModel($scope))?invokeModelSetter($scope,{$$$p:ctrl.$modelValue}):parsedNgModelAssign($scope,ctrl.$modelValue)}}else if(!parsedNgModel.assign)throw ngModelMinErr("nonassign","Expression '{0}' is non-assignable. Element: {1}",$attr.ngModel,startingTag($element))},this.$render=noop,this.$isEmpty=function(value){return isUndefined(value)||""===value||null===value||value!==value};var parentForm=$element.inheritedData("$formController")||nullFormCtrl,currentValidationRunId=0;addSetValidityMethod({ctrl:this,$element:$element,set:function(object,property){object[property]=!0},unset:function(object,property){delete object[property]},parentForm:parentForm,$animate:$animate}),this.$setPristine=function(){ctrl.$dirty=!1,ctrl.$pristine=!0,$animate.removeClass($element,DIRTY_CLASS),$animate.addClass($element,PRISTINE_CLASS)},this.$setDirty=function(){ctrl.$dirty=!0,ctrl.$pristine=!1,$animate.removeClass($element,PRISTINE_CLASS),$animate.addClass($element,DIRTY_CLASS),parentForm.$setDirty()},this.$setUntouched=function(){ctrl.$touched=!1,ctrl.$untouched=!0,$animate.setClass($element,UNTOUCHED_CLASS,TOUCHED_CLASS)},this.$setTouched=function(){ctrl.$touched=!0,ctrl.$untouched=!1,$animate.setClass($element,TOUCHED_CLASS,UNTOUCHED_CLASS)},this.$rollbackViewValue=function(){$timeout.cancel(pendingDebounce),ctrl.$viewValue=ctrl.$$lastCommittedViewValue,ctrl.$render()},this.$validate=function(){if(!isNumber(ctrl.$modelValue)||!isNaN(ctrl.$modelValue)){var viewValue=ctrl.$$lastCommittedViewValue,modelValue=ctrl.$$rawModelValue,prevValid=ctrl.$valid,prevModelValue=ctrl.$modelValue,allowInvalid=ctrl.$options&&ctrl.$options.allowInvalid;ctrl.$$runValidators(modelValue,viewValue,function(allValid){allowInvalid||prevValid===allValid||(ctrl.$modelValue=allValid?modelValue:undefined,ctrl.$modelValue!==prevModelValue&&ctrl.$$writeModelToScope())})}},this.$$runValidators=function(modelValue,viewValue,doneCallback){function processParseErrors(){var errorKey=ctrl.$$parserName||"parse";return parserValid!==undefined?(parserValid||(forEach(ctrl.$validators,function(v,name){setValidity(name,null)}),forEach(ctrl.$asyncValidators,function(v,name){setValidity(name,null)})),setValidity(errorKey,parserValid),parserValid):(setValidity(errorKey,null),!0)}function processSyncValidators(){var syncValidatorsValid=!0;return forEach(ctrl.$validators,function(validator,name){var result=validator(modelValue,viewValue);syncValidatorsValid=syncValidatorsValid&&result,setValidity(name,result)}),syncValidatorsValid?!0:(forEach(ctrl.$asyncValidators,function(v,name){setValidity(name,null)}),!1)}function processAsyncValidators(){var validatorPromises=[],allValid=!0;forEach(ctrl.$asyncValidators,function(validator,name){var promise=validator(modelValue,viewValue);if(!isPromiseLike(promise))throw ngModelMinErr("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",promise);setValidity(name,undefined),validatorPromises.push(promise.then(function(){setValidity(name,!0)},function(error){allValid=!1,setValidity(name,!1)}))}),validatorPromises.length?$q.all(validatorPromises).then(function(){validationDone(allValid)},noop):validationDone(!0)}function setValidity(name,isValid){localValidationRunId===currentValidationRunId&&ctrl.$setValidity(name,isValid)}function validationDone(allValid){localValidationRunId===currentValidationRunId&&doneCallback(allValid)}currentValidationRunId++;var localValidationRunId=currentValidationRunId;return processParseErrors()&&processSyncValidators()?void processAsyncValidators():void validationDone(!1)},this.$commitViewValue=function(){var viewValue=ctrl.$viewValue;$timeout.cancel(pendingDebounce),(ctrl.$$lastCommittedViewValue!==viewValue||""===viewValue&&ctrl.$$hasNativeValidators)&&(ctrl.$$lastCommittedViewValue=viewValue,ctrl.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function writeToModelIfNeeded(){ctrl.$modelValue!==prevModelValue&&ctrl.$$writeModelToScope()}var viewValue=ctrl.$$lastCommittedViewValue,modelValue=viewValue;if(parserValid=isUndefined(modelValue)?undefined:!0)for(var i=0;i<ctrl.$parsers.length;i++)if(modelValue=ctrl.$parsers[i](modelValue),isUndefined(modelValue)){parserValid=!1;break}isNumber(ctrl.$modelValue)&&isNaN(ctrl.$modelValue)&&(ctrl.$modelValue=ngModelGet($scope));var prevModelValue=ctrl.$modelValue,allowInvalid=ctrl.$options&&ctrl.$options.allowInvalid;ctrl.$$rawModelValue=modelValue,allowInvalid&&(ctrl.$modelValue=modelValue,writeToModelIfNeeded()),ctrl.$$runValidators(modelValue,ctrl.$$lastCommittedViewValue,function(allValid){allowInvalid||(ctrl.$modelValue=allValid?modelValue:undefined,writeToModelIfNeeded())})},this.$$writeModelToScope=function(){ngModelSet($scope,ctrl.$modelValue),forEach(ctrl.$viewChangeListeners,function(listener){try{listener()}catch(e){$exceptionHandler(e)}})},this.$setViewValue=function(value,trigger){ctrl.$viewValue=value,(!ctrl.$options||ctrl.$options.updateOnDefault)&&ctrl.$$debounceViewValueCommit(trigger)},this.$$debounceViewValueCommit=function(trigger){var debounce,debounceDelay=0,options=ctrl.$options;options&&isDefined(options.debounce)&&(debounce=options.debounce,isNumber(debounce)?debounceDelay=debounce:isNumber(debounce[trigger])?debounceDelay=debounce[trigger]:isNumber(debounce["default"])&&(debounceDelay=debounce["default"])),$timeout.cancel(pendingDebounce),debounceDelay?pendingDebounce=$timeout(function(){ctrl.$commitViewValue()},debounceDelay):$rootScope.$$phase?ctrl.$commitViewValue():$scope.$apply(function(){ctrl.$commitViewValue()})},$scope.$watch(function(){var modelValue=ngModelGet($scope);if(modelValue!==ctrl.$modelValue&&(ctrl.$modelValue===ctrl.$modelValue||modelValue===modelValue)){ctrl.$modelValue=ctrl.$$rawModelValue=modelValue,parserValid=undefined;for(var formatters=ctrl.$formatters,idx=formatters.length,viewValue=modelValue;idx--;)viewValue=formatters[idx](viewValue);ctrl.$viewValue!==viewValue&&(ctrl.$viewValue=ctrl.$$lastCommittedViewValue=viewValue,ctrl.$render(),ctrl.$$runValidators(modelValue,viewValue,noop))}return modelValue})}],ngModelDirective=["$rootScope",function($rootScope){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:NgModelController,priority:1,compile:function(element){return element.addClass(PRISTINE_CLASS).addClass(UNTOUCHED_CLASS).addClass(VALID_CLASS),{pre:function(scope,element,attr,ctrls){var modelCtrl=ctrls[0],formCtrl=ctrls[1]||nullFormCtrl;modelCtrl.$$setOptions(ctrls[2]&&ctrls[2].$options),formCtrl.$addControl(modelCtrl),attr.$observe("name",function(newValue){modelCtrl.$name!==newValue&&formCtrl.$$renameControl(modelCtrl,newValue)}),scope.$on("$destroy",function(){formCtrl.$removeControl(modelCtrl)})},post:function(scope,element,attr,ctrls){var modelCtrl=ctrls[0];modelCtrl.$options&&modelCtrl.$options.updateOn&&element.on(modelCtrl.$options.updateOn,function(ev){modelCtrl.$$debounceViewValueCommit(ev&&ev.type)}),element.on("blur",function(ev){modelCtrl.$touched||($rootScope.$$phase?scope.$evalAsync(modelCtrl.$setTouched):scope.$apply(modelCtrl.$setTouched))})}}}}}],DEFAULT_REGEXP=/(\s+|^)default(\s+|$)/,ngModelOptionsDirective=function(){return{restrict:"A",controller:["$scope","$attrs",function($scope,$attrs){var that=this;this.$options=copy($scope.$eval($attrs.ngModelOptions)),this.$options.updateOn!==undefined?(this.$options.updateOnDefault=!1,this.$options.updateOn=trim(this.$options.updateOn.replace(DEFAULT_REGEXP,function(){return that.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ngNonBindableDirective=ngDirective({terminal:!0,priority:1e3}),ngOptionsMinErr=minErr("ngOptions"),NG_OPTIONS_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ngOptionsDirective=["$compile","$parse",function($compile,$parse){function parseOptionsExpression(optionsExp,selectElement,scope){function Option(selectValue,viewValue,label,group,disabled){this.selectValue=selectValue,this.viewValue=viewValue,this.label=label,this.group=group,this.disabled=disabled}function getOptionValuesKeys(optionValues){var optionValuesKeys;if(!keyName&&isArrayLike(optionValues))optionValuesKeys=optionValues;else{optionValuesKeys=[];for(var itemKey in optionValues)optionValues.hasOwnProperty(itemKey)&&"$"!==itemKey.charAt(0)&&optionValuesKeys.push(itemKey)}return optionValuesKeys}var match=optionsExp.match(NG_OPTIONS_REGEXP);if(!match)throw ngOptionsMinErr("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",optionsExp,startingTag(selectElement));var valueName=match[5]||match[7],keyName=match[6],selectAs=/ as /.test(match[0])&&match[1],trackBy=match[9],valueFn=$parse(match[2]?match[1]:valueName),selectAsFn=selectAs&&$parse(selectAs),viewValueFn=selectAsFn||valueFn,trackByFn=trackBy&&$parse(trackBy),getTrackByValueFn=trackBy?function(value,locals){return trackByFn(scope,locals)}:function(value){return hashKey(value)},getTrackByValue=function(value,key){return getTrackByValueFn(value,getLocals(value,key))},displayFn=$parse(match[2]||match[1]),groupByFn=$parse(match[3]||""),disableWhenFn=$parse(match[4]||""),valuesFn=$parse(match[8]),locals={},getLocals=keyName?function(value,key){return locals[keyName]=key,locals[valueName]=value,locals}:function(value){return locals[valueName]=value,locals};return{trackBy:trackBy,getTrackByValue:getTrackByValue,getWatchables:$parse(valuesFn,function(optionValues){var watchedArray=[];optionValues=optionValues||[];for(var optionValuesKeys=getOptionValuesKeys(optionValues),optionValuesLength=optionValuesKeys.length,index=0;optionValuesLength>index;index++){var key=optionValues===optionValuesKeys?index:optionValuesKeys[index],locals=(optionValues[key],getLocals(optionValues[key],key)),selectValue=getTrackByValueFn(optionValues[key],locals);if(watchedArray.push(selectValue),match[2]||match[1]){var label=displayFn(scope,locals);watchedArray.push(label)}if(match[4]){var disableWhen=disableWhenFn(scope,locals);watchedArray.push(disableWhen)}}return watchedArray}),getOptions:function(){for(var optionItems=[],selectValueMap={},optionValues=valuesFn(scope)||[],optionValuesKeys=getOptionValuesKeys(optionValues),optionValuesLength=optionValuesKeys.length,index=0;optionValuesLength>index;index++){var key=optionValues===optionValuesKeys?index:optionValuesKeys[index],value=optionValues[key],locals=getLocals(value,key),viewValue=viewValueFn(scope,locals),selectValue=getTrackByValueFn(viewValue,locals),label=displayFn(scope,locals),group=groupByFn(scope,locals),disabled=disableWhenFn(scope,locals),optionItem=new Option(selectValue,viewValue,label,group,disabled);optionItems.push(optionItem),selectValueMap[selectValue]=optionItem}return{items:optionItems,selectValueMap:selectValueMap,getOptionFromViewValue:function(value){return selectValueMap[getTrackByValue(value)]},getViewValueFromOption:function(option){return trackBy?angular.copy(option.viewValue):option.viewValue}}}}}var optionTemplate=document.createElement("option"),optGroupTemplate=document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(scope,selectElement,attr,ctrls){function updateOptionElement(option,element){option.element=element,element.disabled=option.disabled,option.value!==element.value&&(element.value=option.selectValue),option.label!==element.label&&(element.label=option.label,element.textContent=option.label)}function addOrReuseElement(parent,current,type,templateElement){var element;return current&&lowercase(current.nodeName)===type?element=current:(element=templateElement.cloneNode(!1),current?parent.insertBefore(element,current):parent.appendChild(element)),element}function removeExcessElements(current){for(var next;current;)next=current.nextSibling,jqLiteRemove(current),current=next}function skipEmptyAndUnknownOptions(current){var emptyOption_=emptyOption&&emptyOption[0],unknownOption_=unknownOption&&unknownOption[0];if(emptyOption_||unknownOption_)for(;current&&(current===emptyOption_||current===unknownOption_);)current=current.nextSibling;return current}function updateOptions(){var previousValue=options&&selectCtrl.readValue();options=ngOptions.getOptions();var groupMap={},currentElement=selectElement[0].firstChild;if(providedEmptyOption&&selectElement.prepend(emptyOption),currentElement=skipEmptyAndUnknownOptions(currentElement),options.items.forEach(function(option){var group,groupElement,optionElement;option.group?(group=groupMap[option.group],group||(groupElement=addOrReuseElement(selectElement[0],currentElement,"optgroup",optGroupTemplate),currentElement=groupElement.nextSibling,groupElement.label=option.group,group=groupMap[option.group]={groupElement:groupElement,currentOptionElement:groupElement.firstChild}),optionElement=addOrReuseElement(group.groupElement,group.currentOptionElement,"option",optionTemplate),updateOptionElement(option,optionElement),group.currentOptionElement=optionElement.nextSibling):(optionElement=addOrReuseElement(selectElement[0],currentElement,"option",optionTemplate),updateOptionElement(option,optionElement),currentElement=optionElement.nextSibling)}),Object.keys(groupMap).forEach(function(key){removeExcessElements(groupMap[key].currentOptionElement)}),removeExcessElements(currentElement),ngModelCtrl.$render(),!ngModelCtrl.$isEmpty(previousValue)){var nextValue=selectCtrl.readValue();(ngOptions.trackBy?equals(previousValue,nextValue):previousValue===nextValue)||(ngModelCtrl.$setViewValue(nextValue),ngModelCtrl.$render())}}var ngModelCtrl=ctrls[1];if(ngModelCtrl){for(var emptyOption,selectCtrl=ctrls[0],multiple=attr.multiple,i=0,children=selectElement.children(),ii=children.length;ii>i;i++)if(""===children[i].value){emptyOption=children.eq(i);break}var providedEmptyOption=!!emptyOption,unknownOption=jqLite(optionTemplate.cloneNode(!1));unknownOption.val("?");var options,ngOptions=parseOptionsExpression(attr.ngOptions,selectElement,scope),renderEmptyOption=function(){providedEmptyOption||selectElement.prepend(emptyOption),selectElement.val(""),emptyOption.prop("selected",!0),emptyOption.attr("selected",!0)},removeEmptyOption=function(){providedEmptyOption||emptyOption.remove()},renderUnknownOption=function(){selectElement.prepend(unknownOption),selectElement.val("?"),unknownOption.prop("selected",!0),unknownOption.attr("selected",!0)},removeUnknownOption=function(){unknownOption.remove()};multiple?(ngModelCtrl.$isEmpty=function(value){return!value||0===value.length},selectCtrl.writeValue=function(value){options.items.forEach(function(option){option.element.selected=!1}),value&&value.forEach(function(item){var option=options.getOptionFromViewValue(item);option&&!option.disabled&&(option.element.selected=!0)})},selectCtrl.readValue=function(){var selectedValues=selectElement.val()||[],selections=[];return forEach(selectedValues,function(value){var option=options.selectValueMap[value];option&&!option.disabled&&selections.push(options.getViewValueFromOption(option))}),selections},ngOptions.trackBy&&scope.$watchCollection(function(){return isArray(ngModelCtrl.$viewValue)?ngModelCtrl.$viewValue.map(function(value){return ngOptions.getTrackByValue(value)}):void 0},function(){ngModelCtrl.$render()})):(selectCtrl.writeValue=function(value){var option=options.getOptionFromViewValue(value);option&&!option.disabled?selectElement[0].value!==option.selectValue&&(removeUnknownOption(),removeEmptyOption(),selectElement[0].value=option.selectValue,option.element.selected=!0,option.element.setAttribute("selected","selected")):null===value||providedEmptyOption?(removeUnknownOption(),
renderEmptyOption()):(removeEmptyOption(),renderUnknownOption())},selectCtrl.readValue=function(){var selectedOption=options.selectValueMap[selectElement.val()];return selectedOption&&!selectedOption.disabled?(removeEmptyOption(),removeUnknownOption(),options.getViewValueFromOption(selectedOption)):null},ngOptions.trackBy&&scope.$watch(function(){return ngOptions.getTrackByValue(ngModelCtrl.$viewValue)},function(){ngModelCtrl.$render()})),providedEmptyOption?(emptyOption.remove(),$compile(emptyOption)(scope),emptyOption.removeClass("ng-scope")):emptyOption=jqLite(optionTemplate.cloneNode(!1)),updateOptions(),scope.$watchCollection(ngOptions.getWatchables,updateOptions)}}}}],ngPluralizeDirective=["$locale","$interpolate","$log",function($locale,$interpolate,$log){var BRACE=/{}/g,IS_WHEN=/^when(Minus)?(.+)$/;return{link:function(scope,element,attr){function updateElementText(newText){element.text(newText||"")}var lastCount,numberExp=attr.count,whenExp=attr.$attr.when&&element.attr(attr.$attr.when),offset=attr.offset||0,whens=scope.$eval(whenExp)||{},whensExpFns={},startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),braceReplacement=startSymbol+numberExp+"-"+offset+endSymbol,watchRemover=angular.noop;forEach(attr,function(expression,attributeName){var tmpMatch=IS_WHEN.exec(attributeName);if(tmpMatch){var whenKey=(tmpMatch[1]?"-":"")+lowercase(tmpMatch[2]);whens[whenKey]=element.attr(attr.$attr[attributeName])}}),forEach(whens,function(expression,key){whensExpFns[key]=$interpolate(expression.replace(BRACE,braceReplacement))}),scope.$watch(numberExp,function(newVal){var count=parseFloat(newVal),countIsNaN=isNaN(count);if(countIsNaN||count in whens||(count=$locale.pluralCat(count-offset)),count!==lastCount&&!(countIsNaN&&isNumber(lastCount)&&isNaN(lastCount))){watchRemover();var whenExpFn=whensExpFns[count];isUndefined(whenExpFn)?(null!=newVal&&$log.debug("ngPluralize: no rule defined for '"+count+"' in "+whenExp),watchRemover=noop,updateElementText()):watchRemover=scope.$watch(whenExpFn,updateElementText),lastCount=count}})}}}],ngRepeatDirective=["$parse","$animate",function($parse,$animate){var NG_REMOVED="$$NG_REMOVED",ngRepeatMinErr=minErr("ngRepeat"),updateScope=function(scope,index,valueIdentifier,value,keyIdentifier,key,arrayLength){scope[valueIdentifier]=value,keyIdentifier&&(scope[keyIdentifier]=key),scope.$index=index,scope.$first=0===index,scope.$last=index===arrayLength-1,scope.$middle=!(scope.$first||scope.$last),scope.$odd=!(scope.$even=0===(1&index))},getBlockStart=function(block){return block.clone[0]},getBlockEnd=function(block){return block.clone[block.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function($element,$attr){var expression=$attr.ngRepeat,ngRepeatEndComment=document.createComment(" end ngRepeat: "+expression+" "),match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match)throw ngRepeatMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);var lhs=match[1],rhs=match[2],aliasAs=match[3],trackByExp=match[4];if(match=lhs.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!match)throw ngRepeatMinErr("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",lhs);var valueIdentifier=match[3]||match[1],keyIdentifier=match[2];if(aliasAs&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(aliasAs)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(aliasAs)))throw ngRepeatMinErr("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",aliasAs);var trackByExpGetter,trackByIdExpFn,trackByIdArrayFn,trackByIdObjFn,hashFnLocals={$id:hashKey};return trackByExp?trackByExpGetter=$parse(trackByExp):(trackByIdArrayFn=function(key,value){return hashKey(value)},trackByIdObjFn=function(key){return key}),function($scope,$element,$attr,ctrl,$transclude){trackByExpGetter&&(trackByIdExpFn=function(key,value,index){return keyIdentifier&&(hashFnLocals[keyIdentifier]=key),hashFnLocals[valueIdentifier]=value,hashFnLocals.$index=index,trackByExpGetter($scope,hashFnLocals)});var lastBlockMap=createMap();$scope.$watchCollection(rhs,function(collection){var index,length,nextNode,collectionLength,key,value,trackById,trackByIdFn,collectionKeys,block,nextBlockOrder,elementsToRemove,previousNode=$element[0],nextBlockMap=createMap();if(aliasAs&&($scope[aliasAs]=collection),isArrayLike(collection))collectionKeys=collection,trackByIdFn=trackByIdExpFn||trackByIdArrayFn;else{trackByIdFn=trackByIdExpFn||trackByIdObjFn,collectionKeys=[];for(var itemKey in collection)collection.hasOwnProperty(itemKey)&&"$"!==itemKey.charAt(0)&&collectionKeys.push(itemKey)}for(collectionLength=collectionKeys.length,nextBlockOrder=new Array(collectionLength),index=0;collectionLength>index;index++)if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],trackById=trackByIdFn(key,value,index),lastBlockMap[trackById])block=lastBlockMap[trackById],delete lastBlockMap[trackById],nextBlockMap[trackById]=block,nextBlockOrder[index]=block;else{if(nextBlockMap[trackById])throw forEach(nextBlockOrder,function(block){block&&block.scope&&(lastBlockMap[block.id]=block)}),ngRepeatMinErr("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",expression,trackById,value);nextBlockOrder[index]={id:trackById,scope:undefined,clone:undefined},nextBlockMap[trackById]=!0}for(var blockKey in lastBlockMap){if(block=lastBlockMap[blockKey],elementsToRemove=getBlockNodes(block.clone),$animate.leave(elementsToRemove),elementsToRemove[0].parentNode)for(index=0,length=elementsToRemove.length;length>index;index++)elementsToRemove[index][NG_REMOVED]=!0;block.scope.$destroy()}for(index=0;collectionLength>index;index++)if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],block=nextBlockOrder[index],block.scope){nextNode=previousNode;do nextNode=nextNode.nextSibling;while(nextNode&&nextNode[NG_REMOVED]);getBlockStart(block)!=nextNode&&$animate.move(getBlockNodes(block.clone),null,jqLite(previousNode)),previousNode=getBlockEnd(block),updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)}else $transclude(function(clone,scope){block.scope=scope;var endNode=ngRepeatEndComment.cloneNode(!1);clone[clone.length++]=endNode,$animate.enter(clone,null,jqLite(previousNode)),previousNode=endNode,block.clone=clone,nextBlockMap[block.id]=block,updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)});lastBlockMap=nextBlockMap})}}}}],NG_HIDE_CLASS="ng-hide",NG_HIDE_IN_PROGRESS_CLASS="ng-hide-animate",ngShowDirective=["$animate",function($animate){return{restrict:"A",multiElement:!0,link:function(scope,element,attr){scope.$watch(attr.ngShow,function(value){$animate[value?"removeClass":"addClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}],ngHideDirective=["$animate",function($animate){return{restrict:"A",multiElement:!0,link:function(scope,element,attr){scope.$watch(attr.ngHide,function(value){$animate[value?"addClass":"removeClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}],ngStyleDirective=ngDirective(function(scope,element,attr){scope.$watch(attr.ngStyle,function(newStyles,oldStyles){oldStyles&&newStyles!==oldStyles&&forEach(oldStyles,function(val,style){element.css(style,"")}),newStyles&&element.css(newStyles)},!0)}),ngSwitchDirective=["$animate",function($animate){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(scope,element,attr,ngSwitchController){var watchExpr=attr.ngSwitch||attr.on,selectedTranscludes=[],selectedElements=[],previousLeaveAnimations=[],selectedScopes=[],spliceFactory=function(array,index){return function(){array.splice(index,1)}};scope.$watch(watchExpr,function(value){var i,ii;for(i=0,ii=previousLeaveAnimations.length;ii>i;++i)$animate.cancel(previousLeaveAnimations[i]);for(previousLeaveAnimations.length=0,i=0,ii=selectedScopes.length;ii>i;++i){var selected=getBlockNodes(selectedElements[i].clone);selectedScopes[i].$destroy();var promise=previousLeaveAnimations[i]=$animate.leave(selected);promise.then(spliceFactory(previousLeaveAnimations,i))}selectedElements.length=0,selectedScopes.length=0,(selectedTranscludes=ngSwitchController.cases["!"+value]||ngSwitchController.cases["?"])&&forEach(selectedTranscludes,function(selectedTransclude){selectedTransclude.transclude(function(caseElement,selectedScope){selectedScopes.push(selectedScope);var anchor=selectedTransclude.element;caseElement[caseElement.length++]=document.createComment(" end ngSwitchWhen: ");var block={clone:caseElement};selectedElements.push(block),$animate.enter(caseElement,anchor.parent(),anchor)})})})}}}],ngSwitchWhenDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(scope,element,attrs,ctrl,$transclude){ctrl.cases["!"+attrs.ngSwitchWhen]=ctrl.cases["!"+attrs.ngSwitchWhen]||[],ctrl.cases["!"+attrs.ngSwitchWhen].push({transclude:$transclude,element:element})}}),ngSwitchDefaultDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(scope,element,attr,ctrl,$transclude){ctrl.cases["?"]=ctrl.cases["?"]||[],ctrl.cases["?"].push({transclude:$transclude,element:element})}}),ngTranscludeDirective=ngDirective({restrict:"EAC",link:function($scope,$element,$attrs,controller,$transclude){if(!$transclude)throw minErr("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",startingTag($element));$transclude(function(clone){$element.empty(),$element.append(clone)})}}),scriptDirective=["$templateCache",function($templateCache){return{restrict:"E",terminal:!0,compile:function(element,attr){if("text/ng-template"==attr.type){var templateUrl=attr.id,text=element[0].text;$templateCache.put(templateUrl,text)}}}}],noopNgModelController={$setViewValue:noop,$render:noop},SelectController=["$element","$scope","$attrs",function($element,$scope,$attrs){var self=this,optionsMap=new HashMap;self.ngModelCtrl=noopNgModelController,self.unknownOption=jqLite(document.createElement("option")),self.renderUnknownOption=function(val){var unknownVal="? "+hashKey(val)+" ?";self.unknownOption.val(unknownVal),$element.prepend(self.unknownOption),$element.val(unknownVal)},$scope.$on("$destroy",function(){self.renderUnknownOption=noop}),self.removeUnknownOption=function(){self.unknownOption.parent()&&self.unknownOption.remove()},self.readValue=function(){return self.removeUnknownOption(),$element.val()},self.writeValue=function(value){self.hasOption(value)?(self.removeUnknownOption(),$element.val(value),""===value&&self.emptyOption.prop("selected",!0)):null==value&&self.emptyOption?(self.removeUnknownOption(),$element.val("")):self.renderUnknownOption(value)},self.addOption=function(value,element){assertNotHasOwnProperty(value,'"option value"'),""===value&&(self.emptyOption=element);var count=optionsMap.get(value)||0;optionsMap.put(value,count+1)},self.removeOption=function(value){var count=optionsMap.get(value);count&&(1===count?(optionsMap.remove(value),""===value&&(self.emptyOption=undefined)):optionsMap.put(value,count-1))},self.hasOption=function(value){return!!optionsMap.get(value)}}],selectDirective=function(){return{restrict:"E",require:["select","?ngModel"],controller:SelectController,link:function(scope,element,attr,ctrls){var ngModelCtrl=ctrls[1];if(ngModelCtrl){var selectCtrl=ctrls[0];if(selectCtrl.ngModelCtrl=ngModelCtrl,ngModelCtrl.$render=function(){selectCtrl.writeValue(ngModelCtrl.$viewValue)},element.on("change",function(){scope.$apply(function(){ngModelCtrl.$setViewValue(selectCtrl.readValue())})}),attr.multiple){selectCtrl.readValue=function(){var array=[];return forEach(element.find("option"),function(option){option.selected&&array.push(option.value)}),array},selectCtrl.writeValue=function(value){var items=new HashMap(value);forEach(element.find("option"),function(option){option.selected=isDefined(items.get(option.value))})};var lastView,lastViewRef=0/0;scope.$watch(function(){lastViewRef!==ngModelCtrl.$viewValue||equals(lastView,ngModelCtrl.$viewValue)||(lastView=shallowCopy(ngModelCtrl.$viewValue),ngModelCtrl.$render()),lastViewRef=ngModelCtrl.$viewValue}),ngModelCtrl.$isEmpty=function(value){return!value||0===value.length}}}}}},optionDirective=["$interpolate",function($interpolate){function chromeHack(optionElement){optionElement[0].hasAttribute("selected")&&(optionElement[0].selected=!0)}return{restrict:"E",priority:100,compile:function(element,attr){if(isUndefined(attr.value)){var interpolateFn=$interpolate(element.text(),!0);interpolateFn||attr.$set("value",element.text())}return function(scope,element,attr){var selectCtrlName="$selectController",parent=element.parent(),selectCtrl=parent.data(selectCtrlName)||parent.parent().data(selectCtrlName);selectCtrl&&selectCtrl.ngModelCtrl&&(interpolateFn?scope.$watch(interpolateFn,function(newVal,oldVal){attr.$set("value",newVal),oldVal!==newVal&&selectCtrl.removeOption(oldVal),selectCtrl.addOption(newVal,element),selectCtrl.ngModelCtrl.$render(),chromeHack(element)}):(selectCtrl.addOption(attr.value,element),selectCtrl.ngModelCtrl.$render(),chromeHack(element)),element.on("$destroy",function(){selectCtrl.removeOption(attr.value),selectCtrl.ngModelCtrl.$render()}))}}}}],styleDirective=valueFn({restrict:"E",terminal:!1}),requiredDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){ctrl&&(attr.required=!0,ctrl.$validators.required=function(modelValue,viewValue){return!attr.required||!ctrl.$isEmpty(viewValue)},attr.$observe("required",function(){ctrl.$validate()}))}}},patternDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var regexp,patternExp=attr.ngPattern||attr.pattern;attr.$observe("pattern",function(regex){if(isString(regex)&&regex.length>0&&(regex=new RegExp("^"+regex+"$")),regex&&!regex.test)throw minErr("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",patternExp,regex,startingTag(elm));regexp=regex||undefined,ctrl.$validate()}),ctrl.$validators.pattern=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(regexp)||regexp.test(viewValue)}}}}},maxlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var maxlength=-1;attr.$observe("maxlength",function(value){var intVal=toInt(value);maxlength=isNaN(intVal)?-1:intVal,ctrl.$validate()}),ctrl.$validators.maxlength=function(modelValue,viewValue){return 0>maxlength||ctrl.$isEmpty(viewValue)||viewValue.length<=maxlength}}}}},minlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var minlength=0;attr.$observe("minlength",function(value){minlength=toInt(value)||0,ctrl.$validate()}),ctrl.$validators.minlength=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||viewValue.length>=minlength}}}}};return window.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(bindJQuery(),publishExternalAPI(angular),angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return-1==i?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;undefined===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 1==i&&0==vf.v?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}]),void jqLite(document).ready(function(){angularInit(document,bootstrap)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},{}],11:[function(require,module,exports){require("./angular"),module.exports=angular},{"./angular":10}],12:[function(require,module,exports){(function(global){var Event,Sister=require("sister");Event=function Event(config){var event,lastEnd,eventEmitter;return this instanceof Event?(eventEmitter=Sister(),event=this,event.on=eventEmitter.on,config=config||{},config.noChangeCountToEnd=config.noChangeCountToEnd||100,config.noEndTimeout=1e3,config.debug=config.debug||!1,void global.addEventListener("orientationchange",function(){var interval,timeout,end,lastInnerWidth,lastInnerHeight,noChangeCount;end=function(dispatchEvent){clearInterval(interval),clearTimeout(timeout),interval=null,timeout=null,dispatchEvent&&eventEmitter.trigger("orientationchangeend")},lastEnd&&lastEnd(!1),lastEnd=end,interval=setInterval(function(){global.innerWidth===lastInnerWidth&&global.innerHeight===lastInnerHeight?(noChangeCount++,noChangeCount===config.noChangeCountToEnd&&(config.debug&&console.debug("setInterval"),end(!0))):(lastInnerWidth=global.innerWidth,lastInnerHeight=global.innerHeight,noChangeCount=0)}),timeout=setTimeout(function(){config.debug&&console.debug("setTimeout"),end(!0)},config.noEndTimeout)})):new Event(config)},global.gajus=global.gajus||{},global.gajus.orientationchangeend=Event,module.exports=Event}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{sister:14}],13:[function(require,module,exports){(function(global){"use strict";var Scream,Sister=require("sister"),OCE=require("orientationchangeend")();Scream=function Scream(config){var scream,eventEmitter;return this instanceof Scream?(scream=this,eventEmitter=Sister(),config=config||{},config.width=config.width||{},config.width.portrait||(config.width.portrait=global.screen.width),config.width.landscape||(config.width.landscape=global.screen.width),scream.getViewportWidth=function(){return config.width[scream.getOrientation()]},scream.getViewportHeight=function(){return Math.round(scream.getScreenHeight()/scream.getScale())},scream.getScale=function(){return scream.getScreenWidth()/scream.getViewportWidth()},scream.getOrientation=function(){return 0===global.orientation||180===global.orientation?"portrait":"landscape"},scream.getScreenWidth=function(){return global.screen["portrait"===scream.getOrientation()?"width":"height"]},scream.getScreenHeight=function(){return global.screen["portrait"===scream.getOrientation()?"height":"width"]},scream._updateViewport=function(){var oldViewport,viewport,width,scale,content;width=scream.getViewportWidth(),scale=scream.getScale(),content="width="+width+", initial-scale="+scale+", minimum-scale="+scale+", maximum-scale="+scale+", user-scalable=0",viewport=document.createElement("meta"),viewport.name="viewport",viewport.content=content,oldViewport=global.document.head.querySelector('meta[name="viewport"]'),oldViewport&&oldViewport.parentNode.removeChild(oldViewport),global.document.head.appendChild(viewport)},scream._deviceSpec=function(){var specs,spec,i;for(specs=[[1280,1762,1920,1280,320,480,2,"iPhone 4"],[1280,2114,2272,1280,320,568,2,"iPhone 5 or 5s"],[1500,2510,2668,1500,375,667,2,"iPhone 6"],[1656,2785,2944,1656,414,736,3,"iPhone 6 plus"],[1500,2509,2668,1500,375,667,3,"iPhone 6 plus (Zoomed)"],[3072,3936,4096,2912,768,1024,1,"iPad 2"],[3072,3938,4096,2914,768,1024,2,"iPad Air or Retina"]],i=specs.length;i--;)if(global.screen.width===specs[i][4]&&global.screen.height===specs[i][5]&&global.devicePixelRatio===specs[i][6]){spec=specs[i];break}return spec},scream._getMinimalViewHeight=function(){var spec,height,orientation=scream.getOrientation();if(spec=scream._deviceSpec(),!spec)throw new Error("Not a known iOS device. If you are using an iOS device, report it to https://github.com/gajus/scream/issues/1.");return height=Math.round("portrait"===orientation?scream.getViewportWidth()*spec[1]/spec[0]:scream.getViewportWidth()*spec[3]/spec[2])},scream.getMinimalViewSize=function(){var width=scream.getViewportWidth(),height=scream._getMinimalViewHeight();return{width:width,height:height}},scream.isMinimalView=function(){return global.innerHeight===scream.getMinimalViewSize().height},scream._detectViewChange=function(){var lastView;return scream._deviceSpec()?function(){var currentView=scream.isMinimalView()?"minimal":"full";lastView!==currentView&&(eventEmitter.trigger("viewchange",{viewName:currentView}),lastView=currentView)}:(console.log("View change detection has been disabled. Unrecognized device. If you are using an iOS device, report it to https://github.com/gajus/scream/issues/1."),function(){})},scream._detectViewChange=scream._detectViewChange(),scream._setupDOMEventListeners=function(){var isOrientationChanging;global.matchMedia("(orientation: portrait)").addListener(function(){isOrientationChanging=!0}),OCE.on("orientationchangeend",function(){isOrientationChanging=!1,scream._updateViewport(),scream._detectViewChange(),eventEmitter.trigger("orientationchangeend")}),global.addEventListener("orientationchange",function(){scream._updateViewport()}),global.addEventListener("resize",function(){isOrientationChanging||scream._detectViewChange()}),global.addEventListener("scroll",function(){isOrientationChanging||scream._detectViewChange()}),setTimeout(function(){scream._detectViewChange()})},scream._updateViewport(),scream._setupDOMEventListeners(),void(scream.on=eventEmitter.on)):new Scream(config)},global.gajus=global.gajus||{},global.gajus.Scream=Scream,module.exports=Scream}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{orientationchangeend:12,sister:14}],14:[function(require,module,exports){(function(global){function Sister(){var sister={},events={};return sister.on=function(name,handler){var listener={name:name,handler:handler};return events[name]=events[name]||[],events[name].unshift(listener),listener},sister.off=function(listener){var index=events[listener.name].indexOf(listener);-1!=index&&events[listener.name].splice(index,1)},sister.trigger=function(name,data){var i,listeners=events[name];if(listeners)for(i=listeners.length;i--;)listeners[i].handler(data)},sister}global.gajus=global.gajus||{},global.gajus.Sister=Sister,module.exports=Sister}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(require,module,exports){(function(global){var Brim,Sister=require("sister");Brim=function Brim(config){var brim,viewport,eventEmitter,player={};if(!(this instanceof Brim))return new Brim(config);if(brim=this,!(config.viewport&&config.viewport instanceof gajus.Scream))throw new Error('Configuration property "viewport" must be an instance of Scream.');viewport=config.viewport,brim._setupDOMEventListeners=function(){viewport.on("orientationchangeend",function(){brim._treadmill(),brim._main(),brim._mask()}),viewport.on("viewchange",function(e){brim._main(),brim._mask(),eventEmitter.trigger("viewchange",e)}),brim._main(),brim._mask(),function(){var firstMove;global.document.addEventListener("touchstart",function(e){firstMove=!0}),global.document.addEventListener("touchmove",function(e){viewport.isMinimalView()&&firstMove,firstMove=!1})}()},brim._treadmill=function(){global.scrollTo(0,1e3)},brim._mask=function(){viewport.isMinimalView()?player.mask.style.display="none":(player.mask.style.display="block",player.mask.style.width=global.innerWidth+"px",player.mask.style.height=2*global.innerHeight+"px",brim._repaintElement(player.mask))},brim._main=function(){player.main.style.width=global.innerWidth+"px",player.main.style.height=global.innerHeight+"px",brim._repaintElement(player.main)},brim._makeTreadmill=function(){var treadmill=document.querySelector("#brim-treadmill");if(treadmill)throw new Error("There is an existing treadmill element.");return treadmill=document.createElement("div"),treadmill.id="brim-treadmill",document.body.appendChild(treadmill),treadmill.style.visibility="hidden",treadmill.style.position="relative",treadmill.style.zIndex=10,treadmill.style.left=0,treadmill.style.width="1px",treadmill.style.height="9999999999999999px",treadmill},brim._makeMask=function(){var mask=document.querySelector("#brim-mask");if(!mask)throw new Error("Mask element does not exist.");return mask.style.position="fixed",mask.style.zIndex=30,mask.style.top=0,mask.style.left=0,mask},brim._makeMain=function(){var main=document.querySelector("#brim-main");if(!main)throw new Error("Main element does not exist.");return main.style.position="fixed",main.style.zIndex=20,main.style.top=0,main.style.left=0,main.style.overflowY="scroll",main.style.webkitOverflowScrolling="touch",main},brim._makeDOM=function(){player.treadmill=brim._makeTreadmill(),player.mask=brim._makeMask(),player.main=brim._makeMain()},brim._repaintElement=function(element){element.style.webkitTransform="translateZ(0)",element.style.display="none",element.offsetHeight,element.style.display="block"},eventEmitter=Sister(),brim.on=eventEmitter.on,brim._makeDOM(),brim._setupDOMEventListeners()},global.gajus=global.gajus||{},global.gajus.Brim=Brim,module.exports=Brim}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{sister:14}],16:[function(require,module,exports){(function(global){var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(Animation,SimpleTimeline,TweenLite){var _slice=function(a){var i,b=[],l=a.length;for(i=0;i!==l;b.push(a[i++]));return b},_applyCycle=function(vars,targets,i){var p,val,alt=vars.cycle;for(p in alt)val=alt[p],vars[p]="function"==typeof val?val.call(targets[i],i):val[i%val.length];delete vars.cycle},TweenMax=function(target,duration,vars){TweenLite.call(this,target,duration,vars),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=TweenMax.prototype.render},_tinyNum=1e-10,TweenLiteInternals=TweenLite._internals,_isSelector=TweenLiteInternals.isSelector,_isArray=TweenLiteInternals.isArray,p=TweenMax.prototype=TweenLite.to({},.1,{}),_blankArray=[];TweenMax.version="1.18.0",p.constructor=TweenMax,p.kill()._gc=!1,TweenMax.killTweensOf=TweenMax.killDelayedCallsTo=TweenLite.killTweensOf,TweenMax.getTweensOf=TweenLite.getTweensOf,TweenMax.lagSmoothing=TweenLite.lagSmoothing,TweenMax.ticker=TweenLite.ticker,TweenMax.render=TweenLite.render,p.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),TweenLite.prototype.invalidate.call(this)},p.updateTo=function(vars,resetDuration){var p,curRatio=this.ratio,immediate=this.vars.immediateRender||vars.immediateRender;resetDuration&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(p in vars)this.vars[p]=vars[p];if(this._initted||immediate)if(resetDuration)this._initted=!1,immediate&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&TweenLite._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var prevTime=this._time;this.render(0,!0,!1),this._initted=!1,this.render(prevTime,!0,!1)}else if(this._time>0||immediate){this._initted=!1,this._init();for(var endValue,inv=1/(1-curRatio),pt=this._firstPT;pt;)endValue=pt.s+pt.c,pt.c*=inv,pt.s=endValue-pt.c,pt=pt._next}return this},p.render=function(time,suppressEvents,force){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var isComplete,callback,pt,cycleDuration,r,type,pow,rawPrevTime,totalDur=this._dirty?this.totalDuration():this._totalDuration,prevTime=this._time,prevTotalTime=this._totalTime,prevCycle=this._cycle,duration=this._duration,prevRawPrevTime=this._rawPrevTime;if(time>=totalDur?(this._totalTime=totalDur,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(isComplete=!0,callback="onComplete",force=force||this._timeline.autoRemoveChildren),0===duration&&(this._initted||!this.vars.lazy||force)&&(this._startTime===this._timeline._duration&&(time=0),(0===time||0>prevRawPrevTime||prevRawPrevTime===_tinyNum)&&prevRawPrevTime!==time&&(force=!0,prevRawPrevTime>_tinyNum&&(callback="onReverseComplete")),this._rawPrevTime=rawPrevTime=!suppressEvents||time||prevRawPrevTime===time?time:_tinyNum)):1e-7>time?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==prevTotalTime||0===duration&&prevRawPrevTime>0)&&(callback="onReverseComplete",isComplete=this._reversed),0>time&&(this._active=!1,0===duration&&(this._initted||!this.vars.lazy||force)&&(prevRawPrevTime>=0&&(force=!0),this._rawPrevTime=rawPrevTime=!suppressEvents||time||prevRawPrevTime===time?time:_tinyNum)),this._initted||(force=!0)):(this._totalTime=this._time=time,0!==this._repeat&&(cycleDuration=duration+this._repeatDelay,this._cycle=this._totalTime/cycleDuration>>0,0!==this._cycle&&this._cycle===this._totalTime/cycleDuration&&this._cycle--,this._time=this._totalTime-this._cycle*cycleDuration,this._yoyo&&0!==(1&this._cycle)&&(this._time=duration-this._time),this._time>duration?this._time=duration:this._time<0&&(this._time=0)),this._easeType?(r=this._time/duration,type=this._easeType,pow=this._easePower,(1===type||3===type&&r>=.5)&&(r=1-r),3===type&&(r*=2),1===pow?r*=r:2===pow?r*=r*r:3===pow?r*=r*r*r:4===pow&&(r*=r*r*r*r),this.ratio=1===type?1-r:2===type?r:this._time/duration<.5?r/2:1-r/2):this.ratio=this._ease.getRatio(this._time/duration)),prevTime===this._time&&!force&&prevCycle===this._cycle)return void(prevTotalTime!==this._totalTime&&this._onUpdate&&(suppressEvents||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!force&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=prevTime,this._totalTime=prevTotalTime,this._rawPrevTime=prevRawPrevTime,this._cycle=prevCycle,TweenLiteInternals.lazyTweens.push(this),void(this._lazy=[time,suppressEvents]);this._time&&!isComplete?this.ratio=this._ease.getRatio(this._time/duration):isComplete&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1));

}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==prevTime&&time>=0&&(this._active=!0),0===prevTotalTime&&(2===this._initted&&time>0&&this._init(),this._startAt&&(time>=0?this._startAt.render(time,suppressEvents,force):callback||(callback="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===duration)&&(suppressEvents||this._callback("onStart"))),pt=this._firstPT;pt;)pt.f?pt.t[pt.p](pt.c*this.ratio+pt.s):pt.t[pt.p]=pt.c*this.ratio+pt.s,pt=pt._next;this._onUpdate&&(0>time&&this._startAt&&this._startTime&&this._startAt.render(time,suppressEvents,force),suppressEvents||(this._totalTime!==prevTotalTime||isComplete)&&this._callback("onUpdate")),this._cycle!==prevCycle&&(suppressEvents||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),callback&&(!this._gc||force)&&(0>time&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(time,suppressEvents,force),isComplete&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!suppressEvents&&this.vars[callback]&&this._callback(callback),0===duration&&this._rawPrevTime===_tinyNum&&rawPrevTime!==_tinyNum&&(this._rawPrevTime=0))},TweenMax.to=function(target,duration,vars){return new TweenMax(target,duration,vars)},TweenMax.from=function(target,duration,vars){return vars.runBackwards=!0,vars.immediateRender=0!=vars.immediateRender,new TweenMax(target,duration,vars)},TweenMax.fromTo=function(target,duration,fromVars,toVars){return toVars.startAt=fromVars,toVars.immediateRender=0!=toVars.immediateRender&&0!=fromVars.immediateRender,new TweenMax(target,duration,toVars)},TweenMax.staggerTo=TweenMax.allTo=function(targets,duration,vars,stagger,onCompleteAll,onCompleteAllParams,onCompleteAllScope){stagger=stagger||0;var l,copy,i,p,delay=vars.delay||0,a=[],finalComplete=function(){vars.onComplete&&vars.onComplete.apply(vars.onCompleteScope||this,arguments),onCompleteAll.apply(onCompleteAllScope||vars.callbackScope||this,onCompleteAllParams||_blankArray)},cycle=vars.cycle,fromCycle=vars.startAt&&vars.startAt.cycle;for(_isArray(targets)||("string"==typeof targets&&(targets=TweenLite.selector(targets)||targets),_isSelector(targets)&&(targets=_slice(targets))),targets=targets||[],0>stagger&&(targets=_slice(targets),targets.reverse(),stagger*=-1),l=targets.length-1,i=0;l>=i;i++){copy={};for(p in vars)copy[p]=vars[p];if(cycle&&_applyCycle(copy,targets,i),fromCycle){fromCycle=copy.startAt={};for(p in vars.startAt)fromCycle[p]=vars.startAt[p];_applyCycle(copy.startAt,targets,i)}copy.delay=delay,i===l&&onCompleteAll&&(copy.onComplete=finalComplete),a[i]=new TweenMax(targets[i],duration,copy),delay+=stagger}return a},TweenMax.staggerFrom=TweenMax.allFrom=function(targets,duration,vars,stagger,onCompleteAll,onCompleteAllParams,onCompleteAllScope){return vars.runBackwards=!0,vars.immediateRender=0!=vars.immediateRender,TweenMax.staggerTo(targets,duration,vars,stagger,onCompleteAll,onCompleteAllParams,onCompleteAllScope)},TweenMax.staggerFromTo=TweenMax.allFromTo=function(targets,duration,fromVars,toVars,stagger,onCompleteAll,onCompleteAllParams,onCompleteAllScope){return toVars.startAt=fromVars,toVars.immediateRender=0!=toVars.immediateRender&&0!=fromVars.immediateRender,TweenMax.staggerTo(targets,duration,toVars,stagger,onCompleteAll,onCompleteAllParams,onCompleteAllScope)},TweenMax.delayedCall=function(delay,callback,params,scope,useFrames){return new TweenMax(callback,0,{delay:delay,onComplete:callback,onCompleteParams:params,callbackScope:scope,onReverseComplete:callback,onReverseCompleteParams:params,immediateRender:!1,useFrames:useFrames,overwrite:0})},TweenMax.set=function(target,vars){return new TweenMax(target,0,vars)},TweenMax.isTweening=function(target){return TweenLite.getTweensOf(target,!0).length>0};var _getChildrenOf=function(timeline,includeTimelines){for(var a=[],cnt=0,tween=timeline._first;tween;)tween instanceof TweenLite?a[cnt++]=tween:(includeTimelines&&(a[cnt++]=tween),a=a.concat(_getChildrenOf(tween,includeTimelines)),cnt=a.length),tween=tween._next;return a},getAllTweens=TweenMax.getAllTweens=function(includeTimelines){return _getChildrenOf(Animation._rootTimeline,includeTimelines).concat(_getChildrenOf(Animation._rootFramesTimeline,includeTimelines))};TweenMax.killAll=function(complete,tweens,delayedCalls,timelines){null==tweens&&(tweens=!0),null==delayedCalls&&(delayedCalls=!0);var isDC,tween,i,a=getAllTweens(0!=timelines),l=a.length,allTrue=tweens&&delayedCalls&&timelines;for(i=0;l>i;i++)tween=a[i],(allTrue||tween instanceof SimpleTimeline||(isDC=tween.target===tween.vars.onComplete)&&delayedCalls||tweens&&!isDC)&&(complete?tween.totalTime(tween._reversed?0:tween.totalDuration()):tween._enabled(!1,!1))},TweenMax.killChildTweensOf=function(parent,complete){if(null!=parent){var a,curParent,p,i,l,tl=TweenLiteInternals.tweenLookup;if("string"==typeof parent&&(parent=TweenLite.selector(parent)||parent),_isSelector(parent)&&(parent=_slice(parent)),_isArray(parent))for(i=parent.length;--i>-1;)TweenMax.killChildTweensOf(parent[i],complete);else{a=[];for(p in tl)for(curParent=tl[p].target.parentNode;curParent;)curParent===parent&&(a=a.concat(tl[p].tweens)),curParent=curParent.parentNode;for(l=a.length,i=0;l>i;i++)complete&&a[i].totalTime(a[i].totalDuration()),a[i]._enabled(!1,!1)}}};var _changePause=function(pause,tweens,delayedCalls,timelines){tweens=tweens!==!1,delayedCalls=delayedCalls!==!1,timelines=timelines!==!1;for(var isDC,tween,a=getAllTweens(timelines),allTrue=tweens&&delayedCalls&&timelines,i=a.length;--i>-1;)tween=a[i],(allTrue||tween instanceof SimpleTimeline||(isDC=tween.target===tween.vars.onComplete)&&delayedCalls||tweens&&!isDC)&&tween.paused(pause)};return TweenMax.pauseAll=function(tweens,delayedCalls,timelines){_changePause(!0,tweens,delayedCalls,timelines)},TweenMax.resumeAll=function(tweens,delayedCalls,timelines){_changePause(!1,tweens,delayedCalls,timelines)},TweenMax.globalTimeScale=function(value){var tl=Animation._rootTimeline,t=TweenLite.ticker.time;return arguments.length?(value=value||_tinyNum,tl._startTime=t-(t-tl._startTime)*tl._timeScale/value,tl=Animation._rootFramesTimeline,t=TweenLite.ticker.frame,tl._startTime=t-(t-tl._startTime)*tl._timeScale/value,tl._timeScale=Animation._rootTimeline._timeScale=value,value):tl._timeScale},p.progress=function(value){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-value:value)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},p.totalProgress=function(value){return arguments.length?this.totalTime(this.totalDuration()*value,!1):this._totalTime/this.totalDuration()},p.time=function(value,suppressEvents){return arguments.length?(this._dirty&&this.totalDuration(),value>this._duration&&(value=this._duration),this._yoyo&&0!==(1&this._cycle)?value=this._duration-value+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(value+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(value,suppressEvents)):this._time},p.duration=function(value){return arguments.length?Animation.prototype.duration.call(this,value):this._duration},p.totalDuration=function(value){return arguments.length?-1===this._repeat?this:this.duration((value-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},p.repeat=function(value){return arguments.length?(this._repeat=value,this._uncache(!0)):this._repeat},p.repeatDelay=function(value){return arguments.length?(this._repeatDelay=value,this._uncache(!0)):this._repeatDelay},p.yoyo=function(value){return arguments.length?(this._yoyo=value,this):this._yoyo},TweenMax},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(Animation,SimpleTimeline,TweenLite){var TimelineLite=function(vars){SimpleTimeline.call(this,vars),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var val,p,v=this.vars;for(p in v)val=v[p],_isArray(val)&&-1!==val.join("").indexOf("{self}")&&(v[p]=this._swapSelfInParams(val));_isArray(v.tweens)&&this.add(v.tweens,0,v.align,v.stagger)},_tinyNum=1e-10,TweenLiteInternals=TweenLite._internals,_internals=TimelineLite._internals={},_isSelector=TweenLiteInternals.isSelector,_isArray=TweenLiteInternals.isArray,_lazyTweens=TweenLiteInternals.lazyTweens,_lazyRender=TweenLiteInternals.lazyRender,_globals=_gsScope._gsDefine.globals,_copy=function(vars){var p,copy={};for(p in vars)copy[p]=vars[p];return copy},_applyCycle=function(vars,targets,i){var p,val,alt=vars.cycle;for(p in alt)val=alt[p],vars[p]="function"==typeof val?val.call(targets[i],i):val[i%val.length];delete vars.cycle},_pauseCallback=_internals.pauseCallback=function(){},_slice=function(a){var i,b=[],l=a.length;for(i=0;i!==l;b.push(a[i++]));return b},p=TimelineLite.prototype=new SimpleTimeline;return TimelineLite.version="1.18.0",p.constructor=TimelineLite,p.kill()._gc=p._forcingPlayhead=p._hasPause=!1,p.to=function(target,duration,vars,position){var Engine=vars.repeat&&_globals.TweenMax||TweenLite;return duration?this.add(new Engine(target,duration,vars),position):this.set(target,vars,position)},p.from=function(target,duration,vars,position){return this.add((vars.repeat&&_globals.TweenMax||TweenLite).from(target,duration,vars),position)},p.fromTo=function(target,duration,fromVars,toVars,position){var Engine=toVars.repeat&&_globals.TweenMax||TweenLite;return duration?this.add(Engine.fromTo(target,duration,fromVars,toVars),position):this.set(target,toVars,position)},p.staggerTo=function(targets,duration,vars,stagger,position,onCompleteAll,onCompleteAllParams,onCompleteAllScope){var copy,i,tl=new TimelineLite({onComplete:onCompleteAll,onCompleteParams:onCompleteAllParams,callbackScope:onCompleteAllScope,smoothChildTiming:this.smoothChildTiming}),cycle=vars.cycle;for("string"==typeof targets&&(targets=TweenLite.selector(targets)||targets),targets=targets||[],_isSelector(targets)&&(targets=_slice(targets)),stagger=stagger||0,0>stagger&&(targets=_slice(targets),targets.reverse(),stagger*=-1),i=0;i<targets.length;i++)copy=_copy(vars),copy.startAt&&(copy.startAt=_copy(copy.startAt),copy.startAt.cycle&&_applyCycle(copy.startAt,targets,i)),cycle&&_applyCycle(copy,targets,i),tl.to(targets[i],duration,copy,i*stagger);return this.add(tl,position)},p.staggerFrom=function(targets,duration,vars,stagger,position,onCompleteAll,onCompleteAllParams,onCompleteAllScope){return vars.immediateRender=0!=vars.immediateRender,vars.runBackwards=!0,this.staggerTo(targets,duration,vars,stagger,position,onCompleteAll,onCompleteAllParams,onCompleteAllScope)},p.staggerFromTo=function(targets,duration,fromVars,toVars,stagger,position,onCompleteAll,onCompleteAllParams,onCompleteAllScope){return toVars.startAt=fromVars,toVars.immediateRender=0!=toVars.immediateRender&&0!=fromVars.immediateRender,this.staggerTo(targets,duration,toVars,stagger,position,onCompleteAll,onCompleteAllParams,onCompleteAllScope)},p.call=function(callback,params,scope,position){return this.add(TweenLite.delayedCall(0,callback,params,scope),position)},p.set=function(target,vars,position){return position=this._parseTimeOrLabel(position,0,!0),null==vars.immediateRender&&(vars.immediateRender=position===this._time&&!this._paused),this.add(new TweenLite(target,0,vars),position)},TimelineLite.exportRoot=function(vars,ignoreDelayedCalls){vars=vars||{},null==vars.smoothChildTiming&&(vars.smoothChildTiming=!0);var tween,next,tl=new TimelineLite(vars),root=tl._timeline;for(null==ignoreDelayedCalls&&(ignoreDelayedCalls=!0),root._remove(tl,!0),tl._startTime=0,tl._rawPrevTime=tl._time=tl._totalTime=root._time,tween=root._first;tween;)next=tween._next,ignoreDelayedCalls&&tween instanceof TweenLite&&tween.target===tween.vars.onComplete||tl.add(tween,tween._startTime-tween._delay),tween=next;return root.add(tl,0),tl},p.add=function(value,position,align,stagger){var curTime,l,i,child,tl,beforeRawTime;if("number"!=typeof position&&(position=this._parseTimeOrLabel(position,0,!0,value)),!(value instanceof Animation)){if(value instanceof Array||value&&value.push&&_isArray(value)){for(align=align||"normal",stagger=stagger||0,curTime=position,l=value.length,i=0;l>i;i++)_isArray(child=value[i])&&(child=new TimelineLite({tweens:child})),this.add(child,curTime),"string"!=typeof child&&"function"!=typeof child&&("sequence"===align?curTime=child._startTime+child.totalDuration()/child._timeScale:"start"===align&&(child._startTime-=child.delay())),curTime+=stagger;return this._uncache(!0)}if("string"==typeof value)return this.addLabel(value,position);if("function"!=typeof value)throw"Cannot add "+value+" into the timeline; it is not a tween, timeline, function, or string.";value=TweenLite.delayedCall(0,value)}if(SimpleTimeline.prototype.add.call(this,value,position),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(tl=this,beforeRawTime=tl.rawTime()>value._startTime;tl._timeline;)beforeRawTime&&tl._timeline.smoothChildTiming?tl.totalTime(tl._totalTime,!0):tl._gc&&tl._enabled(!0,!1),tl=tl._timeline;return this},p.remove=function(value){if(value instanceof Animation){this._remove(value,!1);var tl=value._timeline=value.vars.useFrames?Animation._rootFramesTimeline:Animation._rootTimeline;return value._startTime=(value._paused?value._pauseTime:tl._time)-(value._reversed?value.totalDuration()-value._totalTime:value._totalTime)/value._timeScale,this}if(value instanceof Array||value&&value.push&&_isArray(value)){for(var i=value.length;--i>-1;)this.remove(value[i]);return this}return"string"==typeof value?this.removeLabel(value):this.kill(null,value)},p._remove=function(tween,skipDisable){SimpleTimeline.prototype._remove.call(this,tween,skipDisable);var last=this._last;return last?this._time>last._startTime+last._totalDuration/last._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},p.append=function(value,offsetOrLabel){return this.add(value,this._parseTimeOrLabel(null,offsetOrLabel,!0,value))},p.insert=p.insertMultiple=function(value,position,align,stagger){return this.add(value,position||0,align,stagger)},p.appendMultiple=function(tweens,offsetOrLabel,align,stagger){return this.add(tweens,this._parseTimeOrLabel(null,offsetOrLabel,!0,tweens),align,stagger)},p.addLabel=function(label,position){return this._labels[label]=this._parseTimeOrLabel(position),this},p.addPause=function(position,callback,params,scope){var t=TweenLite.delayedCall(0,_pauseCallback,params,scope||this);return t.vars.onComplete=t.vars.onReverseComplete=callback,t.data="isPause",this._hasPause=!0,this.add(t,position)},p.removeLabel=function(label){return delete this._labels[label],this},p.getLabelTime=function(label){return null!=this._labels[label]?this._labels[label]:-1},p._parseTimeOrLabel=function(timeOrLabel,offsetOrLabel,appendIfAbsent,ignore){var i;if(ignore instanceof Animation&&ignore.timeline===this)this.remove(ignore);else if(ignore&&(ignore instanceof Array||ignore.push&&_isArray(ignore)))for(i=ignore.length;--i>-1;)ignore[i]instanceof Animation&&ignore[i].timeline===this&&this.remove(ignore[i]);if("string"==typeof offsetOrLabel)return this._parseTimeOrLabel(offsetOrLabel,appendIfAbsent&&"number"==typeof timeOrLabel&&null==this._labels[offsetOrLabel]?timeOrLabel-this.duration():0,appendIfAbsent);if(offsetOrLabel=offsetOrLabel||0,"string"!=typeof timeOrLabel||!isNaN(timeOrLabel)&&null==this._labels[timeOrLabel])null==timeOrLabel&&(timeOrLabel=this.duration());else{if(i=timeOrLabel.indexOf("="),-1===i)return null==this._labels[timeOrLabel]?appendIfAbsent?this._labels[timeOrLabel]=this.duration()+offsetOrLabel:offsetOrLabel:this._labels[timeOrLabel]+offsetOrLabel;offsetOrLabel=parseInt(timeOrLabel.charAt(i-1)+"1",10)*Number(timeOrLabel.substr(i+1)),timeOrLabel=i>1?this._parseTimeOrLabel(timeOrLabel.substr(0,i-1),0,appendIfAbsent):this.duration()}return Number(timeOrLabel)+offsetOrLabel},p.seek=function(position,suppressEvents){return this.totalTime("number"==typeof position?position:this._parseTimeOrLabel(position),suppressEvents!==!1)},p.stop=function(){return this.paused(!0)},p.gotoAndPlay=function(position,suppressEvents){return this.play(position,suppressEvents)},p.gotoAndStop=function(position,suppressEvents){return this.pause(position,suppressEvents)},p.render=function(time,suppressEvents,force){this._gc&&this._enabled(!0,!1);var tween,isComplete,next,callback,internalForce,pauseTween,totalDur=this._dirty?this.totalDuration():this._totalDuration,prevTime=this._time,prevStart=this._startTime,prevTimeScale=this._timeScale,prevPaused=this._paused;if(time>=totalDur)this._totalTime=this._time=totalDur,this._reversed||this._hasPausedChild()||(isComplete=!0,callback="onComplete",internalForce=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===time||this._rawPrevTime<0||this._rawPrevTime===_tinyNum)&&this._rawPrevTime!==time&&this._first&&(internalForce=!0,this._rawPrevTime>_tinyNum&&(callback="onReverseComplete"))),this._rawPrevTime=this._duration||!suppressEvents||time||this._rawPrevTime===time?time:_tinyNum,time=totalDur+1e-4;else if(1e-7>time)if(this._totalTime=this._time=0,(0!==prevTime||0===this._duration&&this._rawPrevTime!==_tinyNum&&(this._rawPrevTime>0||0>time&&this._rawPrevTime>=0))&&(callback="onReverseComplete",isComplete=this._reversed),0>time)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(internalForce=isComplete=!0,callback="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(internalForce=!0),this._rawPrevTime=time;else{if(this._rawPrevTime=this._duration||!suppressEvents||time||this._rawPrevTime===time?time:_tinyNum,0===time&&isComplete)for(tween=this._first;tween&&0===tween._startTime;)tween._duration||(isComplete=!1),tween=tween._next;time=0,this._initted||(internalForce=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!suppressEvents){if(time>=prevTime)for(tween=this._first;tween&&tween._startTime<=time&&!pauseTween;)tween._duration||"isPause"!==tween.data||tween.ratio||0===tween._startTime&&0===this._rawPrevTime||(pauseTween=tween),tween=tween._next;else for(tween=this._last;tween&&tween._startTime>=time&&!pauseTween;)tween._duration||"isPause"===tween.data&&tween._rawPrevTime>0&&(pauseTween=tween),tween=tween._prev;pauseTween&&(this._time=time=pauseTween._startTime,this._totalTime=time+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=time}if(this._time!==prevTime&&this._first||force||internalForce||pauseTween){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==prevTime&&time>0&&(this._active=!0),0===prevTime&&this.vars.onStart&&0!==this._time&&(suppressEvents||this._callback("onStart")),this._time>=prevTime)for(tween=this._first;tween&&(next=tween._next,!this._paused||prevPaused);)(tween._active||tween._startTime<=this._time&&!tween._paused&&!tween._gc)&&(pauseTween===tween&&this.pause(),tween._reversed?tween.render((tween._dirty?tween.totalDuration():tween._totalDuration)-(time-tween._startTime)*tween._timeScale,suppressEvents,force):tween.render((time-tween._startTime)*tween._timeScale,suppressEvents,force)),tween=next;else for(tween=this._last;tween&&(next=tween._prev,!this._paused||prevPaused);){if(tween._active||tween._startTime<=prevTime&&!tween._paused&&!tween._gc){if(pauseTween===tween){for(pauseTween=tween._prev;pauseTween&&pauseTween.endTime()>this._time;)pauseTween.render(pauseTween._reversed?pauseTween.totalDuration()-(time-pauseTween._startTime)*pauseTween._timeScale:(time-pauseTween._startTime)*pauseTween._timeScale,suppressEvents,force),pauseTween=pauseTween._prev;pauseTween=null,this.pause()}tween._reversed?tween.render((tween._dirty?tween.totalDuration():tween._totalDuration)-(time-tween._startTime)*tween._timeScale,suppressEvents,force):tween.render((time-tween._startTime)*tween._timeScale,suppressEvents,force)}tween=next}this._onUpdate&&(suppressEvents||(_lazyTweens.length&&_lazyRender(),this._callback("onUpdate"))),callback&&(this._gc||(prevStart===this._startTime||prevTimeScale!==this._timeScale)&&(0===this._time||totalDur>=this.totalDuration())&&(isComplete&&(_lazyTweens.length&&_lazyRender(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!suppressEvents&&this.vars[callback]&&this._callback(callback)))}},p._hasPausedChild=function(){for(var tween=this._first;tween;){if(tween._paused||tween instanceof TimelineLite&&tween._hasPausedChild())return!0;tween=tween._next}return!1},p.getChildren=function(nested,tweens,timelines,ignoreBeforeTime){ignoreBeforeTime=ignoreBeforeTime||-9999999999;for(var a=[],tween=this._first,cnt=0;tween;)tween._startTime<ignoreBeforeTime||(tween instanceof TweenLite?tweens!==!1&&(a[cnt++]=tween):(timelines!==!1&&(a[cnt++]=tween),nested!==!1&&(a=a.concat(tween.getChildren(!0,tweens,timelines)),cnt=a.length))),tween=tween._next;return a},p.getTweensOf=function(target,nested){var tweens,i,disabled=this._gc,a=[],cnt=0;for(disabled&&this._enabled(!0,!0),tweens=TweenLite.getTweensOf(target),i=tweens.length;--i>-1;)(tweens[i].timeline===this||nested&&this._contains(tweens[i]))&&(a[cnt++]=tweens[i]);return disabled&&this._enabled(!1,!0),a},p.recent=function(){return this._recent},p._contains=function(tween){for(var tl=tween.timeline;tl;){if(tl===this)return!0;tl=tl.timeline}return!1},p.shiftChildren=function(amount,adjustLabels,ignoreBeforeTime){ignoreBeforeTime=ignoreBeforeTime||0;for(var p,tween=this._first,labels=this._labels;tween;)tween._startTime>=ignoreBeforeTime&&(tween._startTime+=amount),tween=tween._next;if(adjustLabels)for(p in labels)labels[p]>=ignoreBeforeTime&&(labels[p]+=amount);return this._uncache(!0)},p._kill=function(vars,target){if(!vars&&!target)return this._enabled(!1,!1);for(var tweens=target?this.getTweensOf(target):this.getChildren(!0,!0,!1),i=tweens.length,changed=!1;--i>-1;)tweens[i]._kill(vars,target)&&(changed=!0);return changed},p.clear=function(labels){var tweens=this.getChildren(!1,!0,!0),i=tweens.length;for(this._time=this._totalTime=0;--i>-1;)tweens[i]._enabled(!1,!1);return labels!==!1&&(this._labels={}),this._uncache(!0)},p.invalidate=function(){for(var tween=this._first;tween;)tween.invalidate(),tween=tween._next;return Animation.prototype.invalidate.call(this)},p._enabled=function(enabled,ignoreTimeline){if(enabled===this._gc)for(var tween=this._first;tween;)tween._enabled(enabled,!0),tween=tween._next;return SimpleTimeline.prototype._enabled.call(this,enabled,ignoreTimeline)},p.totalTime=function(time,suppressEvents,uncapped){this._forcingPlayhead=!0;var val=Animation.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,val},p.duration=function(value){return arguments.length?(0!==this.duration()&&0!==value&&this.timeScale(this._duration/value),this):(this._dirty&&this.totalDuration(),this._duration)},p.totalDuration=function(value){if(!arguments.length){if(this._dirty){for(var prev,end,max=0,tween=this._last,prevStart=999999999999;tween;)prev=tween._prev,tween._dirty&&tween.totalDuration(),tween._startTime>prevStart&&this._sortChildren&&!tween._paused?this.add(tween,tween._startTime-tween._delay):prevStart=tween._startTime,tween._startTime<0&&!tween._paused&&(max-=tween._startTime,this._timeline.smoothChildTiming&&(this._startTime+=tween._startTime/this._timeScale),this.shiftChildren(-tween._startTime,!1,-9999999999),prevStart=0),end=tween._startTime+tween._totalDuration/tween._timeScale,end>max&&(max=end),tween=prev;this._duration=this._totalDuration=max,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==value&&this.timeScale(this._totalDuration/value),this},p.paused=function(value){if(!value)for(var tween=this._first,time=this._time;tween;)tween._startTime===time&&"isPause"===tween.data&&(tween._rawPrevTime=0),tween=tween._next;return Animation.prototype.paused.apply(this,arguments)},p.usesFrames=function(){for(var tl=this._timeline;tl._timeline;)tl=tl._timeline;return tl===Animation._rootFramesTimeline},p.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},TimelineLite},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(TimelineLite,TweenLite,Ease){var TimelineMax=function(vars){TimelineLite.call(this,vars),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},_tinyNum=1e-10,TweenLiteInternals=TweenLite._internals,_lazyTweens=TweenLiteInternals.lazyTweens,_lazyRender=TweenLiteInternals.lazyRender,_easeNone=new Ease(null,null,1,0),p=TimelineMax.prototype=new TimelineLite;return p.constructor=TimelineMax,p.kill()._gc=!1,TimelineMax.version="1.18.0",p.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),TimelineLite.prototype.invalidate.call(this)},p.addCallback=function(callback,position,params,scope){return this.add(TweenLite.delayedCall(0,callback,params,scope),position)},p.removeCallback=function(callback,position){if(callback)if(null==position)this._kill(null,callback);else for(var a=this.getTweensOf(callback,!1),i=a.length,time=this._parseTimeOrLabel(position);--i>-1;)a[i]._startTime===time&&a[i]._enabled(!1,!1);return this},p.removePause=function(position){return this.removeCallback(TimelineLite._internals.pauseCallback,position)},p.tweenTo=function(position,vars){vars=vars||{};var duration,p,t,copy={ease:_easeNone,useFrames:this.usesFrames(),immediateRender:!1};for(p in vars)copy[p]=vars[p];return copy.time=this._parseTimeOrLabel(position),duration=Math.abs(Number(copy.time)-this._time)/this._timeScale||.001,t=new TweenLite(this,duration,copy),copy.onStart=function(){t.target.paused(!0),t.vars.time!==t.target.time()&&duration===t.duration()&&t.duration(Math.abs(t.vars.time-t.target.time())/t.target._timeScale),vars.onStart&&t._callback("onStart")},t},p.tweenFromTo=function(fromPosition,toPosition,vars){vars=vars||{},fromPosition=this._parseTimeOrLabel(fromPosition),vars.startAt={onComplete:this.seek,onCompleteParams:[fromPosition],callbackScope:this},vars.immediateRender=vars.immediateRender!==!1;var t=this.tweenTo(toPosition,vars);return t.duration(Math.abs(t.vars.time-fromPosition)/this._timeScale||.001)},p.render=function(time,suppressEvents,force){this._gc&&this._enabled(!0,!1);var tween,isComplete,next,callback,internalForce,cycleDuration,pauseTween,totalDur=this._dirty?this.totalDuration():this._totalDuration,dur=this._duration,prevTime=this._time,prevTotalTime=this._totalTime,prevStart=this._startTime,prevTimeScale=this._timeScale,prevRawPrevTime=this._rawPrevTime,prevPaused=this._paused,prevCycle=this._cycle;if(time>=totalDur)this._locked||(this._totalTime=totalDur,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(isComplete=!0,callback="onComplete",internalForce=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===time||0>prevRawPrevTime||prevRawPrevTime===_tinyNum)&&prevRawPrevTime!==time&&this._first&&(internalForce=!0,prevRawPrevTime>_tinyNum&&(callback="onReverseComplete"))),this._rawPrevTime=this._duration||!suppressEvents||time||this._rawPrevTime===time?time:_tinyNum,this._yoyo&&0!==(1&this._cycle)?this._time=time=0:(this._time=dur,time=dur+1e-4);else if(1e-7>time)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==prevTime||0===dur&&prevRawPrevTime!==_tinyNum&&(prevRawPrevTime>0||0>time&&prevRawPrevTime>=0)&&!this._locked)&&(callback="onReverseComplete",isComplete=this._reversed),0>time)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(internalForce=isComplete=!0,callback="onReverseComplete"):prevRawPrevTime>=0&&this._first&&(internalForce=!0),this._rawPrevTime=time;else{if(this._rawPrevTime=dur||!suppressEvents||time||this._rawPrevTime===time?time:_tinyNum,0===time&&isComplete)for(tween=this._first;tween&&0===tween._startTime;)tween._duration||(isComplete=!1),tween=tween._next;time=0,this._initted||(internalForce=!0)}else if(0===dur&&0>prevRawPrevTime&&(internalForce=!0),this._time=this._rawPrevTime=time,this._locked||(this._totalTime=time,0!==this._repeat&&(cycleDuration=dur+this._repeatDelay,this._cycle=this._totalTime/cycleDuration>>0,0!==this._cycle&&this._cycle===this._totalTime/cycleDuration&&this._cycle--,this._time=this._totalTime-this._cycle*cycleDuration,this._yoyo&&0!==(1&this._cycle)&&(this._time=dur-this._time),this._time>dur?(this._time=dur,time=dur+1e-4):this._time<0?this._time=time=0:time=this._time)),this._hasPause&&!this._forcingPlayhead&&!suppressEvents){if(time=this._time,time>=prevTime)for(tween=this._first;tween&&tween._startTime<=time&&!pauseTween;)tween._duration||"isPause"!==tween.data||tween.ratio||0===tween._startTime&&0===this._rawPrevTime||(pauseTween=tween),tween=tween._next;else for(tween=this._last;tween&&tween._startTime>=time&&!pauseTween;)tween._duration||"isPause"===tween.data&&tween._rawPrevTime>0&&(pauseTween=tween),tween=tween._prev;pauseTween&&(this._time=time=pauseTween._startTime,this._totalTime=time+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==prevCycle&&!this._locked){var backwards=this._yoyo&&0!==(1&prevCycle),wrap=backwards===(this._yoyo&&0!==(1&this._cycle)),recTotalTime=this._totalTime,recCycle=this._cycle,recRawPrevTime=this._rawPrevTime,recTime=this._time;if(this._totalTime=prevCycle*dur,this._cycle<prevCycle?backwards=!backwards:this._totalTime+=dur,this._time=prevTime,this._rawPrevTime=0===dur?prevRawPrevTime-1e-4:prevRawPrevTime,this._cycle=prevCycle,this._locked=!0,prevTime=backwards?0:dur,this.render(prevTime,suppressEvents,0===dur),suppressEvents||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),wrap&&(prevTime=backwards?dur+1e-4:-1e-4,this.render(prevTime,!0,!1)),this._locked=!1,this._paused&&!prevPaused)return;this._time=recTime,this._totalTime=recTotalTime,this._cycle=recCycle,this._rawPrevTime=recRawPrevTime}if(!(this._time!==prevTime&&this._first||force||internalForce||pauseTween))return void(prevTotalTime!==this._totalTime&&this._onUpdate&&(suppressEvents||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==prevTotalTime&&time>0&&(this._active=!0),0===prevTotalTime&&this.vars.onStart&&0!==this._totalTime&&(suppressEvents||this._callback("onStart")),this._time>=prevTime)for(tween=this._first;tween&&(next=tween._next,!this._paused||prevPaused);)(tween._active||tween._startTime<=this._time&&!tween._paused&&!tween._gc)&&(pauseTween===tween&&this.pause(),tween._reversed?tween.render((tween._dirty?tween.totalDuration():tween._totalDuration)-(time-tween._startTime)*tween._timeScale,suppressEvents,force):tween.render((time-tween._startTime)*tween._timeScale,suppressEvents,force)),tween=next;else for(tween=this._last;tween&&(next=tween._prev,!this._paused||prevPaused);){if(tween._active||tween._startTime<=prevTime&&!tween._paused&&!tween._gc){if(pauseTween===tween){for(pauseTween=tween._prev;pauseTween&&pauseTween.endTime()>this._time;)pauseTween.render(pauseTween._reversed?pauseTween.totalDuration()-(time-pauseTween._startTime)*pauseTween._timeScale:(time-pauseTween._startTime)*pauseTween._timeScale,suppressEvents,force),pauseTween=pauseTween._prev;pauseTween=null,this.pause()}tween._reversed?tween.render((tween._dirty?tween.totalDuration():tween._totalDuration)-(time-tween._startTime)*tween._timeScale,suppressEvents,force):tween.render((time-tween._startTime)*tween._timeScale,suppressEvents,force)}tween=next}this._onUpdate&&(suppressEvents||(_lazyTweens.length&&_lazyRender(),this._callback("onUpdate"))),callback&&(this._locked||this._gc||(prevStart===this._startTime||prevTimeScale!==this._timeScale)&&(0===this._time||totalDur>=this.totalDuration())&&(isComplete&&(_lazyTweens.length&&_lazyRender(),
this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!suppressEvents&&this.vars[callback]&&this._callback(callback)))},p.getActive=function(nested,tweens,timelines){null==nested&&(nested=!0),null==tweens&&(tweens=!0),null==timelines&&(timelines=!1);var i,tween,a=[],all=this.getChildren(nested,tweens,timelines),cnt=0,l=all.length;for(i=0;l>i;i++)tween=all[i],tween.isActive()&&(a[cnt++]=tween);return a},p.getLabelAfter=function(time){time||0!==time&&(time=this._time);var i,labels=this.getLabelsArray(),l=labels.length;for(i=0;l>i;i++)if(labels[i].time>time)return labels[i].name;return null},p.getLabelBefore=function(time){null==time&&(time=this._time);for(var labels=this.getLabelsArray(),i=labels.length;--i>-1;)if(labels[i].time<time)return labels[i].name;return null},p.getLabelsArray=function(){var p,a=[],cnt=0;for(p in this._labels)a[cnt++]={time:this._labels[p],name:p};return a.sort(function(a,b){return a.time-b.time}),a},p.progress=function(value,suppressEvents){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-value:value)+this._cycle*(this._duration+this._repeatDelay),suppressEvents):this._time/this.duration()},p.totalProgress=function(value,suppressEvents){return arguments.length?this.totalTime(this.totalDuration()*value,suppressEvents):this._totalTime/this.totalDuration()},p.totalDuration=function(value){return arguments.length?-1===this._repeat?this:this.duration((value-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(TimelineLite.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},p.time=function(value,suppressEvents){return arguments.length?(this._dirty&&this.totalDuration(),value>this._duration&&(value=this._duration),this._yoyo&&0!==(1&this._cycle)?value=this._duration-value+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(value+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(value,suppressEvents)):this._time},p.repeat=function(value){return arguments.length?(this._repeat=value,this._uncache(!0)):this._repeat},p.repeatDelay=function(value){return arguments.length?(this._repeatDelay=value,this._uncache(!0)):this._repeatDelay},p.yoyo=function(value){return arguments.length?(this._yoyo=value,this):this._yoyo},p.currentLabel=function(value){return arguments.length?this.seek(value,!0):this.getLabelBefore(this._time+1e-8)},TimelineMax},!0),function(){var _RAD2DEG=180/Math.PI,_r1=[],_r2=[],_r3=[],_corProps={},_globals=_gsScope._gsDefine.globals,Segment=function(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d,this.da=d-a,this.ca=c-a,this.ba=b-a},_correlate=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",cubicToQuadratic=function(a,b,c,d){var q1={a:a},q2={},q3={},q4={c:d},mab=(a+b)/2,mbc=(b+c)/2,mcd=(c+d)/2,mabc=(mab+mbc)/2,mbcd=(mbc+mcd)/2,m8=(mbcd-mabc)/8;return q1.b=mab+(a-mab)/4,q2.b=mabc+m8,q1.c=q2.a=(q1.b+q2.b)/2,q2.c=q3.a=(mabc+mbcd)/2,q3.b=mbcd-m8,q4.b=mcd+(d-mcd)/4,q3.c=q4.a=(q3.b+q4.b)/2,[q1,q2,q3,q4]},_calculateControlPoints=function(a,curviness,quad,basic,correlate){var i,p1,p2,p3,seg,m1,m2,mm,cp2,qb,r1,r2,tl,l=a.length-1,ii=0,cp1=a[0].a;for(i=0;l>i;i++)seg=a[ii],p1=seg.a,p2=seg.d,p3=a[ii+1].d,correlate?(r1=_r1[i],r2=_r2[i],tl=(r2+r1)*curviness*.25/(basic?.5:_r3[i]||.5),m1=p2-(p2-p1)*(basic?.5*curviness:0!==r1?tl/r1:0),m2=p2+(p3-p2)*(basic?.5*curviness:0!==r2?tl/r2:0),mm=p2-(m1+((m2-m1)*(3*r1/(r1+r2)+.5)/4||0))):(m1=p2-(p2-p1)*curviness*.5,m2=p2+(p3-p2)*curviness*.5,mm=p2-(m1+m2)/2),m1+=mm,m2+=mm,seg.c=cp2=m1,seg.b=0!==i?cp1:cp1=seg.a+.6*(seg.c-seg.a),seg.da=p2-p1,seg.ca=cp2-p1,seg.ba=cp1-p1,quad?(qb=cubicToQuadratic(p1,cp1,cp2,p2),a.splice(ii,1,qb[0],qb[1],qb[2],qb[3]),ii+=4):ii++,cp1=m2;seg=a[ii],seg.b=cp1,seg.c=cp1+.4*(seg.d-cp1),seg.da=seg.d-seg.a,seg.ca=seg.c-seg.a,seg.ba=cp1-seg.a,quad&&(qb=cubicToQuadratic(seg.a,cp1,seg.c,seg.d),a.splice(ii,1,qb[0],qb[1],qb[2],qb[3]))},_parseAnchors=function(values,p,correlate,prepend){var l,i,p1,p2,p3,tmp,a=[];if(prepend)for(values=[prepend].concat(values),i=values.length;--i>-1;)"string"==typeof(tmp=values[i][p])&&"="===tmp.charAt(1)&&(values[i][p]=prepend[p]+Number(tmp.charAt(0)+tmp.substr(2)));if(l=values.length-2,0>l)return a[0]=new Segment(values[0][p],0,0,values[-1>l?0:1][p]),a;for(i=0;l>i;i++)p1=values[i][p],p2=values[i+1][p],a[i]=new Segment(p1,0,0,p2),correlate&&(p3=values[i+2][p],_r1[i]=(_r1[i]||0)+(p2-p1)*(p2-p1),_r2[i]=(_r2[i]||0)+(p3-p2)*(p3-p2));return a[i]=new Segment(values[i][p],0,0,values[i+1][p]),a},bezierThrough=function(values,curviness,quadratic,basic,correlate,prepend){var i,p,a,j,r,l,seamless,last,obj={},props=[],first=prepend||values[0];correlate="string"==typeof correlate?","+correlate+",":_correlate,null==curviness&&(curviness=1);for(p in values[0])props.push(p);if(values.length>1){for(last=values[values.length-1],seamless=!0,i=props.length;--i>-1;)if(p=props[i],Math.abs(first[p]-last[p])>.05){seamless=!1;break}seamless&&(values=values.concat(),prepend&&values.unshift(prepend),values.push(values[1]),prepend=values[values.length-3])}for(_r1.length=_r2.length=_r3.length=0,i=props.length;--i>-1;)p=props[i],_corProps[p]=-1!==correlate.indexOf(","+p+","),obj[p]=_parseAnchors(values,p,_corProps[p],prepend);for(i=_r1.length;--i>-1;)_r1[i]=Math.sqrt(_r1[i]),_r2[i]=Math.sqrt(_r2[i]);if(!basic){for(i=props.length;--i>-1;)if(_corProps[p])for(a=obj[props[i]],l=a.length-1,j=0;l>j;j++)r=a[j+1].da/_r2[j]+a[j].da/_r1[j],_r3[j]=(_r3[j]||0)+r*r;for(i=_r3.length;--i>-1;)_r3[i]=Math.sqrt(_r3[i])}for(i=props.length,j=quadratic?4:1;--i>-1;)p=props[i],a=obj[p],_calculateControlPoints(a,curviness,quadratic,basic,_corProps[p]),seamless&&(a.splice(0,j),a.splice(a.length-j,j));return obj},_parseBezierData=function(values,type,prepend){type=type||"soft";var a,b,c,d,cur,i,j,l,p,cnt,tmp,obj={},inc="cubic"===type?3:2,soft="soft"===type,props=[];if(soft&&prepend&&(values=[prepend].concat(values)),null==values||values.length<inc+1)throw"invalid Bezier data";for(p in values[0])props.push(p);for(i=props.length;--i>-1;){for(p=props[i],obj[p]=cur=[],cnt=0,l=values.length,j=0;l>j;j++)a=null==prepend?values[j][p]:"string"==typeof(tmp=values[j][p])&&"="===tmp.charAt(1)?prepend[p]+Number(tmp.charAt(0)+tmp.substr(2)):Number(tmp),soft&&j>1&&l-1>j&&(cur[cnt++]=(a+cur[cnt-2])/2),cur[cnt++]=a;for(l=cnt-inc+1,cnt=0,j=0;l>j;j+=inc)a=cur[j],b=cur[j+1],c=cur[j+2],d=2===inc?0:cur[j+3],cur[cnt++]=tmp=3===inc?new Segment(a,b,c,d):new Segment(a,(2*b+a)/3,(2*b+c)/3,c);cur.length=cnt}return obj},_addCubicLengths=function(a,steps,resolution){for(var d,d1,s,da,ca,ba,p,i,inv,bez,index,inc=1/resolution,j=a.length;--j>-1;)for(bez=a[j],s=bez.a,da=bez.d-s,ca=bez.c-s,ba=bez.b-s,d=d1=0,i=1;resolution>=i;i++)p=inc*i,inv=1-p,d=d1-(d1=(p*p*da+3*inv*(p*ca+inv*ba))*p),index=j*resolution+i-1,steps[index]=(steps[index]||0)+d*d},_parseLengthData=function(obj,resolution){resolution=resolution>>0||6;var p,i,l,index,a=[],lengths=[],d=0,total=0,threshold=resolution-1,segments=[],curLS=[];for(p in obj)_addCubicLengths(obj[p],a,resolution);for(l=a.length,i=0;l>i;i++)d+=Math.sqrt(a[i]),index=i%resolution,curLS[index]=d,index===threshold&&(total+=d,index=i/resolution>>0,segments[index]=curLS,lengths[index]=total,d=0,curLS=[]);return{length:total,lengths:lengths,segments:segments}},BezierPlugin=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.4",API:2,global:!0,init:function(target,vars,tween){this._target=target,vars instanceof Array&&(vars={values:vars}),this._func={},this._round={},this._props=[],this._timeRes=null==vars.timeResolution?6:parseInt(vars.timeResolution,10);var p,isFunc,i,j,prepend,values=vars.values||[],first={},second=values[0],autoRotate=vars.autoRotate||tween.vars.orientToBezier;this._autoRotate=autoRotate?autoRotate instanceof Array?autoRotate:[["x","y","rotation",autoRotate===!0?0:Number(autoRotate)||0]]:null;for(p in second)this._props.push(p);for(i=this._props.length;--i>-1;)p=this._props[i],this._overwriteProps.push(p),isFunc=this._func[p]="function"==typeof target[p],first[p]=isFunc?target[p.indexOf("set")||"function"!=typeof target["get"+p.substr(3)]?p:"get"+p.substr(3)]():parseFloat(target[p]),prepend||first[p]!==values[0][p]&&(prepend=first);if(this._beziers="cubic"!==vars.type&&"quadratic"!==vars.type&&"soft"!==vars.type?bezierThrough(values,isNaN(vars.curviness)?1:vars.curviness,!1,"thruBasic"===vars.type,vars.correlate,prepend):_parseBezierData(values,vars.type,first),this._segCount=this._beziers[p].length,this._timeRes){var ld=_parseLengthData(this._beziers,this._timeRes);this._length=ld.length,this._lengths=ld.lengths,this._segments=ld.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(autoRotate=this._autoRotate)for(this._initialRotations=[],autoRotate[0]instanceof Array||(this._autoRotate=autoRotate=[autoRotate]),i=autoRotate.length;--i>-1;){for(j=0;3>j;j++)p=autoRotate[i][j],this._func[p]="function"==typeof target[p]?target[p.indexOf("set")||"function"!=typeof target["get"+p.substr(3)]?p:"get"+p.substr(3)]:!1;p=autoRotate[i][2],this._initialRotations[i]=this._func[p]?this._func[p].call(this._target):this._target[p]}return this._startRatio=tween.vars.runBackwards?1:0,!0},set:function(v){var curIndex,inv,i,p,b,t,val,l,lengths,curSeg,segments=this._segCount,func=this._func,target=this._target,notStart=v!==this._startRatio;if(this._timeRes){if(lengths=this._lengths,curSeg=this._curSeg,v*=this._length,i=this._li,v>this._l2&&segments-1>i){for(l=segments-1;l>i&&(this._l2=lengths[++i])<=v;);this._l1=lengths[i-1],this._li=i,this._curSeg=curSeg=this._segments[i],this._s2=curSeg[this._s1=this._si=0]}else if(v<this._l1&&i>0){for(;i>0&&(this._l1=lengths[--i])>=v;);0===i&&v<this._l1?this._l1=0:i++,this._l2=lengths[i],this._li=i,this._curSeg=curSeg=this._segments[i],this._s1=curSeg[(this._si=curSeg.length-1)-1]||0,this._s2=curSeg[this._si]}if(curIndex=i,v-=this._l1,i=this._si,v>this._s2&&i<curSeg.length-1){for(l=curSeg.length-1;l>i&&(this._s2=curSeg[++i])<=v;);this._s1=curSeg[i-1],this._si=i}else if(v<this._s1&&i>0){for(;i>0&&(this._s1=curSeg[--i])>=v;);0===i&&v<this._s1?this._s1=0:i++,this._s2=curSeg[i],this._si=i}t=(i+(v-this._s1)/(this._s2-this._s1))*this._prec}else curIndex=0>v?0:v>=1?segments-1:segments*v>>0,t=(v-curIndex*(1/segments))*segments;for(inv=1-t,i=this._props.length;--i>-1;)p=this._props[i],b=this._beziers[p][curIndex],val=(t*t*b.da+3*inv*(t*b.ca+inv*b.ba))*t+b.a,this._round[p]&&(val=Math.round(val)),func[p]?target[p](val):target[p]=val;if(this._autoRotate){var b2,x1,y1,x2,y2,add,conv,ar=this._autoRotate;for(i=ar.length;--i>-1;)p=ar[i][2],add=ar[i][3]||0,conv=ar[i][4]===!0?1:_RAD2DEG,b=this._beziers[ar[i][0]],b2=this._beziers[ar[i][1]],b&&b2&&(b=b[curIndex],b2=b2[curIndex],x1=b.a+(b.b-b.a)*t,x2=b.b+(b.c-b.b)*t,x1+=(x2-x1)*t,x2+=(b.c+(b.d-b.c)*t-x2)*t,y1=b2.a+(b2.b-b2.a)*t,y2=b2.b+(b2.c-b2.b)*t,y1+=(y2-y1)*t,y2+=(b2.c+(b2.d-b2.c)*t-y2)*t,val=notStart?Math.atan2(y2-y1,x2-x1)*conv+add:this._initialRotations[i],func[p]?target[p](val):target[p]=val)}}}),p=BezierPlugin.prototype;BezierPlugin.bezierThrough=bezierThrough,BezierPlugin.cubicToQuadratic=cubicToQuadratic,BezierPlugin._autoCSS=!0,BezierPlugin.quadraticToCubic=function(a,b,c){return new Segment(a,(2*b+a)/3,(2*b+c)/3,c)},BezierPlugin._cssRegister=function(){var CSSPlugin=_globals.CSSPlugin;if(CSSPlugin){var _internals=CSSPlugin._internals,_parseToProxy=_internals._parseToProxy,_setPluginRatio=_internals._setPluginRatio,CSSPropTween=_internals.CSSPropTween;_internals._registerComplexSpecialProp("bezier",{parser:function(t,e,prop,cssp,pt,plugin){e instanceof Array&&(e={values:e}),plugin=new BezierPlugin;var i,p,data,values=e.values,l=values.length-1,pluginValues=[],v={};if(0>l)return pt;for(i=0;l>=i;i++)data=_parseToProxy(t,values[i],cssp,pt,plugin,l!==i),pluginValues[i]=data.end;for(p in e)v[p]=e[p];return v.values=pluginValues,pt=new CSSPropTween(t,"bezier",0,0,data.pt,2),pt.data=data,pt.plugin=plugin,pt.setRatio=_setPluginRatio,0===v.autoRotate&&(v.autoRotate=!0),!v.autoRotate||v.autoRotate instanceof Array||(i=v.autoRotate===!0?0:Number(v.autoRotate),v.autoRotate=null!=data.end.left?[["left","top","rotation",i,!1]]:null!=data.end.x?[["x","y","rotation",i,!1]]:!1),v.autoRotate&&(cssp._transform||cssp._enableTransforms(!1),data.autoRotate=cssp._target._gsTransform),plugin._onInitTween(data.proxy,v,cssp._tween),pt}})}},p._roundProps=function(lookup,value){for(var op=this._overwriteProps,i=op.length;--i>-1;)(lookup[op[i]]||lookup.bezier||lookup.bezierThrough)&&(this._round[op[i]]=value)},p._kill=function(lookup){var p,i,a=this._props;for(p in this._beziers)if(p in lookup)for(delete this._beziers[p],delete this._func[p],i=a.length;--i>-1;)a[i]===p&&a.splice(i,1);return this._super._kill.call(this,lookup)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(TweenPlugin,TweenLite){var _hasPriority,_suffixMap,_cs,_overwriteProps,CSSPlugin=function(){TweenPlugin.call(this,"css"),this._overwriteProps.length=0,this.setRatio=CSSPlugin.prototype.setRatio},_globals=_gsScope._gsDefine.globals,_specialProps={},p=CSSPlugin.prototype=new TweenPlugin("css");p.constructor=CSSPlugin,CSSPlugin.version="1.18.0",CSSPlugin.API=2,CSSPlugin.defaultTransformPerspective=0,CSSPlugin.defaultSkewType="compensated",CSSPlugin.defaultSmoothOrigin=!0,p="px",CSSPlugin.suffixMap={top:p,right:p,bottom:p,left:p,width:p,height:p,fontSize:p,padding:p,margin:p,perspective:p,lineHeight:""};var _autoRound,_reqSafariFix,_isSafari,_isFirefox,_isSafariLT6,_ieVers,_numExp=/(?:\d|\-\d|\.\d|\-\.\d)+/g,_relNumExp=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,_valuesExp=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,_NaNExp=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,_suffixExp=/(?:\d|\-|\+|=|#|\.)*/g,_opacityExp=/opacity *= *([^)]*)/i,_opacityValExp=/opacity:([^;]*)/i,_alphaFilterExp=/alpha\(opacity *=.+?\)/i,_rgbhslExp=/^(rgb|hsl)/,_capsExp=/([A-Z])/g,_camelExp=/-([a-z])/gi,_urlExp=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,_camelFunc=function(s,g){return g.toUpperCase()},_horizExp=/(?:Left|Right|Width)/i,_ieGetMatrixExp=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,_ieSetMatrixExp=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,_commasOutsideParenExp=/,(?=[^\)]*(?:\(|$))/gi,_DEG2RAD=Math.PI/180,_RAD2DEG=180/Math.PI,_forcePT={},_doc=document,_createElement=function(type){return _doc.createElementNS?_doc.createElementNS("http://www.w3.org/1999/xhtml",type):_doc.createElement(type)},_tempDiv=_createElement("div"),_tempImg=_createElement("img"),_internals=CSSPlugin._internals={_specialProps:_specialProps},_agent=navigator.userAgent,_supportsOpacity=function(){var i=_agent.indexOf("Android"),a=_createElement("a");return _isSafari=-1!==_agent.indexOf("Safari")&&-1===_agent.indexOf("Chrome")&&(-1===i||Number(_agent.substr(i+8,1))>3),_isSafariLT6=_isSafari&&Number(_agent.substr(_agent.indexOf("Version/")+8,1))<6,_isFirefox=-1!==_agent.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(_agent)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(_agent))&&(_ieVers=parseFloat(RegExp.$1)),a?(a.style.cssText="top:1px;opacity:.55;",/^0.55/.test(a.style.opacity)):!1}(),_getIEOpacity=function(v){return _opacityExp.test("string"==typeof v?v:(v.currentStyle?v.currentStyle.filter:v.style.filter)||"")?parseFloat(RegExp.$1)/100:1},_log=function(s){window.console&&console.log(s)},_prefixCSS="",_prefix="",_checkPropPrefix=function(p,e){e=e||_tempDiv;var a,i,s=e.style;if(void 0!==s[p])return p;for(p=p.charAt(0).toUpperCase()+p.substr(1),a=["O","Moz","ms","Ms","Webkit"],i=5;--i>-1&&void 0===s[a[i]+p];);return i>=0?(_prefix=3===i?"ms":a[i],_prefixCSS="-"+_prefix.toLowerCase()+"-",_prefix+p):null},_getComputedStyle=_doc.defaultView?_doc.defaultView.getComputedStyle:function(){},_getStyle=CSSPlugin.getStyle=function(t,p,cs,calc,dflt){var rv;return _supportsOpacity||"opacity"!==p?(!calc&&t.style[p]?rv=t.style[p]:(cs=cs||_getComputedStyle(t))?rv=cs[p]||cs.getPropertyValue(p)||cs.getPropertyValue(p.replace(_capsExp,"-$1").toLowerCase()):t.currentStyle&&(rv=t.currentStyle[p]),null==dflt||rv&&"none"!==rv&&"auto"!==rv&&"auto auto"!==rv?rv:dflt):_getIEOpacity(t)},_convertToPixels=_internals.convertToPixels=function(t,p,v,sfx,recurse){if("px"===sfx||!sfx)return v;if("auto"===sfx||!v)return 0;var pix,cache,time,horiz=_horizExp.test(p),node=t,style=_tempDiv.style,neg=0>v;if(neg&&(v=-v),"%"===sfx&&-1!==p.indexOf("border"))pix=v/100*(horiz?t.clientWidth:t.clientHeight);else{if(style.cssText="border:0 solid red;position:"+_getStyle(t,"position")+";line-height:0;","%"!==sfx&&node.appendChild&&"v"!==sfx.charAt(0)&&"rem"!==sfx)style[horiz?"borderLeftWidth":"borderTopWidth"]=v+sfx;else{if(node=t.parentNode||_doc.body,cache=node._gsCache,time=TweenLite.ticker.frame,cache&&horiz&&cache.time===time)return cache.width*v/100;style[horiz?"width":"height"]=v+sfx}node.appendChild(_tempDiv),pix=parseFloat(_tempDiv[horiz?"offsetWidth":"offsetHeight"]),node.removeChild(_tempDiv),horiz&&"%"===sfx&&CSSPlugin.cacheWidths!==!1&&(cache=node._gsCache=node._gsCache||{},cache.time=time,cache.width=pix/v*100),0!==pix||recurse||(pix=_convertToPixels(t,p,v,sfx,!0))}return neg?-pix:pix},_calculateOffset=_internals.calculateOffset=function(t,p,cs){if("absolute"!==_getStyle(t,"position",cs))return 0;var dim="left"===p?"Left":"Top",v=_getStyle(t,"margin"+dim,cs);return t["offset"+dim]-(_convertToPixels(t,p,parseFloat(v),v.replace(_suffixExp,""))||0)},_getAllStyles=function(t,cs){var i,tr,p,s={};if(cs=cs||_getComputedStyle(t,null))if(i=cs.length)for(;--i>-1;)p=cs[i],(-1===p.indexOf("-transform")||_transformPropCSS===p)&&(s[p.replace(_camelExp,_camelFunc)]=cs.getPropertyValue(p));else for(i in cs)(-1===i.indexOf("Transform")||_transformProp===i)&&(s[i]=cs[i]);else if(cs=t.currentStyle||t.style)for(i in cs)"string"==typeof i&&void 0===s[i]&&(s[i.replace(_camelExp,_camelFunc)]=cs[i]);return _supportsOpacity||(s.opacity=_getIEOpacity(t)),tr=_getTransform(t,cs,!1),s.rotation=tr.rotation,s.skewX=tr.skewX,s.scaleX=tr.scaleX,s.scaleY=tr.scaleY,s.x=tr.x,s.y=tr.y,_supports3D&&(s.z=tr.z,s.rotationX=tr.rotationX,s.rotationY=tr.rotationY,s.scaleZ=tr.scaleZ),s.filters&&delete s.filters,s},_cssDif=function(t,s1,s2,vars,forceLookup){var val,p,mpt,difs={},style=t.style;for(p in s2)"cssText"!==p&&"length"!==p&&isNaN(p)&&(s1[p]!==(val=s2[p])||forceLookup&&forceLookup[p])&&-1===p.indexOf("Origin")&&("number"==typeof val||"string"==typeof val)&&(difs[p]="auto"!==val||"left"!==p&&"top"!==p?""!==val&&"auto"!==val&&"none"!==val||"string"!=typeof s1[p]||""===s1[p].replace(_NaNExp,"")?val:0:_calculateOffset(t,p),void 0!==style[p]&&(mpt=new MiniPropTween(style,p,style[p],mpt)));if(vars)for(p in vars)"className"!==p&&(difs[p]=vars[p]);return{difs:difs,firstMPT:mpt}},_dimensions={width:["Left","Right"],height:["Top","Bottom"]},_margins=["marginLeft","marginRight","marginTop","marginBottom"],_getDimension=function(t,p,cs){var v=parseFloat("width"===p?t.offsetWidth:t.offsetHeight),a=_dimensions[p],i=a.length;for(cs=cs||_getComputedStyle(t,null);--i>-1;)v-=parseFloat(_getStyle(t,"padding"+a[i],cs,!0))||0,v-=parseFloat(_getStyle(t,"border"+a[i]+"Width",cs,!0))||0;return v},_parsePosition=function(v,recObj){if("contain"===v||"auto"===v||"auto auto"===v)return v+" ";(null==v||""===v)&&(v="0 0");var a=v.split(" "),x=-1!==v.indexOf("left")?"0%":-1!==v.indexOf("right")?"100%":a[0],y=-1!==v.indexOf("top")?"0%":-1!==v.indexOf("bottom")?"100%":a[1];return null==y?y="center"===x?"50%":"0":"center"===y&&(y="50%"),("center"===x||isNaN(parseFloat(x))&&-1===(x+"").indexOf("="))&&(x="50%"),v=x+" "+y+(a.length>2?" "+a[2]:""),recObj&&(recObj.oxp=-1!==x.indexOf("%"),recObj.oyp=-1!==y.indexOf("%"),recObj.oxr="="===x.charAt(1),recObj.oyr="="===y.charAt(1),recObj.ox=parseFloat(x.replace(_NaNExp,"")),recObj.oy=parseFloat(y.replace(_NaNExp,"")),recObj.v=v),recObj||v},_parseChange=function(e,b){return"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(b)},_parseVal=function(v,d){return null==v?d:"string"==typeof v&&"="===v.charAt(1)?parseInt(v.charAt(0)+"1",10)*parseFloat(v.substr(2))+d:parseFloat(v)},_parseAngle=function(v,d,p,directionalEnd){var cap,split,dif,result,isRelative,min=1e-6;return null==v?result=d:"number"==typeof v?result=v:(cap=360,split=v.split("_"),isRelative="="===v.charAt(1),dif=(isRelative?parseInt(v.charAt(0)+"1",10)*parseFloat(split[0].substr(2)):parseFloat(split[0]))*(-1===v.indexOf("rad")?1:_RAD2DEG)-(isRelative?0:d),split.length&&(directionalEnd&&(directionalEnd[p]=d+dif),-1!==v.indexOf("short")&&(dif%=cap,dif!==dif%(cap/2)&&(dif=0>dif?dif+cap:dif-cap)),-1!==v.indexOf("_cw")&&0>dif?dif=(dif+9999999999*cap)%cap-(dif/cap|0)*cap:-1!==v.indexOf("ccw")&&dif>0&&(dif=(dif-9999999999*cap)%cap-(dif/cap|0)*cap)),result=d+dif),min>result&&result>-min&&(result=0),result},_colorLookup={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},_hue=function(h,m1,m2){return h=0>h?h+1:h>1?h-1:h,255*(1>6*h?m1+(m2-m1)*h*6:.5>h?m2:2>3*h?m1+(m2-m1)*(2/3-h)*6:m1)+.5|0},_parseColor=CSSPlugin.parseColor=function(v,toHSL){var a,r,g,b,h,s,l,max,min,d,wasHSL;if(v)if("number"==typeof v)a=[v>>16,v>>8&255,255&v];else{if(","===v.charAt(v.length-1)&&(v=v.substr(0,v.length-1)),_colorLookup[v])a=_colorLookup[v];else if("#"===v.charAt(0))4===v.length&&(r=v.charAt(1),g=v.charAt(2),b=v.charAt(3),v="#"+r+r+g+g+b+b),v=parseInt(v.substr(1),16),a=[v>>16,v>>8&255,255&v];else if("hsl"===v.substr(0,3))if(a=wasHSL=v.match(_numExp),toHSL){if(-1!==v.indexOf("="))return v.match(_relNumExp)}else h=Number(a[0])%360/360,s=Number(a[1])/100,l=Number(a[2])/100,g=.5>=l?l*(s+1):l+s-l*s,r=2*l-g,a.length>3&&(a[3]=Number(v[3])),a[0]=_hue(h+1/3,r,g),a[1]=_hue(h,r,g),a[2]=_hue(h-1/3,r,g);else a=v.match(_numExp)||_colorLookup.transparent;a[0]=Number(a[0]),a[1]=Number(a[1]),a[2]=Number(a[2]),a.length>3&&(a[3]=Number(a[3]))}else a=_colorLookup.black;return toHSL&&!wasHSL&&(r=a[0]/255,g=a[1]/255,b=a[2]/255,max=Math.max(r,g,b),min=Math.min(r,g,b),l=(max+min)/2,max===min?h=s=0:(d=max-min,s=l>.5?d/(2-max-min):d/(max+min),h=max===r?(g-b)/d+(b>g?6:0):max===g?(b-r)/d+2:(r-g)/d+4,h*=60),a[0]=h+.5|0,a[1]=100*s+.5|0,a[2]=100*l+.5|0),a},_formatColors=function(s,toHSL){var i,color,temp,colors=s.match(_colorExp)||[],charIndex=0,parsed=colors.length?"":s;for(i=0;i<colors.length;i++)color=colors[i],temp=s.substr(charIndex,s.indexOf(color,charIndex)-charIndex),charIndex+=temp.length+color.length,color=_parseColor(color,toHSL),3===color.length&&color.push(1),parsed+=temp+(toHSL?"hsla("+color[0]+","+color[1]+"%,"+color[2]+"%,"+color[3]:"rgba("+color.join(","))+")";return parsed},_colorExp="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(p in _colorLookup)_colorExp+="|"+p+"\\b";_colorExp=new RegExp(_colorExp+")","gi"),CSSPlugin.colorStringFilter=function(a){var toHSL,combined=a[0]+a[1];_colorExp.lastIndex=0,_colorExp.test(combined)&&(toHSL=-1!==combined.indexOf("hsl(")||-1!==combined.indexOf("hsla("),a[0]=_formatColors(a[0],toHSL),a[1]=_formatColors(a[1],toHSL))},TweenLite.defaultStringFilter||(TweenLite.defaultStringFilter=CSSPlugin.colorStringFilter);var _getFormatter=function(dflt,clr,collapsible,multi){if(null==dflt)return function(v){return v};var formatter,dColor=clr?(dflt.match(_colorExp)||[""])[0]:"",dVals=dflt.split(dColor).join("").match(_valuesExp)||[],pfx=dflt.substr(0,dflt.indexOf(dVals[0])),sfx=")"===dflt.charAt(dflt.length-1)?")":"",delim=-1!==dflt.indexOf(" ")?" ":",",numVals=dVals.length,dSfx=numVals>0?dVals[0].replace(_numExp,""):"";return numVals?formatter=clr?function(v){var color,vals,i,a;if("number"==typeof v)v+=dSfx;else if(multi&&_commasOutsideParenExp.test(v)){for(a=v.replace(_commasOutsideParenExp,"|").split("|"),i=0;i<a.length;i++)a[i]=formatter(a[i]);return a.join(",")}if(color=(v.match(_colorExp)||[dColor])[0],vals=v.split(color).join("").match(_valuesExp)||[],i=vals.length,numVals>i--)for(;++i<numVals;)vals[i]=collapsible?vals[(i-1)/2|0]:dVals[i];return pfx+vals.join(delim)+delim+color+sfx+(-1!==v.indexOf("inset")?" inset":"")}:function(v){var vals,a,i;if("number"==typeof v)v+=dSfx;else if(multi&&_commasOutsideParenExp.test(v)){for(a=v.replace(_commasOutsideParenExp,"|").split("|"),i=0;i<a.length;i++)a[i]=formatter(a[i]);return a.join(",")}if(vals=v.match(_valuesExp)||[],i=vals.length,numVals>i--)for(;++i<numVals;)vals[i]=collapsible?vals[(i-1)/2|0]:dVals[i];return pfx+vals.join(delim)+sfx}:function(v){return v}},_getEdgeParser=function(props){return props=props.split(","),function(t,e,p,cssp,pt,plugin,vars){var i,a=(e+"").split(" ");for(vars={},i=0;4>i;i++)vars[props[i]]=a[i]=a[i]||a[(i-1)/2>>0];return cssp.parse(t,vars,pt,plugin)}},MiniPropTween=(_internals._setPluginRatio=function(v){this.plugin.setRatio(v);for(var val,pt,i,str,d=this.data,proxy=d.proxy,mpt=d.firstMPT,min=1e-6;mpt;)val=proxy[mpt.v],mpt.r?val=Math.round(val):min>val&&val>-min&&(val=0),mpt.t[mpt.p]=val,mpt=mpt._next;if(d.autoRotate&&(d.autoRotate.rotation=proxy.rotation),1===v)for(mpt=d.firstMPT;mpt;){if(pt=mpt.t,pt.type){if(1===pt.type){for(str=pt.xs0+pt.s+pt.xs1,i=1;i<pt.l;i++)str+=pt["xn"+i]+pt["xs"+(i+1)];pt.e=str}}else pt.e=pt.s+pt.xs0;mpt=mpt._next}},function(t,p,v,next,r){this.t=t,this.p=p,this.v=v,this.r=r,next&&(next._prev=this,this._next=next)}),CSSPropTween=(_internals._parseToProxy=function(t,vars,cssp,pt,plugin,shallow){var i,p,xp,mpt,firstPT,bpt=pt,start={},end={},transform=cssp._transform,oldForce=_forcePT;for(cssp._transform=null,_forcePT=vars,pt=firstPT=cssp.parse(t,vars,pt,plugin),_forcePT=oldForce,shallow&&(cssp._transform=transform,bpt&&(bpt._prev=null,bpt._prev&&(bpt._prev._next=null)));pt&&pt!==bpt;){if(pt.type<=1&&(p=pt.p,end[p]=pt.s+pt.c,start[p]=pt.s,shallow||(mpt=new MiniPropTween(pt,"s",p,mpt,pt.r),pt.c=0),1===pt.type))for(i=pt.l;--i>0;)xp="xn"+i,p=pt.p+"_"+xp,end[p]=pt.data[xp],start[p]=pt[xp],shallow||(mpt=new MiniPropTween(pt,xp,p,mpt,pt.rxp[xp]));pt=pt._next}return{proxy:start,end:end,firstMPT:mpt,pt:firstPT}},_internals.CSSPropTween=function(t,p,s,c,next,type,n,r,pr,b,e){this.t=t,this.p=p,this.s=s,this.c=c,this.n=n||p,t instanceof CSSPropTween||_overwriteProps.push(this.n),this.r=r,this.type=type||0,pr&&(this.pr=pr,_hasPriority=!0),this.b=void 0===b?s:b,this.e=void 0===e?s+c:e,next&&(this._next=next,next._prev=this)}),_addNonTweeningNumericPT=function(target,prop,start,end,next,overwriteProp){var pt=new CSSPropTween(target,prop,start,end-start,next,-1,overwriteProp);return pt.b=start,pt.e=pt.xs0=end,pt},_parseComplex=CSSPlugin.parseComplex=function(t,p,b,e,clrs,dflt,pt,pr,plugin,setRatio){b=b||dflt||"",pt=new CSSPropTween(t,p,0,0,pt,setRatio?2:1,null,!1,pr,b,e),e+="";var i,xi,ni,bv,ev,bnums,enums,bn,hasAlpha,temp,cv,str,useHSL,ba=b.split(", ").join(",").split(" "),ea=e.split(", ").join(",").split(" "),l=ba.length,autoRound=_autoRound!==!1;for((-1!==e.indexOf(",")||-1!==b.indexOf(","))&&(ba=ba.join(" ").replace(_commasOutsideParenExp,", ").split(" "),ea=ea.join(" ").replace(_commasOutsideParenExp,", ").split(" "),l=ba.length),l!==ea.length&&(ba=(dflt||"").split(" "),l=ba.length),pt.plugin=plugin,pt.setRatio=setRatio,_colorExp.lastIndex=0,i=0;l>i;i++)if(bv=ba[i],ev=ea[i],bn=parseFloat(bv),bn||0===bn)pt.appendXtra("",bn,_parseChange(ev,bn),ev.replace(_relNumExp,""),autoRound&&-1!==ev.indexOf("px"),!0);else if(clrs&&_colorExp.test(bv))str=","===ev.charAt(ev.length-1)?"),":")",useHSL=-1!==ev.indexOf("hsl")&&_supportsOpacity,bv=_parseColor(bv,useHSL),ev=_parseColor(ev,useHSL),hasAlpha=bv.length+ev.length>6,hasAlpha&&!_supportsOpacity&&0===ev[3]?(pt["xs"+pt.l]+=pt.l?" transparent":"transparent",pt.e=pt.e.split(ea[i]).join("transparent")):(_supportsOpacity||(hasAlpha=!1),useHSL?pt.appendXtra(hasAlpha?"hsla(":"hsl(",bv[0],_parseChange(ev[0],bv[0]),",",!1,!0).appendXtra("",bv[1],_parseChange(ev[1],bv[1]),"%,",!1).appendXtra("",bv[2],_parseChange(ev[2],bv[2]),hasAlpha?"%,":"%"+str,!1):pt.appendXtra(hasAlpha?"rgba(":"rgb(",bv[0],ev[0]-bv[0],",",!0,!0).appendXtra("",bv[1],ev[1]-bv[1],",",!0).appendXtra("",bv[2],ev[2]-bv[2],hasAlpha?",":str,!0),hasAlpha&&(bv=bv.length<4?1:bv[3],pt.appendXtra("",bv,(ev.length<4?1:ev[3])-bv,str,!1))),_colorExp.lastIndex=0;else if(bnums=bv.match(_numExp)){if(enums=ev.match(_relNumExp),!enums||enums.length!==bnums.length)return pt;for(ni=0,xi=0;xi<bnums.length;xi++)cv=bnums[xi],temp=bv.indexOf(cv,ni),pt.appendXtra(bv.substr(ni,temp-ni),Number(cv),_parseChange(enums[xi],cv),"",autoRound&&"px"===bv.substr(temp+cv.length,2),0===xi),ni=temp+cv.length;pt["xs"+pt.l]+=bv.substr(ni)}else pt["xs"+pt.l]+=pt.l?" "+bv:bv;if(-1!==e.indexOf("=")&&pt.data){for(str=pt.xs0+pt.data.s,i=1;i<pt.l;i++)str+=pt["xs"+i]+pt.data["xn"+i];pt.e=str+pt["xs"+i]}return pt.l||(pt.type=-1,pt.xs0=pt.e),pt.xfirst||pt},i=9;for(p=CSSPropTween.prototype,p.l=p.pr=0;--i>0;)p["xn"+i]=0,p["xs"+i]="";p.xs0="",p._next=p._prev=p.xfirst=p.data=p.plugin=p.setRatio=p.rxp=null,p.appendXtra=function(pfx,s,c,sfx,r,pad){var pt=this,l=pt.l;return pt["xs"+l]+=pad&&l?" "+pfx:pfx||"",c||0===l||pt.plugin?(pt.l++,pt.type=pt.setRatio?2:1,pt["xs"+pt.l]=sfx||"",l>0?(pt.data["xn"+l]=s+c,pt.rxp["xn"+l]=r,pt["xn"+l]=s,pt.plugin||(pt.xfirst=new CSSPropTween(pt,"xn"+l,s,c,pt.xfirst||pt,0,pt.n,r,pt.pr),pt.xfirst.xs0=0),pt):(pt.data={s:s+c},pt.rxp={},pt.s=s,pt.c=c,pt.r=r,pt)):(pt["xs"+l]+=s+(sfx||""),pt)};var SpecialProp=function(p,options){options=options||{},this.p=options.prefix?_checkPropPrefix(p)||p:p,_specialProps[p]=_specialProps[this.p]=this,this.format=options.formatter||_getFormatter(options.defaultValue,options.color,options.collapsible,options.multi),options.parser&&(this.parse=options.parser),this.clrs=options.color,this.multi=options.multi,this.keyword=options.keyword,this.dflt=options.defaultValue,this.pr=options.priority||0},_registerComplexSpecialProp=_internals._registerComplexSpecialProp=function(p,options,defaults){"object"!=typeof options&&(options={parser:defaults});var i,temp,a=p.split(","),d=options.defaultValue;for(defaults=defaults||[d],i=0;i<a.length;i++)options.prefix=0===i&&options.prefix,options.defaultValue=defaults[i]||d,temp=new SpecialProp(a[i],options)},_registerPluginProp=function(p){if(!_specialProps[p]){var pluginName=p.charAt(0).toUpperCase()+p.substr(1)+"Plugin";_registerComplexSpecialProp(p,{parser:function(t,e,p,cssp,pt,plugin,vars){var pluginClass=_globals.com.greensock.plugins[pluginName];return pluginClass?(pluginClass._cssRegister(),_specialProps[p].parse(t,e,p,cssp,pt,plugin,vars)):(_log("Error: "+pluginName+" js file not loaded."),pt)}})}};p=SpecialProp.prototype,p.parseComplex=function(t,b,e,pt,plugin,setRatio){var i,ba,ea,l,bi,ei,kwd=this.keyword;if(this.multi&&(_commasOutsideParenExp.test(e)||_commasOutsideParenExp.test(b)?(ba=b.replace(_commasOutsideParenExp,"|").split("|"),ea=e.replace(_commasOutsideParenExp,"|").split("|")):kwd&&(ba=[b],ea=[e])),ea){for(l=ea.length>ba.length?ea.length:ba.length,i=0;l>i;i++)b=ba[i]=ba[i]||this.dflt,e=ea[i]=ea[i]||this.dflt,kwd&&(bi=b.indexOf(kwd),ei=e.indexOf(kwd),bi!==ei&&(-1===ei?ba[i]=ba[i].split(kwd).join(""):-1===bi&&(ba[i]+=" "+kwd)));b=ba.join(", "),e=ea.join(", ")}return _parseComplex(t,this.p,b,e,this.clrs,this.dflt,pt,this.pr,plugin,setRatio)},p.parse=function(t,e,p,cssp,pt,plugin,vars){return this.parseComplex(t.style,this.format(_getStyle(t,this.p,_cs,!1,this.dflt)),this.format(e),pt,plugin)},CSSPlugin.registerSpecialProp=function(name,onInitTween,priority){_registerComplexSpecialProp(name,{parser:function(t,e,p,cssp,pt,plugin,vars){var rv=new CSSPropTween(t,p,0,0,pt,2,p,!1,priority);

return rv.plugin=plugin,rv.setRatio=onInitTween(t,e,cssp._tween,p),rv},priority:priority})},CSSPlugin.useSVGTransformAttr=_isSafari||_isFirefox;var _useSVGTransformAttr,_transformProps="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),_transformProp=_checkPropPrefix("transform"),_transformPropCSS=_prefixCSS+"transform",_transformOriginProp=_checkPropPrefix("transformOrigin"),_supports3D=null!==_checkPropPrefix("perspective"),Transform=_internals.Transform=function(){this.perspective=parseFloat(CSSPlugin.defaultTransformPerspective)||0,this.force3D=CSSPlugin.defaultForce3D!==!1&&_supports3D?CSSPlugin.defaultForce3D||"auto":!1},_SVGElement=window.SVGElement,_createSVG=function(type,container,attributes){var p,element=_doc.createElementNS("http://www.w3.org/2000/svg",type),reg=/([a-z])([A-Z])/g;for(p in attributes)element.setAttributeNS(null,p.replace(reg,"$1-$2").toLowerCase(),attributes[p]);return container.appendChild(element),element},_docElement=_doc.documentElement,_forceSVGTransformAttr=function(){var svg,rect,width,force=_ieVers||/Android/i.test(_agent)&&!window.chrome;return _doc.createElementNS&&!force&&(svg=_createSVG("svg",_docElement),rect=_createSVG("rect",svg,{width:100,height:50,x:100}),width=rect.getBoundingClientRect().width,rect.style[_transformOriginProp]="50% 50%",rect.style[_transformProp]="scaleX(0.5)",force=width===rect.getBoundingClientRect().width&&!(_isFirefox&&_supports3D),_docElement.removeChild(svg)),force}(),_parseSVGOrigin=function(e,local,decoratee,absolute,smoothOrigin){var v,x,y,xOrigin,yOrigin,a,b,c,d,tx,ty,determinant,xOriginOld,yOriginOld,tm=e._gsTransform,m=_getMatrix(e,!0);tm&&(xOriginOld=tm.xOrigin,yOriginOld=tm.yOrigin),(!absolute||(v=absolute.split(" ")).length<2)&&(b=e.getBBox(),local=_parsePosition(local).split(" "),v=[(-1!==local[0].indexOf("%")?parseFloat(local[0])/100*b.width:parseFloat(local[0]))+b.x,(-1!==local[1].indexOf("%")?parseFloat(local[1])/100*b.height:parseFloat(local[1]))+b.y]),decoratee.xOrigin=xOrigin=parseFloat(v[0]),decoratee.yOrigin=yOrigin=parseFloat(v[1]),absolute&&m!==_identity2DMatrix&&(a=m[0],b=m[1],c=m[2],d=m[3],tx=m[4],ty=m[5],determinant=a*d-b*c,x=xOrigin*(d/determinant)+yOrigin*(-c/determinant)+(c*ty-d*tx)/determinant,y=xOrigin*(-b/determinant)+yOrigin*(a/determinant)-(a*ty-b*tx)/determinant,xOrigin=decoratee.xOrigin=v[0]=x,yOrigin=decoratee.yOrigin=v[1]=y),tm&&(smoothOrigin||smoothOrigin!==!1&&CSSPlugin.defaultSmoothOrigin!==!1?(x=xOrigin-xOriginOld,y=yOrigin-yOriginOld,tm.xOffset+=x*m[0]+y*m[2]-x,tm.yOffset+=x*m[1]+y*m[3]-y):tm.xOffset=tm.yOffset=0),e.setAttribute("data-svg-origin",v.join(" "))},_isSVG=function(e){return!!(_SVGElement&&"function"==typeof e.getBBox&&e.getCTM&&(!e.parentNode||e.parentNode.getBBox&&e.parentNode.getCTM))},_identity2DMatrix=[1,0,0,1,0,0],_getMatrix=function(e,force2D){var isDefault,s,m,n,dec,tm=e._gsTransform||new Transform,rnd=1e5;if(_transformProp?s=_getStyle(e,_transformPropCSS,null,!0):e.currentStyle&&(s=e.currentStyle.filter.match(_ieGetMatrixExp),s=s&&4===s.length?[s[0].substr(4),Number(s[2].substr(4)),Number(s[1].substr(4)),s[3].substr(4),tm.x||0,tm.y||0].join(","):""),isDefault=!s||"none"===s||"matrix(1, 0, 0, 1, 0, 0)"===s,(tm.svg||e.getBBox&&_isSVG(e))&&(isDefault&&-1!==(e.style[_transformProp]+"").indexOf("matrix")&&(s=e.style[_transformProp],isDefault=0),m=e.getAttribute("transform"),isDefault&&m&&(-1!==m.indexOf("matrix")?(s=m,isDefault=0):-1!==m.indexOf("translate")&&(s="matrix(1,0,0,1,"+m.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",isDefault=0))),isDefault)return _identity2DMatrix;for(m=(s||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],i=m.length;--i>-1;)n=Number(m[i]),m[i]=(dec=n-(n|=0))?(dec*rnd+(0>dec?-.5:.5)|0)/rnd+n:n;return force2D&&m.length>6?[m[0],m[1],m[4],m[5],m[12],m[13]]:m},_getTransform=_internals.getTransform=function(t,cs,rec,parse){if(t._gsTransform&&rec&&!parse)return t._gsTransform;var m,i,scaleX,scaleY,rotation,skewX,tm=rec?t._gsTransform||new Transform:new Transform,invX=tm.scaleX<0,min=2e-5,rnd=1e5,zOrigin=_supports3D?parseFloat(_getStyle(t,_transformOriginProp,cs,!1,"0 0 0").split(" ")[2])||tm.zOrigin||0:0,defaultTransformPerspective=parseFloat(CSSPlugin.defaultTransformPerspective)||0;if(tm.svg=!(!t.getBBox||!_isSVG(t)),tm.svg&&(_parseSVGOrigin(t,_getStyle(t,_transformOriginProp,_cs,!1,"50% 50%")+"",tm,t.getAttribute("data-svg-origin")),_useSVGTransformAttr=CSSPlugin.useSVGTransformAttr||_forceSVGTransformAttr),m=_getMatrix(t),m!==_identity2DMatrix){if(16===m.length){var t1,t2,t3,cos,sin,a11=m[0],a21=m[1],a31=m[2],a41=m[3],a12=m[4],a22=m[5],a32=m[6],a42=m[7],a13=m[8],a23=m[9],a33=m[10],a14=m[12],a24=m[13],a34=m[14],a43=m[11],angle=Math.atan2(a32,a33);tm.zOrigin&&(a34=-tm.zOrigin,a14=a13*a34-m[12],a24=a23*a34-m[13],a34=a33*a34+tm.zOrigin-m[14]),tm.rotationX=angle*_RAD2DEG,angle&&(cos=Math.cos(-angle),sin=Math.sin(-angle),t1=a12*cos+a13*sin,t2=a22*cos+a23*sin,t3=a32*cos+a33*sin,a13=a12*-sin+a13*cos,a23=a22*-sin+a23*cos,a33=a32*-sin+a33*cos,a43=a42*-sin+a43*cos,a12=t1,a22=t2,a32=t3),angle=Math.atan2(a13,a33),tm.rotationY=angle*_RAD2DEG,angle&&(cos=Math.cos(-angle),sin=Math.sin(-angle),t1=a11*cos-a13*sin,t2=a21*cos-a23*sin,t3=a31*cos-a33*sin,a23=a21*sin+a23*cos,a33=a31*sin+a33*cos,a43=a41*sin+a43*cos,a11=t1,a21=t2,a31=t3),angle=Math.atan2(a21,a11),tm.rotation=angle*_RAD2DEG,angle&&(cos=Math.cos(-angle),sin=Math.sin(-angle),a11=a11*cos+a12*sin,t2=a21*cos+a22*sin,a22=a21*-sin+a22*cos,a32=a31*-sin+a32*cos,a21=t2),tm.rotationX&&Math.abs(tm.rotationX)+Math.abs(tm.rotation)>359.9&&(tm.rotationX=tm.rotation=0,tm.rotationY+=180),tm.scaleX=(Math.sqrt(a11*a11+a21*a21)*rnd+.5|0)/rnd,tm.scaleY=(Math.sqrt(a22*a22+a23*a23)*rnd+.5|0)/rnd,tm.scaleZ=(Math.sqrt(a32*a32+a33*a33)*rnd+.5|0)/rnd,tm.skewX=0,tm.perspective=a43?1/(0>a43?-a43:a43):0,tm.x=a14,tm.y=a24,tm.z=a34,tm.svg&&(tm.x-=tm.xOrigin-(tm.xOrigin*a11-tm.yOrigin*a12),tm.y-=tm.yOrigin-(tm.yOrigin*a21-tm.xOrigin*a22))}else if(!(_supports3D&&!parse&&m.length&&tm.x===m[4]&&tm.y===m[5]&&(tm.rotationX||tm.rotationY)||void 0!==tm.x&&"none"===_getStyle(t,"display",cs))){var k=m.length>=6,a=k?m[0]:1,b=m[1]||0,c=m[2]||0,d=k?m[3]:1;tm.x=m[4]||0,tm.y=m[5]||0,scaleX=Math.sqrt(a*a+b*b),scaleY=Math.sqrt(d*d+c*c),rotation=a||b?Math.atan2(b,a)*_RAD2DEG:tm.rotation||0,skewX=c||d?Math.atan2(c,d)*_RAD2DEG+rotation:tm.skewX||0,Math.abs(skewX)>90&&Math.abs(skewX)<270&&(invX?(scaleX*=-1,skewX+=0>=rotation?180:-180,rotation+=0>=rotation?180:-180):(scaleY*=-1,skewX+=0>=skewX?180:-180)),tm.scaleX=scaleX,tm.scaleY=scaleY,tm.rotation=rotation,tm.skewX=skewX,_supports3D&&(tm.rotationX=tm.rotationY=tm.z=0,tm.perspective=defaultTransformPerspective,tm.scaleZ=1),tm.svg&&(tm.x-=tm.xOrigin-(tm.xOrigin*a+tm.yOrigin*c),tm.y-=tm.yOrigin-(tm.xOrigin*b+tm.yOrigin*d))}tm.zOrigin=zOrigin;for(i in tm)tm[i]<min&&tm[i]>-min&&(tm[i]=0)}return rec&&(t._gsTransform=tm,tm.svg&&(_useSVGTransformAttr&&t.style[_transformProp]?TweenLite.delayedCall(.001,function(){_removeProp(t.style,_transformProp)}):!_useSVGTransformAttr&&t.getAttribute("transform")&&TweenLite.delayedCall(.001,function(){t.removeAttribute("transform")}))),tm},_setIETransformRatio=function(v){var filters,val,t=this.data,ang=-t.rotation*_DEG2RAD,skew=ang+t.skewX*_DEG2RAD,rnd=1e5,a=(Math.cos(ang)*t.scaleX*rnd|0)/rnd,b=(Math.sin(ang)*t.scaleX*rnd|0)/rnd,c=(Math.sin(skew)*-t.scaleY*rnd|0)/rnd,d=(Math.cos(skew)*t.scaleY*rnd|0)/rnd,style=this.t.style,cs=this.t.currentStyle;if(cs){val=b,b=-c,c=-val,filters=cs.filter,style.filter="";var dx,dy,w=this.t.offsetWidth,h=this.t.offsetHeight,clip="absolute"!==cs.position,m="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+b+", M21="+c+", M22="+d,ox=t.x+w*t.xPercent/100,oy=t.y+h*t.yPercent/100;if(null!=t.ox&&(dx=(t.oxp?w*t.ox*.01:t.ox)-w/2,dy=(t.oyp?h*t.oy*.01:t.oy)-h/2,ox+=dx-(dx*a+dy*b),oy+=dy-(dx*c+dy*d)),clip?(dx=w/2,dy=h/2,m+=", Dx="+(dx-(dx*a+dy*b)+ox)+", Dy="+(dy-(dx*c+dy*d)+oy)+")"):m+=", sizingMethod='auto expand')",style.filter=-1!==filters.indexOf("DXImageTransform.Microsoft.Matrix(")?filters.replace(_ieSetMatrixExp,m):m+" "+filters,(0===v||1===v)&&1===a&&0===b&&0===c&&1===d&&(clip&&-1===m.indexOf("Dx=0, Dy=0")||_opacityExp.test(filters)&&100!==parseFloat(RegExp.$1)||-1===filters.indexOf("gradient("&&filters.indexOf("Alpha"))&&style.removeAttribute("filter")),!clip){var marg,prop,dif,mult=8>_ieVers?1:-1;for(dx=t.ieOffsetX||0,dy=t.ieOffsetY||0,t.ieOffsetX=Math.round((w-((0>a?-a:a)*w+(0>b?-b:b)*h))/2+ox),t.ieOffsetY=Math.round((h-((0>d?-d:d)*h+(0>c?-c:c)*w))/2+oy),i=0;4>i;i++)prop=_margins[i],marg=cs[prop],val=-1!==marg.indexOf("px")?parseFloat(marg):_convertToPixels(this.t,prop,parseFloat(marg),marg.replace(_suffixExp,""))||0,dif=val!==t[prop]?2>i?-t.ieOffsetX:-t.ieOffsetY:2>i?dx-t.ieOffsetX:dy-t.ieOffsetY,style[prop]=(t[prop]=Math.round(val-dif*(0===i||2===i?1:mult)))+"px"}}},_setTransformRatio=_internals.set3DTransformRatio=_internals.setTransformRatio=function(v){var a11,a12,a13,a21,a22,a23,a31,a32,a33,a41,a42,a43,zOrigin,min,cos,sin,t1,t2,transform,comma,zero,skew,rnd,t=this.data,style=this.t.style,angle=t.rotation,rotationX=t.rotationX,rotationY=t.rotationY,sx=t.scaleX,sy=t.scaleY,sz=t.scaleZ,x=t.x,y=t.y,z=t.z,isSVG=t.svg,perspective=t.perspective,force3D=t.force3D;if(!(((1!==v&&0!==v||"auto"!==force3D||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&force3D||z||perspective||rotationY||rotationX)&&(!_useSVGTransformAttr||!isSVG)&&_supports3D))return void(angle||t.skewX||isSVG?(angle*=_DEG2RAD,skew=t.skewX*_DEG2RAD,rnd=1e5,a11=Math.cos(angle)*sx,a21=Math.sin(angle)*sx,a12=Math.sin(angle-skew)*-sy,a22=Math.cos(angle-skew)*sy,skew&&"simple"===t.skewType&&(t1=Math.tan(skew),t1=Math.sqrt(1+t1*t1),a12*=t1,a22*=t1,t.skewY&&(a11*=t1,a21*=t1)),isSVG&&(x+=t.xOrigin-(t.xOrigin*a11+t.yOrigin*a12)+t.xOffset,y+=t.yOrigin-(t.xOrigin*a21+t.yOrigin*a22)+t.yOffset,_useSVGTransformAttr&&(t.xPercent||t.yPercent)&&(min=this.t.getBBox(),x+=.01*t.xPercent*min.width,y+=.01*t.yPercent*min.height),min=1e-6,min>x&&x>-min&&(x=0),min>y&&y>-min&&(y=0)),transform=(a11*rnd|0)/rnd+","+(a21*rnd|0)/rnd+","+(a12*rnd|0)/rnd+","+(a22*rnd|0)/rnd+","+x+","+y+")",isSVG&&_useSVGTransformAttr?this.t.setAttribute("transform","matrix("+transform):style[_transformProp]=(t.xPercent||t.yPercent?"translate("+t.xPercent+"%,"+t.yPercent+"%) matrix(":"matrix(")+transform):style[_transformProp]=(t.xPercent||t.yPercent?"translate("+t.xPercent+"%,"+t.yPercent+"%) matrix(":"matrix(")+sx+",0,0,"+sy+","+x+","+y+")");if(_isFirefox&&(min=1e-4,min>sx&&sx>-min&&(sx=sz=2e-5),min>sy&&sy>-min&&(sy=sz=2e-5),!perspective||t.z||t.rotationX||t.rotationY||(perspective=0)),angle||t.skewX)angle*=_DEG2RAD,cos=a11=Math.cos(angle),sin=a21=Math.sin(angle),t.skewX&&(angle-=t.skewX*_DEG2RAD,cos=Math.cos(angle),sin=Math.sin(angle),"simple"===t.skewType&&(t1=Math.tan(t.skewX*_DEG2RAD),t1=Math.sqrt(1+t1*t1),cos*=t1,sin*=t1,t.skewY&&(a11*=t1,a21*=t1))),a12=-sin,a22=cos;else{if(!(rotationY||rotationX||1!==sz||perspective||isSVG))return void(style[_transformProp]=(t.xPercent||t.yPercent?"translate("+t.xPercent+"%,"+t.yPercent+"%) translate3d(":"translate3d(")+x+"px,"+y+"px,"+z+"px)"+(1!==sx||1!==sy?" scale("+sx+","+sy+")":""));a11=a22=1,a12=a21=0}a33=1,a13=a23=a31=a32=a41=a42=0,a43=perspective?-1/perspective:0,zOrigin=t.zOrigin,min=1e-6,comma=",",zero="0",angle=rotationY*_DEG2RAD,angle&&(cos=Math.cos(angle),sin=Math.sin(angle),a31=-sin,a41=a43*-sin,a13=a11*sin,a23=a21*sin,a33=cos,a43*=cos,a11*=cos,a21*=cos),angle=rotationX*_DEG2RAD,angle&&(cos=Math.cos(angle),sin=Math.sin(angle),t1=a12*cos+a13*sin,t2=a22*cos+a23*sin,a32=a33*sin,a42=a43*sin,a13=a12*-sin+a13*cos,a23=a22*-sin+a23*cos,a33*=cos,a43*=cos,a12=t1,a22=t2),1!==sz&&(a13*=sz,a23*=sz,a33*=sz,a43*=sz),1!==sy&&(a12*=sy,a22*=sy,a32*=sy,a42*=sy),1!==sx&&(a11*=sx,a21*=sx,a31*=sx,a41*=sx),(zOrigin||isSVG)&&(zOrigin&&(x+=a13*-zOrigin,y+=a23*-zOrigin,z+=a33*-zOrigin+zOrigin),isSVG&&(x+=t.xOrigin-(t.xOrigin*a11+t.yOrigin*a12)+t.xOffset,y+=t.yOrigin-(t.xOrigin*a21+t.yOrigin*a22)+t.yOffset),min>x&&x>-min&&(x=zero),min>y&&y>-min&&(y=zero),min>z&&z>-min&&(z=0)),transform=t.xPercent||t.yPercent?"translate("+t.xPercent+"%,"+t.yPercent+"%) matrix3d(":"matrix3d(",transform+=(min>a11&&a11>-min?zero:a11)+comma+(min>a21&&a21>-min?zero:a21)+comma+(min>a31&&a31>-min?zero:a31),transform+=comma+(min>a41&&a41>-min?zero:a41)+comma+(min>a12&&a12>-min?zero:a12)+comma+(min>a22&&a22>-min?zero:a22),rotationX||rotationY?(transform+=comma+(min>a32&&a32>-min?zero:a32)+comma+(min>a42&&a42>-min?zero:a42)+comma+(min>a13&&a13>-min?zero:a13),transform+=comma+(min>a23&&a23>-min?zero:a23)+comma+(min>a33&&a33>-min?zero:a33)+comma+(min>a43&&a43>-min?zero:a43)+comma):transform+=",0,0,0,0,1,0,",transform+=x+comma+y+comma+z+comma+(perspective?1+-z/perspective:1)+")",style[_transformProp]=transform};p=Transform.prototype,p.x=p.y=p.z=p.skewX=p.skewY=p.rotation=p.rotationX=p.rotationY=p.zOrigin=p.xPercent=p.yPercent=p.xOffset=p.yOffset=0,p.scaleX=p.scaleY=p.scaleZ=1,_registerComplexSpecialProp("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,p,cssp,pt,plugin,vars){if(cssp._lastParsedTransform===vars)return pt;cssp._lastParsedTransform=vars;var m1,m2,skewY,copy,orig,has3D,hasChange,dr,x,y,originalGSTransform=t._gsTransform,style=t.style,min=1e-6,i=_transformProps.length,v=vars,endRotations={},transformOriginString="transformOrigin";if(vars.display?(copy=_getStyle(t,"display"),style.display="block",m1=_getTransform(t,_cs,!0,vars.parseTransform),style.display=copy):m1=_getTransform(t,_cs,!0,vars.parseTransform),cssp._transform=m1,"string"==typeof v.transform&&_transformProp)copy=_tempDiv.style,copy[_transformProp]=v.transform,copy.display="block",copy.position="absolute",_doc.body.appendChild(_tempDiv),m2=_getTransform(_tempDiv,null,!1),_doc.body.removeChild(_tempDiv),m2.perspective||(m2.perspective=m1.perspective),null!=v.xPercent&&(m2.xPercent=_parseVal(v.xPercent,m1.xPercent)),null!=v.yPercent&&(m2.yPercent=_parseVal(v.yPercent,m1.yPercent));else if("object"==typeof v){if(m2={scaleX:_parseVal(null!=v.scaleX?v.scaleX:v.scale,m1.scaleX),scaleY:_parseVal(null!=v.scaleY?v.scaleY:v.scale,m1.scaleY),scaleZ:_parseVal(v.scaleZ,m1.scaleZ),x:_parseVal(v.x,m1.x),y:_parseVal(v.y,m1.y),z:_parseVal(v.z,m1.z),xPercent:_parseVal(v.xPercent,m1.xPercent),yPercent:_parseVal(v.yPercent,m1.yPercent),perspective:_parseVal(v.transformPerspective,m1.perspective)},dr=v.directionalRotation,null!=dr)if("object"==typeof dr)for(copy in dr)v[copy]=dr[copy];else v.rotation=dr;"string"==typeof v.x&&-1!==v.x.indexOf("%")&&(m2.x=0,m2.xPercent=_parseVal(v.x,m1.xPercent)),"string"==typeof v.y&&-1!==v.y.indexOf("%")&&(m2.y=0,m2.yPercent=_parseVal(v.y,m1.yPercent)),m2.rotation=_parseAngle("rotation"in v?v.rotation:"shortRotation"in v?v.shortRotation+"_short":"rotationZ"in v?v.rotationZ:m1.rotation,m1.rotation,"rotation",endRotations),_supports3D&&(m2.rotationX=_parseAngle("rotationX"in v?v.rotationX:"shortRotationX"in v?v.shortRotationX+"_short":m1.rotationX||0,m1.rotationX,"rotationX",endRotations),m2.rotationY=_parseAngle("rotationY"in v?v.rotationY:"shortRotationY"in v?v.shortRotationY+"_short":m1.rotationY||0,m1.rotationY,"rotationY",endRotations)),m2.skewX=null==v.skewX?m1.skewX:_parseAngle(v.skewX,m1.skewX),m2.skewY=null==v.skewY?m1.skewY:_parseAngle(v.skewY,m1.skewY),(skewY=m2.skewY-m1.skewY)&&(m2.skewX+=skewY,m2.rotation+=skewY)}for(_supports3D&&null!=v.force3D&&(m1.force3D=v.force3D,hasChange=!0),m1.skewType=v.skewType||m1.skewType||CSSPlugin.defaultSkewType,has3D=m1.force3D||m1.z||m1.rotationX||m1.rotationY||m2.z||m2.rotationX||m2.rotationY||m2.perspective,has3D||null==v.scale||(m2.scaleZ=1);--i>-1;)p=_transformProps[i],orig=m2[p]-m1[p],(orig>min||-min>orig||null!=v[p]||null!=_forcePT[p])&&(hasChange=!0,pt=new CSSPropTween(m1,p,m1[p],orig,pt),p in endRotations&&(pt.e=endRotations[p]),pt.xs0=0,pt.plugin=plugin,cssp._overwriteProps.push(pt.n));return orig=v.transformOrigin,m1.svg&&(orig||v.svgOrigin)&&(x=m1.xOffset,y=m1.yOffset,_parseSVGOrigin(t,_parsePosition(orig),m2,v.svgOrigin,v.smoothOrigin),pt=_addNonTweeningNumericPT(m1,"xOrigin",(originalGSTransform?m1:m2).xOrigin,m2.xOrigin,pt,transformOriginString),pt=_addNonTweeningNumericPT(m1,"yOrigin",(originalGSTransform?m1:m2).yOrigin,m2.yOrigin,pt,transformOriginString),(x!==m1.xOffset||y!==m1.yOffset)&&(pt=_addNonTweeningNumericPT(m1,"xOffset",originalGSTransform?x:m1.xOffset,m1.xOffset,pt,transformOriginString),pt=_addNonTweeningNumericPT(m1,"yOffset",originalGSTransform?y:m1.yOffset,m1.yOffset,pt,transformOriginString)),orig=_useSVGTransformAttr?null:"0px 0px"),(orig||_supports3D&&has3D&&m1.zOrigin)&&(_transformProp?(hasChange=!0,p=_transformOriginProp,orig=(orig||_getStyle(t,p,_cs,!1,"50% 50%"))+"",pt=new CSSPropTween(style,p,0,0,pt,-1,transformOriginString),pt.b=style[p],pt.plugin=plugin,_supports3D?(copy=m1.zOrigin,orig=orig.split(" "),m1.zOrigin=(orig.length>2&&(0===copy||"0px"!==orig[2])?parseFloat(orig[2]):copy)||0,pt.xs0=pt.e=orig[0]+" "+(orig[1]||"50%")+" 0px",pt=new CSSPropTween(m1,"zOrigin",0,0,pt,-1,pt.n),pt.b=copy,pt.xs0=pt.e=m1.zOrigin):pt.xs0=pt.e=orig):_parsePosition(orig+"",m1)),hasChange&&(cssp._transformType=m1.svg&&_useSVGTransformAttr||!has3D&&3!==this._transformType?2:3),pt},prefix:!0}),_registerComplexSpecialProp("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),_registerComplexSpecialProp("borderRadius",{defaultValue:"0px",parser:function(t,e,p,cssp,pt,plugin){e=this.format(e);var ea1,i,es2,bs2,bs,es,bn,en,w,h,esfx,bsfx,rel,hn,vn,em,props=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],style=t.style;for(w=parseFloat(t.offsetWidth),h=parseFloat(t.offsetHeight),ea1=e.split(" "),i=0;i<props.length;i++)this.p.indexOf("border")&&(props[i]=_checkPropPrefix(props[i])),bs=bs2=_getStyle(t,props[i],_cs,!1,"0px"),-1!==bs.indexOf(" ")&&(bs2=bs.split(" "),bs=bs2[0],bs2=bs2[1]),es=es2=ea1[i],bn=parseFloat(bs),bsfx=bs.substr((bn+"").length),rel="="===es.charAt(1),rel?(en=parseInt(es.charAt(0)+"1",10),es=es.substr(2),en*=parseFloat(es),esfx=es.substr((en+"").length-(0>en?1:0))||""):(en=parseFloat(es),esfx=es.substr((en+"").length)),""===esfx&&(esfx=_suffixMap[p]||bsfx),esfx!==bsfx&&(hn=_convertToPixels(t,"borderLeft",bn,bsfx),vn=_convertToPixels(t,"borderTop",bn,bsfx),"%"===esfx?(bs=hn/w*100+"%",bs2=vn/h*100+"%"):"em"===esfx?(em=_convertToPixels(t,"borderLeft",1,"em"),bs=hn/em+"em",bs2=vn/em+"em"):(bs=hn+"px",bs2=vn+"px"),rel&&(es=parseFloat(bs)+en+esfx,es2=parseFloat(bs2)+en+esfx)),pt=_parseComplex(style,props[i],bs+" "+bs2,es+" "+es2,!1,"0px",pt);return pt},prefix:!0,formatter:_getFormatter("0px 0px 0px 0px",!1,!0)}),_registerComplexSpecialProp("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,p,cssp,pt,plugin){var ba,ea,i,pct,overlap,src,bp="background-position",cs=_cs||_getComputedStyle(t,null),bs=this.format((cs?_ieVers?cs.getPropertyValue(bp+"-x")+" "+cs.getPropertyValue(bp+"-y"):cs.getPropertyValue(bp):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),es=this.format(e);if(-1!==bs.indexOf("%")!=(-1!==es.indexOf("%"))&&(src=_getStyle(t,"backgroundImage").replace(_urlExp,""),src&&"none"!==src)){for(ba=bs.split(" "),ea=es.split(" "),_tempImg.setAttribute("src",src),i=2;--i>-1;)bs=ba[i],pct=-1!==bs.indexOf("%"),pct!==(-1!==ea[i].indexOf("%"))&&(overlap=0===i?t.offsetWidth-_tempImg.width:t.offsetHeight-_tempImg.height,ba[i]=pct?parseFloat(bs)/100*overlap+"px":parseFloat(bs)/overlap*100+"%");bs=ba.join(" ")}return this.parseComplex(t.style,bs,es,pt,plugin)},formatter:_parsePosition}),_registerComplexSpecialProp("backgroundSize",{defaultValue:"0 0",formatter:_parsePosition}),_registerComplexSpecialProp("perspective",{defaultValue:"0px",prefix:!0}),_registerComplexSpecialProp("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),_registerComplexSpecialProp("transformStyle",{prefix:!0}),_registerComplexSpecialProp("backfaceVisibility",{prefix:!0}),_registerComplexSpecialProp("userSelect",{prefix:!0}),_registerComplexSpecialProp("margin",{parser:_getEdgeParser("marginTop,marginRight,marginBottom,marginLeft")}),_registerComplexSpecialProp("padding",{parser:_getEdgeParser("paddingTop,paddingRight,paddingBottom,paddingLeft")}),_registerComplexSpecialProp("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,p,cssp,pt,plugin){var b,cs,delim;return 9>_ieVers?(cs=t.currentStyle,delim=8>_ieVers?" ":",",b="rect("+cs.clipTop+delim+cs.clipRight+delim+cs.clipBottom+delim+cs.clipLeft+")",e=this.format(e).split(",").join(delim)):(b=this.format(_getStyle(t,this.p,_cs,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,b,e,pt,plugin)}}),_registerComplexSpecialProp("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),_registerComplexSpecialProp("autoRound,strictUnits",{parser:function(t,e,p,cssp,pt){return pt}}),_registerComplexSpecialProp("border",{defaultValue:"0px solid #000",parser:function(t,e,p,cssp,pt,plugin){return this.parseComplex(t.style,this.format(_getStyle(t,"borderTopWidth",_cs,!1,"0px")+" "+_getStyle(t,"borderTopStyle",_cs,!1,"solid")+" "+_getStyle(t,"borderTopColor",_cs,!1,"#000")),this.format(e),pt,plugin)},color:!0,formatter:function(v){var a=v.split(" ");return a[0]+" "+(a[1]||"solid")+" "+(v.match(_colorExp)||["#000"])[0]}}),_registerComplexSpecialProp("borderWidth",{parser:_getEdgeParser("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),_registerComplexSpecialProp("float,cssFloat,styleFloat",{parser:function(t,e,p,cssp,pt,plugin){var s=t.style,prop="cssFloat"in s?"cssFloat":"styleFloat";return new CSSPropTween(s,prop,0,0,pt,-1,p,!1,0,s[prop],e)}});var _setIEOpacityRatio=function(v){var skip,t=this.t,filters=t.filter||_getStyle(this.data,"filter")||"",val=this.s+this.c*v|0;100===val&&(-1===filters.indexOf("atrix(")&&-1===filters.indexOf("radient(")&&-1===filters.indexOf("oader(")?(t.removeAttribute("filter"),skip=!_getStyle(this.data,"filter")):(t.filter=filters.replace(_alphaFilterExp,""),skip=!0)),skip||(this.xn1&&(t.filter=filters=filters||"alpha(opacity="+val+")"),-1===filters.indexOf("pacity")?0===val&&this.xn1||(t.filter=filters+" alpha(opacity="+val+")"):t.filter=filters.replace(_opacityExp,"opacity="+val))};_registerComplexSpecialProp("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,p,cssp,pt,plugin){var b=parseFloat(_getStyle(t,"opacity",_cs,!1,"1")),style=t.style,isAutoAlpha="autoAlpha"===p;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+b),isAutoAlpha&&1===b&&"hidden"===_getStyle(t,"visibility",_cs)&&0!==e&&(b=0),_supportsOpacity?pt=new CSSPropTween(style,"opacity",b,e-b,pt):(pt=new CSSPropTween(style,"opacity",100*b,100*(e-b),pt),pt.xn1=isAutoAlpha?1:0,style.zoom=1,pt.type=2,pt.b="alpha(opacity="+pt.s+")",pt.e="alpha(opacity="+(pt.s+pt.c)+")",pt.data=t,pt.plugin=plugin,pt.setRatio=_setIEOpacityRatio),isAutoAlpha&&(pt=new CSSPropTween(style,"visibility",0,0,pt,-1,null,!1,0,0!==b?"inherit":"hidden",0===e?"hidden":"inherit"),pt.xs0="inherit",cssp._overwriteProps.push(pt.n),cssp._overwriteProps.push(p)),pt}});var _removeProp=function(s,p){p&&(s.removeProperty?(("ms"===p.substr(0,2)||"webkit"===p.substr(0,6))&&(p="-"+p),s.removeProperty(p.replace(_capsExp,"-$1").toLowerCase())):s.removeAttribute(p))},_setClassNameRatio=function(v){if(this.t._gsClassPT=this,1===v||0===v){this.t.setAttribute("class",0===v?this.b:this.e);for(var mpt=this.data,s=this.t.style;mpt;)mpt.v?s[mpt.p]=mpt.v:_removeProp(s,mpt.p),mpt=mpt._next;1===v&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};_registerComplexSpecialProp("className",{parser:function(t,e,p,cssp,pt,plugin,vars){var difData,bs,cnpt,cnptLookup,mpt,b=t.getAttribute("class")||"",cssText=t.style.cssText;if(pt=cssp._classNamePT=new CSSPropTween(t,p,0,0,pt,2),pt.setRatio=_setClassNameRatio,pt.pr=-11,_hasPriority=!0,pt.b=b,bs=_getAllStyles(t,_cs),cnpt=t._gsClassPT){for(cnptLookup={},mpt=cnpt.data;mpt;)cnptLookup[mpt.p]=1,mpt=mpt._next;cnpt.setRatio(1)}return t._gsClassPT=pt,pt.e="="!==e.charAt(1)?e:b.replace(new RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",pt.e),difData=_cssDif(t,bs,_getAllStyles(t),vars,cnptLookup),t.setAttribute("class",b),pt.data=difData.firstMPT,t.style.cssText=cssText,pt=pt.xfirst=cssp.parse(t,difData.difs,pt,plugin)}});var _setClearPropsRatio=function(v){if((1===v||0===v)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var a,p,i,clearTransform,transform,s=this.t.style,transformParse=_specialProps.transform.parse;if("all"===this.e)s.cssText="",clearTransform=!0;else for(a=this.e.split(" ").join("").split(","),i=a.length;--i>-1;)p=a[i],_specialProps[p]&&(_specialProps[p].parse===transformParse?clearTransform=!0:p="transformOrigin"===p?_transformOriginProp:_specialProps[p].p),_removeProp(s,p);clearTransform&&(_removeProp(s,_transformProp),transform=this.t._gsTransform,transform&&(transform.svg&&this.t.removeAttribute("data-svg-origin"),delete this.t._gsTransform))}};for(_registerComplexSpecialProp("clearProps",{parser:function(t,e,p,cssp,pt){return pt=new CSSPropTween(t,p,0,0,pt,2),pt.setRatio=_setClearPropsRatio,pt.e=e,pt.pr=-10,pt.data=cssp._tween,_hasPriority=!0,pt}}),p="bezier,throwProps,physicsProps,physics2D".split(","),i=p.length;i--;)_registerPluginProp(p[i]);p=CSSPlugin.prototype,p._firstPT=p._lastParsedTransform=p._transform=null,p._onInitTween=function(target,vars,tween){if(!target.nodeType)return!1;this._target=target,this._tween=tween,this._vars=vars,_autoRound=vars.autoRound,_hasPriority=!1,_suffixMap=vars.suffixMap||CSSPlugin.suffixMap,_cs=_getComputedStyle(target,""),_overwriteProps=this._overwriteProps;var v,pt,pt2,first,last,next,zIndex,tpt,threeD,style=target.style;if(_reqSafariFix&&""===style.zIndex&&(v=_getStyle(target,"zIndex",_cs),("auto"===v||""===v)&&this._addLazySet(style,"zIndex",0)),"string"==typeof vars&&(first=style.cssText,v=_getAllStyles(target,_cs),style.cssText=first+";"+vars,v=_cssDif(target,v,_getAllStyles(target)).difs,!_supportsOpacity&&_opacityValExp.test(vars)&&(v.opacity=parseFloat(RegExp.$1)),vars=v,style.cssText=first),this._firstPT=pt=vars.className?_specialProps.className.parse(target,vars.className,"className",this,null,null,vars):this.parse(target,vars,null),this._transformType){for(threeD=3===this._transformType,_transformProp?_isSafari&&(_reqSafariFix=!0,""===style.zIndex&&(zIndex=_getStyle(target,"zIndex",_cs),("auto"===zIndex||""===zIndex)&&this._addLazySet(style,"zIndex",0)),_isSafariLT6&&this._addLazySet(style,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(threeD?"visible":"hidden"))):style.zoom=1,pt2=pt;pt2&&pt2._next;)pt2=pt2._next;tpt=new CSSPropTween(target,"transform",0,0,null,2),this._linkCSSP(tpt,null,pt2),tpt.setRatio=_transformProp?_setTransformRatio:_setIETransformRatio,tpt.data=this._transform||_getTransform(target,_cs,!0),tpt.tween=tween,tpt.pr=-1,_overwriteProps.pop()}if(_hasPriority){for(;pt;){for(next=pt._next,pt2=first;pt2&&pt2.pr>pt.pr;)pt2=pt2._next;(pt._prev=pt2?pt2._prev:last)?pt._prev._next=pt:first=pt,(pt._next=pt2)?pt2._prev=pt:last=pt,pt=next}this._firstPT=first}return!0},p.parse=function(target,vars,pt,plugin){var p,sp,bn,en,bs,es,bsfx,esfx,isStr,rel,style=target.style;for(p in vars)es=vars[p],sp=_specialProps[p],sp?pt=sp.parse(target,es,p,this,pt,plugin,vars):(bs=_getStyle(target,p,_cs)+"",isStr="string"==typeof es,"color"===p||"fill"===p||"stroke"===p||-1!==p.indexOf("Color")||isStr&&_rgbhslExp.test(es)?(isStr||(es=_parseColor(es),es=(es.length>3?"rgba(":"rgb(")+es.join(",")+")"),pt=_parseComplex(style,p,bs,es,!0,"transparent",pt,0,plugin)):!isStr||-1===es.indexOf(" ")&&-1===es.indexOf(",")?(bn=parseFloat(bs),bsfx=bn||0===bn?bs.substr((bn+"").length):"",(""===bs||"auto"===bs)&&("width"===p||"height"===p?(bn=_getDimension(target,p,_cs),bsfx="px"):"left"===p||"top"===p?(bn=_calculateOffset(target,p,_cs),bsfx="px"):(bn="opacity"!==p?0:1,bsfx="")),rel=isStr&&"="===es.charAt(1),rel?(en=parseInt(es.charAt(0)+"1",10),es=es.substr(2),en*=parseFloat(es),esfx=es.replace(_suffixExp,"")):(en=parseFloat(es),esfx=isStr?es.replace(_suffixExp,""):""),""===esfx&&(esfx=p in _suffixMap?_suffixMap[p]:bsfx),es=en||0===en?(rel?en+bn:en)+esfx:vars[p],bsfx!==esfx&&""!==esfx&&(en||0===en)&&bn&&(bn=_convertToPixels(target,p,bn,bsfx),"%"===esfx?(bn/=_convertToPixels(target,p,100,"%")/100,vars.strictUnits!==!0&&(bs=bn+"%")):"em"===esfx||"rem"===esfx?bn/=_convertToPixels(target,p,1,esfx):"px"!==esfx&&(en=_convertToPixels(target,p,en,esfx),esfx="px"),rel&&(en||0===en)&&(es=en+bn+esfx)),rel&&(en+=bn),!bn&&0!==bn||!en&&0!==en?void 0!==style[p]&&(es||es+""!="NaN"&&null!=es)?(pt=new CSSPropTween(style,p,en||bn||0,0,pt,-1,p,!1,0,bs,es),pt.xs0="none"!==es||"display"!==p&&-1===p.indexOf("Style")?es:bs):_log("invalid "+p+" tween value: "+vars[p]):(pt=new CSSPropTween(style,p,bn,en-bn,pt,0,p,_autoRound!==!1&&("px"===esfx||"zIndex"===p),0,bs,es),pt.xs0=esfx)):pt=_parseComplex(style,p,bs,es,!0,null,pt,0,plugin)),plugin&&pt&&!pt.plugin&&(pt.plugin=plugin);return pt},p.setRatio=function(v){var val,str,i,pt=this._firstPT,min=1e-6;if(1!==v||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(v||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;pt;){if(val=pt.c*v+pt.s,pt.r?val=Math.round(val):min>val&&val>-min&&(val=0),pt.type)if(1===pt.type)if(i=pt.l,2===i)pt.t[pt.p]=pt.xs0+val+pt.xs1+pt.xn1+pt.xs2;else if(3===i)pt.t[pt.p]=pt.xs0+val+pt.xs1+pt.xn1+pt.xs2+pt.xn2+pt.xs3;else if(4===i)pt.t[pt.p]=pt.xs0+val+pt.xs1+pt.xn1+pt.xs2+pt.xn2+pt.xs3+pt.xn3+pt.xs4;else if(5===i)pt.t[pt.p]=pt.xs0+val+pt.xs1+pt.xn1+pt.xs2+pt.xn2+pt.xs3+pt.xn3+pt.xs4+pt.xn4+pt.xs5;else{for(str=pt.xs0+val+pt.xs1,i=1;i<pt.l;i++)str+=pt["xn"+i]+pt["xs"+(i+1)];pt.t[pt.p]=str}else-1===pt.type?pt.t[pt.p]=pt.xs0:pt.setRatio&&pt.setRatio(v);else pt.t[pt.p]=val+pt.xs0;pt=pt._next}else for(;pt;)2!==pt.type?pt.t[pt.p]=pt.b:pt.setRatio(v),pt=pt._next;else for(;pt;){if(2!==pt.type)if(pt.r&&-1!==pt.type)if(val=Math.round(pt.s+pt.c),pt.type){if(1===pt.type){for(i=pt.l,str=pt.xs0+val+pt.xs1,i=1;i<pt.l;i++)str+=pt["xn"+i]+pt["xs"+(i+1)];pt.t[pt.p]=str}}else pt.t[pt.p]=val+pt.xs0;else pt.t[pt.p]=pt.e;else pt.setRatio(v);pt=pt._next}},p._enableTransforms=function(threeD){this._transform=this._transform||_getTransform(this._target,_cs,!0),this._transformType=this._transform.svg&&_useSVGTransformAttr||!threeD&&3!==this._transformType?2:3};var lazySet=function(v){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};p._addLazySet=function(t,p,v){var pt=this._firstPT=new CSSPropTween(t,p,0,0,this._firstPT,2);pt.e=v,pt.setRatio=lazySet,pt.data=this},p._linkCSSP=function(pt,next,prev,remove){return pt&&(next&&(next._prev=pt),pt._next&&(pt._next._prev=pt._prev),pt._prev?pt._prev._next=pt._next:this._firstPT===pt&&(this._firstPT=pt._next,remove=!0),prev?prev._next=pt:remove||null!==this._firstPT||(this._firstPT=pt),pt._next=next,pt._prev=prev),pt},p._kill=function(lookup){var pt,p,xfirst,copy=lookup;if(lookup.autoAlpha||lookup.alpha){copy={};for(p in lookup)copy[p]=lookup[p];copy.opacity=1,copy.autoAlpha&&(copy.visibility=1)}return lookup.className&&(pt=this._classNamePT)&&(xfirst=pt.xfirst,xfirst&&xfirst._prev?this._linkCSSP(xfirst._prev,pt._next,xfirst._prev._prev):xfirst===this._firstPT&&(this._firstPT=pt._next),pt._next&&this._linkCSSP(pt._next,pt._next._next,xfirst._prev),this._classNamePT=null),TweenPlugin.prototype._kill.call(this,copy)};var _getChildStyles=function(e,props,targets){var children,i,child,type;if(e.slice)for(i=e.length;--i>-1;)_getChildStyles(e[i],props,targets);
else for(children=e.childNodes,i=children.length;--i>-1;)child=children[i],type=child.type,child.style&&(props.push(_getAllStyles(child)),targets&&targets.push(child)),1!==type&&9!==type&&11!==type||!child.childNodes.length||_getChildStyles(child,props,targets)};return CSSPlugin.cascadeTo=function(target,duration,vars){var i,difs,p,from,tween=TweenLite.to(target,duration,vars),results=[tween],b=[],e=[],targets=[],_reservedProps=TweenLite._internals.reservedProps;for(target=tween._targets||tween.target,_getChildStyles(target,b,targets),tween.render(duration,!0,!0),_getChildStyles(target,e),tween.render(0,!0,!0),tween._enabled(!0),i=targets.length;--i>-1;)if(difs=_cssDif(targets[i],b[i],e[i]),difs.firstMPT){difs=difs.difs;for(p in vars)_reservedProps[p]&&(difs[p]=vars[p]);from={};for(p in difs)from[p]=b[i][p];results.push(TweenLite.fromTo(targets[i],duration,from,difs))}return results},TweenPlugin.activate([CSSPlugin]),CSSPlugin},!0),function(){var RoundPropsPlugin=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.5",priority:-1,API:2,init:function(target,value,tween){return this._tween=tween,!0}}),_roundLinkedList=function(node){for(;node;)node.f||node.blob||(node.r=1),node=node._next},p=RoundPropsPlugin.prototype;p._onInitAllProps=function(){for(var prop,pt,next,tween=this._tween,rp=tween.vars.roundProps.join?tween.vars.roundProps:tween.vars.roundProps.split(","),i=rp.length,lookup={},rpt=tween._propLookup.roundProps;--i>-1;)lookup[rp[i]]=1;for(i=rp.length;--i>-1;)for(prop=rp[i],pt=tween._firstPT;pt;)next=pt._next,pt.pg?pt.t._roundProps(lookup,!0):pt.n===prop&&(2===pt.f&&pt.t?_roundLinkedList(pt.t._firstPT):(this._add(pt.t,prop,pt.s,pt.c),next&&(next._prev=pt._prev),pt._prev?pt._prev._next=next:tween._firstPT===pt&&(tween._firstPT=next),pt._next=pt._prev=null,tween._propLookup[prop]=rpt)),pt=next;return!1},p._add=function(target,p,s,c){this._addTween(target,p,s,s+c,p,!0),this._overwriteProps.push(p)}}(),function(){_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.5.0",init:function(target,value,tween){var p;if("function"!=typeof target.setAttribute)return!1;for(p in value)this._addTween(target,"setAttribute",target.getAttribute(p)+"",value[p]+"",p,!1,p),this._overwriteProps.push(p);return!0}})}(),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(target,value,tween){"object"!=typeof value&&(value={rotation:value}),this.finals={};var p,v,start,end,dif,split,cap=value.useRadians===!0?2*Math.PI:360,min=1e-6;for(p in value)"useRadians"!==p&&(split=(value[p]+"").split("_"),v=split[0],start=parseFloat("function"!=typeof target[p]?target[p]:target[p.indexOf("set")||"function"!=typeof target["get"+p.substr(3)]?p:"get"+p.substr(3)]()),end=this.finals[p]="string"==typeof v&&"="===v.charAt(1)?start+parseInt(v.charAt(0)+"1",10)*Number(v.substr(2)):Number(v)||0,dif=end-start,split.length&&(v=split.join("_"),-1!==v.indexOf("short")&&(dif%=cap,dif!==dif%(cap/2)&&(dif=0>dif?dif+cap:dif-cap)),-1!==v.indexOf("_cw")&&0>dif?dif=(dif+9999999999*cap)%cap-(dif/cap|0)*cap:-1!==v.indexOf("ccw")&&dif>0&&(dif=(dif-9999999999*cap)%cap-(dif/cap|0)*cap)),(dif>min||-min>dif)&&(this._addTween(target,p,start,start+dif,p),this._overwriteProps.push(p)));return!0},set:function(ratio){var pt;if(1!==ratio)this._super.setRatio.call(this,ratio);else for(pt=this._firstPT;pt;)pt.f?pt.t[pt.p](this.finals[pt.p]):pt.t[pt.p]=this.finals[pt.p],pt=pt._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(Ease){var SteppedEase,RoughEase,_createElastic,w=_gsScope.GreenSockGlobals||_gsScope,gs=w.com.greensock,_2PI=2*Math.PI,_HALF_PI=Math.PI/2,_class=gs._class,_create=function(n,f){var C=_class("easing."+n,function(){},!0),p=C.prototype=new Ease;return p.constructor=C,p.getRatio=f,C},_easeReg=Ease.register||function(){},_wrap=function(name,EaseOut,EaseIn,EaseInOut,aliases){var C=_class("easing."+name,{easeOut:new EaseOut,easeIn:new EaseIn,easeInOut:new EaseInOut},!0);return _easeReg(C,name),C},EasePoint=function(time,value,next){this.t=time,this.v=value,next&&(this.next=next,next.prev=this,this.c=next.v-value,this.gap=next.t-time)},_createBack=function(n,f){var C=_class("easing."+n,function(overshoot){this._p1=overshoot||0===overshoot?overshoot:1.70158,this._p2=1.525*this._p1},!0),p=C.prototype=new Ease;return p.constructor=C,p.getRatio=f,p.config=function(overshoot){return new C(overshoot)},C},Back=_wrap("Back",_createBack("BackOut",function(p){return(p-=1)*p*((this._p1+1)*p+this._p1)+1}),_createBack("BackIn",function(p){return p*p*((this._p1+1)*p-this._p1)}),_createBack("BackInOut",function(p){return(p*=2)<1?.5*p*p*((this._p2+1)*p-this._p2):.5*((p-=2)*p*((this._p2+1)*p+this._p2)+2)})),SlowMo=_class("easing.SlowMo",function(linearRatio,power,yoyoMode){power=power||0===power?power:.7,null==linearRatio?linearRatio=.7:linearRatio>1&&(linearRatio=1),this._p=1!==linearRatio?power:0,this._p1=(1-linearRatio)/2,this._p2=linearRatio,this._p3=this._p1+this._p2,this._calcEnd=yoyoMode===!0},!0),p=SlowMo.prototype=new Ease;return p.constructor=SlowMo,p.getRatio=function(p){var r=p+(.5-p)*this._p;return p<this._p1?this._calcEnd?1-(p=1-p/this._p1)*p:r-(p=1-p/this._p1)*p*p*p*r:p>this._p3?this._calcEnd?1-(p=(p-this._p3)/this._p1)*p:r+(p-r)*(p=(p-this._p3)/this._p1)*p*p*p:this._calcEnd?1:r},SlowMo.ease=new SlowMo(.7,.7),p.config=SlowMo.config=function(linearRatio,power,yoyoMode){return new SlowMo(linearRatio,power,yoyoMode)},SteppedEase=_class("easing.SteppedEase",function(steps){steps=steps||1,this._p1=1/steps,this._p2=steps+1},!0),p=SteppedEase.prototype=new Ease,p.constructor=SteppedEase,p.getRatio=function(p){return 0>p?p=0:p>=1&&(p=.999999999),(this._p2*p>>0)*this._p1},p.config=SteppedEase.config=function(steps){return new SteppedEase(steps)},RoughEase=_class("easing.RoughEase",function(vars){vars=vars||{};for(var x,y,bump,invX,obj,pnt,taper=vars.taper||"none",a=[],cnt=0,points=0|(vars.points||20),i=points,randomize=vars.randomize!==!1,clamp=vars.clamp===!0,template=vars.template instanceof Ease?vars.template:null,strength="number"==typeof vars.strength?.4*vars.strength:.4;--i>-1;)x=randomize?Math.random():1/points*i,y=template?template.getRatio(x):x,"none"===taper?bump=strength:"out"===taper?(invX=1-x,bump=invX*invX*strength):"in"===taper?bump=x*x*strength:.5>x?(invX=2*x,bump=invX*invX*.5*strength):(invX=2*(1-x),bump=invX*invX*.5*strength),randomize?y+=Math.random()*bump-.5*bump:i%2?y+=.5*bump:y-=.5*bump,clamp&&(y>1?y=1:0>y&&(y=0)),a[cnt++]={x:x,y:y};for(a.sort(function(a,b){return a.x-b.x}),pnt=new EasePoint(1,1,null),i=points;--i>-1;)obj=a[i],pnt=new EasePoint(obj.x,obj.y,pnt);this._prev=new EasePoint(0,0,0!==pnt.t?pnt:pnt.next)},!0),p=RoughEase.prototype=new Ease,p.constructor=RoughEase,p.getRatio=function(p){var pnt=this._prev;if(p>pnt.t){for(;pnt.next&&p>=pnt.t;)pnt=pnt.next;pnt=pnt.prev}else for(;pnt.prev&&p<=pnt.t;)pnt=pnt.prev;return this._prev=pnt,pnt.v+(p-pnt.t)/pnt.gap*pnt.c},p.config=function(vars){return new RoughEase(vars)},RoughEase.ease=new RoughEase,_wrap("Bounce",_create("BounceOut",function(p){return 1/2.75>p?7.5625*p*p:2/2.75>p?7.5625*(p-=1.5/2.75)*p+.75:2.5/2.75>p?7.5625*(p-=2.25/2.75)*p+.9375:7.5625*(p-=2.625/2.75)*p+.984375}),_create("BounceIn",function(p){return(p=1-p)<1/2.75?1-7.5625*p*p:2/2.75>p?1-(7.5625*(p-=1.5/2.75)*p+.75):2.5/2.75>p?1-(7.5625*(p-=2.25/2.75)*p+.9375):1-(7.5625*(p-=2.625/2.75)*p+.984375)}),_create("BounceInOut",function(p){var invert=.5>p;return p=invert?1-2*p:2*p-1,p=1/2.75>p?7.5625*p*p:2/2.75>p?7.5625*(p-=1.5/2.75)*p+.75:2.5/2.75>p?7.5625*(p-=2.25/2.75)*p+.9375:7.5625*(p-=2.625/2.75)*p+.984375,invert?.5*(1-p):.5*p+.5})),_wrap("Circ",_create("CircOut",function(p){return Math.sqrt(1-(p-=1)*p)}),_create("CircIn",function(p){return-(Math.sqrt(1-p*p)-1)}),_create("CircInOut",function(p){return(p*=2)<1?-.5*(Math.sqrt(1-p*p)-1):.5*(Math.sqrt(1-(p-=2)*p)+1)})),_createElastic=function(n,f,def){var C=_class("easing."+n,function(amplitude,period){this._p1=amplitude>=1?amplitude:1,this._p2=(period||def)/(1>amplitude?amplitude:1),this._p3=this._p2/_2PI*(Math.asin(1/this._p1)||0),this._p2=_2PI/this._p2},!0),p=C.prototype=new Ease;return p.constructor=C,p.getRatio=f,p.config=function(amplitude,period){return new C(amplitude,period)},C},_wrap("Elastic",_createElastic("ElasticOut",function(p){return this._p1*Math.pow(2,-10*p)*Math.sin((p-this._p3)*this._p2)+1},.3),_createElastic("ElasticIn",function(p){return-(this._p1*Math.pow(2,10*(p-=1))*Math.sin((p-this._p3)*this._p2))},.3),_createElastic("ElasticInOut",function(p){return(p*=2)<1?-.5*this._p1*Math.pow(2,10*(p-=1))*Math.sin((p-this._p3)*this._p2):this._p1*Math.pow(2,-10*(p-=1))*Math.sin((p-this._p3)*this._p2)*.5+1},.45)),_wrap("Expo",_create("ExpoOut",function(p){return 1-Math.pow(2,-10*p)}),_create("ExpoIn",function(p){return Math.pow(2,10*(p-1))-.001}),_create("ExpoInOut",function(p){return(p*=2)<1?.5*Math.pow(2,10*(p-1)):.5*(2-Math.pow(2,-10*(p-1)))})),_wrap("Sine",_create("SineOut",function(p){return Math.sin(p*_HALF_PI)}),_create("SineIn",function(p){return-Math.cos(p*_HALF_PI)+1}),_create("SineInOut",function(p){return-.5*(Math.cos(Math.PI*p)-1)})),_class("easing.EaseLookup",{find:function(s){return Ease.map[s]}},!0),_easeReg(w.SlowMo,"SlowMo","ease,"),_easeReg(RoughEase,"RoughEase","ease,"),_easeReg(SteppedEase,"SteppedEase","ease,"),Back},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(window,moduleName){"use strict";var _globals=window.GreenSockGlobals=window.GreenSockGlobals||window;if(!_globals.TweenLite){var a,i,p,_ticker,_tickerActive,_namespace=function(ns){var i,a=ns.split("."),p=_globals;for(i=0;i<a.length;i++)p[a[i]]=p=p[a[i]]||{};return p},gs=_namespace("com.greensock"),_tinyNum=1e-10,_slice=function(a){var i,b=[],l=a.length;for(i=0;i!==l;b.push(a[i++]));return b},_emptyFunc=function(){},_isArray=function(){var toString=Object.prototype.toString,array=toString.call([]);return function(obj){return null!=obj&&(obj instanceof Array||"object"==typeof obj&&!!obj.push&&toString.call(obj)===array)}}(),_defLookup={},Definition=function(ns,dependencies,func,global){this.sc=_defLookup[ns]?_defLookup[ns].sc:[],_defLookup[ns]=this,this.gsClass=null,this.func=func;var _classes=[];this.check=function(init){for(var cur,a,n,cl,hasModule,i=dependencies.length,missing=i;--i>-1;)(cur=_defLookup[dependencies[i]]||new Definition(dependencies[i],[])).gsClass?(_classes[i]=cur.gsClass,missing--):init&&cur.sc.push(this);if(0===missing&&func)for(a=("com.greensock."+ns).split("."),n=a.pop(),cl=_namespace(a.join("."))[n]=this.gsClass=func.apply(func,_classes),global&&(_globals[n]=cl,hasModule="undefined"!=typeof module&&module.exports,!hasModule&&"function"==typeof define&&define.amd?define((window.GreenSockAMDPath?window.GreenSockAMDPath+"/":"")+ns.split(".").pop(),[],function(){return cl}):ns===moduleName&&hasModule&&(module.exports=cl)),i=0;i<this.sc.length;i++)this.sc[i].check()},this.check(!0)},_gsDefine=window._gsDefine=function(ns,dependencies,func,global){return new Definition(ns,dependencies,func,global)},_class=gs._class=function(ns,func,global){return func=func||function(){},_gsDefine(ns,[],function(){return func},global),func};_gsDefine.globals=_globals;var _baseParams=[0,0,1,1],_blankArray=[],Ease=_class("easing.Ease",function(func,extraParams,type,power){this._func=func,this._type=type||0,this._power=power||0,this._params=extraParams?_baseParams.concat(extraParams):_baseParams},!0),_easeMap=Ease.map={},_easeReg=Ease.register=function(ease,names,types,create){for(var e,name,j,type,na=names.split(","),i=na.length,ta=(types||"easeIn,easeOut,easeInOut").split(",");--i>-1;)for(name=na[i],e=create?_class("easing."+name,null,!0):gs.easing[name]||{},j=ta.length;--j>-1;)type=ta[j],_easeMap[name+"."+type]=_easeMap[type+name]=e[type]=ease.getRatio?ease:ease[type]||new ease};for(p=Ease.prototype,p._calcEnd=!1,p.getRatio=function(p){if(this._func)return this._params[0]=p,this._func.apply(null,this._params);var t=this._type,pw=this._power,r=1===t?1-p:2===t?p:.5>p?2*p:2*(1-p);return 1===pw?r*=r:2===pw?r*=r*r:3===pw?r*=r*r*r:4===pw&&(r*=r*r*r*r),1===t?1-r:2===t?r:.5>p?r/2:1-r/2},a=["Linear","Quad","Cubic","Quart","Quint,Strong"],i=a.length;--i>-1;)p=a[i]+",Power"+i,_easeReg(new Ease(null,null,1,i),p,"easeOut",!0),_easeReg(new Ease(null,null,2,i),p,"easeIn"+(0===i?",easeNone":"")),_easeReg(new Ease(null,null,3,i),p,"easeInOut");_easeMap.linear=gs.easing.Linear.easeIn,_easeMap.swing=gs.easing.Quad.easeInOut;var EventDispatcher=_class("events.EventDispatcher",function(target){this._listeners={},this._eventTarget=target||this});p=EventDispatcher.prototype,p.addEventListener=function(type,callback,scope,useParam,priority){priority=priority||0;var listener,i,list=this._listeners[type],index=0;for(null==list&&(this._listeners[type]=list=[]),i=list.length;--i>-1;)listener=list[i],listener.c===callback&&listener.s===scope?list.splice(i,1):0===index&&listener.pr<priority&&(index=i+1);list.splice(index,0,{c:callback,s:scope,up:useParam,pr:priority}),this!==_ticker||_tickerActive||_ticker.wake()},p.removeEventListener=function(type,callback){var i,list=this._listeners[type];if(list)for(i=list.length;--i>-1;)if(list[i].c===callback)return void list.splice(i,1)},p.dispatchEvent=function(type){var i,t,listener,list=this._listeners[type];if(list)for(i=list.length,t=this._eventTarget;--i>-1;)listener=list[i],listener&&(listener.up?listener.c.call(listener.s||t,{type:type,target:t}):listener.c.call(listener.s||t))};var _reqAnimFrame=window.requestAnimationFrame,_cancelAnimFrame=window.cancelAnimationFrame,_getTime=Date.now||function(){return(new Date).getTime()},_lastUpdate=_getTime();for(a=["ms","moz","webkit","o"],i=a.length;--i>-1&&!_reqAnimFrame;)_reqAnimFrame=window[a[i]+"RequestAnimationFrame"],_cancelAnimFrame=window[a[i]+"CancelAnimationFrame"]||window[a[i]+"CancelRequestAnimationFrame"];_class("Ticker",function(fps,useRAF){var _fps,_req,_id,_gap,_nextTime,_self=this,_startTime=_getTime(),_useRAF=useRAF!==!1&&_reqAnimFrame,_lagThreshold=500,_adjustedLag=33,_tickWord="tick",_tick=function(manual){var overlap,dispatch,elapsed=_getTime()-_lastUpdate;elapsed>_lagThreshold&&(_startTime+=elapsed-_adjustedLag),_lastUpdate+=elapsed,_self.time=(_lastUpdate-_startTime)/1e3,overlap=_self.time-_nextTime,(!_fps||overlap>0||manual===!0)&&(_self.frame++,_nextTime+=overlap+(overlap>=_gap?.004:_gap-overlap),dispatch=!0),manual!==!0&&(_id=_req(_tick)),dispatch&&_self.dispatchEvent(_tickWord)};EventDispatcher.call(_self),_self.time=_self.frame=0,_self.tick=function(){_tick(!0)},_self.lagSmoothing=function(threshold,adjustedLag){_lagThreshold=threshold||1/_tinyNum,_adjustedLag=Math.min(adjustedLag,_lagThreshold,0)},_self.sleep=function(){null!=_id&&(_useRAF&&_cancelAnimFrame?_cancelAnimFrame(_id):clearTimeout(_id),_req=_emptyFunc,_id=null,_self===_ticker&&(_tickerActive=!1))},_self.wake=function(){null!==_id?_self.sleep():_self.frame>10&&(_lastUpdate=_getTime()-_lagThreshold+5),_req=0===_fps?_emptyFunc:_useRAF&&_reqAnimFrame?_reqAnimFrame:function(f){return setTimeout(f,1e3*(_nextTime-_self.time)+1|0)},_self===_ticker&&(_tickerActive=!0),_tick(2)},_self.fps=function(value){return arguments.length?(_fps=value,_gap=1/(_fps||60),_nextTime=this.time+_gap,void _self.wake()):_fps},_self.useRAF=function(value){return arguments.length?(_self.sleep(),_useRAF=value,void _self.fps(_fps)):_useRAF},_self.fps(fps),setTimeout(function(){_useRAF&&_self.frame<5&&_self.useRAF(!1)},1500)}),p=gs.Ticker.prototype=new gs.events.EventDispatcher,p.constructor=gs.Ticker;var Animation=_class("core.Animation",function(duration,vars){if(this.vars=vars=vars||{},this._duration=this._totalDuration=duration||0,this._delay=Number(vars.delay)||0,this._timeScale=1,this._active=vars.immediateRender===!0,this.data=vars.data,this._reversed=vars.reversed===!0,_rootTimeline){_tickerActive||_ticker.wake();var tl=this.vars.useFrames?_rootFramesTimeline:_rootTimeline;tl.add(this,tl._time),this.vars.paused&&this.paused(!0)}});_ticker=Animation.ticker=new gs.Ticker,p=Animation.prototype,p._dirty=p._gc=p._initted=p._paused=!1,p._totalTime=p._time=0,p._rawPrevTime=-1,p._next=p._last=p._onUpdate=p._timeline=p.timeline=null,p._paused=!1;var _checkTimeout=function(){_tickerActive&&_getTime()-_lastUpdate>2e3&&_ticker.wake(),setTimeout(_checkTimeout,2e3)};_checkTimeout(),p.play=function(from,suppressEvents){return null!=from&&this.seek(from,suppressEvents),this.reversed(!1).paused(!1)},p.pause=function(atTime,suppressEvents){return null!=atTime&&this.seek(atTime,suppressEvents),this.paused(!0)},p.resume=function(from,suppressEvents){return null!=from&&this.seek(from,suppressEvents),this.paused(!1)},p.seek=function(time,suppressEvents){return this.totalTime(Number(time),suppressEvents!==!1)},p.restart=function(includeDelay,suppressEvents){return this.reversed(!1).paused(!1).totalTime(includeDelay?-this._delay:0,suppressEvents!==!1,!0)},p.reverse=function(from,suppressEvents){return null!=from&&this.seek(from||this.totalDuration(),suppressEvents),this.reversed(!0).paused(!1)},p.render=function(time,suppressEvents,force){},p.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},p.isActive=function(){var rawTime,tl=this._timeline,startTime=this._startTime;return!tl||!this._gc&&!this._paused&&tl.isActive()&&(rawTime=tl.rawTime())>=startTime&&rawTime<startTime+this.totalDuration()/this._timeScale},p._enabled=function(enabled,ignoreTimeline){return _tickerActive||_ticker.wake(),this._gc=!enabled,this._active=this.isActive(),ignoreTimeline!==!0&&(enabled&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!enabled&&this.timeline&&this._timeline._remove(this,!0)),!1},p._kill=function(vars,target){return this._enabled(!1,!1)},p.kill=function(vars,target){return this._kill(vars,target),this},p._uncache=function(includeSelf){for(var tween=includeSelf?this:this.timeline;tween;)tween._dirty=!0,tween=tween.timeline;return this},p._swapSelfInParams=function(params){for(var i=params.length,copy=params.concat();--i>-1;)"{self}"===params[i]&&(copy[i]=this);return copy},p._callback=function(type){var v=this.vars;v[type].apply(v[type+"Scope"]||v.callbackScope||this,v[type+"Params"]||_blankArray)},p.eventCallback=function(type,callback,params,scope){if("on"===(type||"").substr(0,2)){var v=this.vars;if(1===arguments.length)return v[type];null==callback?delete v[type]:(v[type]=callback,v[type+"Params"]=_isArray(params)&&-1!==params.join("").indexOf("{self}")?this._swapSelfInParams(params):params,v[type+"Scope"]=scope),"onUpdate"===type&&(this._onUpdate=callback)}return this},p.delay=function(value){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+value-this._delay),this._delay=value,this):this._delay},p.duration=function(value){return arguments.length?(this._duration=this._totalDuration=value,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==value&&this.totalTime(this._totalTime*(value/this._duration),!0),this):(this._dirty=!1,this._duration)},p.totalDuration=function(value){return this._dirty=!1,arguments.length?this.duration(value):this._totalDuration},p.time=function(value,suppressEvents){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(value>this._duration?this._duration:value,suppressEvents)):this._time},p.totalTime=function(time,suppressEvents,uncapped){if(_tickerActive||_ticker.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>time&&!uncapped&&(time+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var totalDuration=this._totalDuration,tl=this._timeline;if(time>totalDuration&&!uncapped&&(time=totalDuration),this._startTime=(this._paused?this._pauseTime:tl._time)-(this._reversed?totalDuration-time:time)/this._timeScale,tl._dirty||this._uncache(!1),tl._timeline)for(;tl._timeline;)tl._timeline._time!==(tl._startTime+tl._totalTime)/tl._timeScale&&tl.totalTime(tl._totalTime,!0),tl=tl._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==time||0===this._duration)&&(_lazyTweens.length&&_lazyRender(),this.render(time,suppressEvents,!1),_lazyTweens.length&&_lazyRender())}return this},p.progress=p.totalProgress=function(value,suppressEvents){var duration=this.duration();return arguments.length?this.totalTime(duration*value,suppressEvents):duration?this._time/duration:this.ratio},p.startTime=function(value){return arguments.length?(value!==this._startTime&&(this._startTime=value,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,value-this._delay)),this):this._startTime},p.endTime=function(includeRepeats){return this._startTime+(0!=includeRepeats?this.totalDuration():this.duration())/this._timeScale},p.timeScale=function(value){if(!arguments.length)return this._timeScale;if(value=value||_tinyNum,this._timeline&&this._timeline.smoothChildTiming){var pauseTime=this._pauseTime,t=pauseTime||0===pauseTime?pauseTime:this._timeline.totalTime();this._startTime=t-(t-this._startTime)*this._timeScale/value}return this._timeScale=value,this._uncache(!1)},p.reversed=function(value){return arguments.length?(value!=this._reversed&&(this._reversed=value,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},p.paused=function(value){if(!arguments.length)return this._paused;var raw,elapsed,tl=this._timeline;return value!=this._paused&&tl&&(_tickerActive||value||_ticker.wake(),raw=tl.rawTime(),elapsed=raw-this._pauseTime,!value&&tl.smoothChildTiming&&(this._startTime+=elapsed,this._uncache(!1)),this._pauseTime=value?raw:null,this._paused=value,this._active=this.isActive(),!value&&0!==elapsed&&this._initted&&this.duration()&&(raw=tl.smoothChildTiming?this._totalTime:(raw-this._startTime)/this._timeScale,this.render(raw,raw===this._totalTime,!0))),this._gc&&!value&&this._enabled(!0,!1),this};var SimpleTimeline=_class("core.SimpleTimeline",function(vars){Animation.call(this,0,vars),this.autoRemoveChildren=this.smoothChildTiming=!0});p=SimpleTimeline.prototype=new Animation,p.constructor=SimpleTimeline,p.kill()._gc=!1,p._first=p._last=p._recent=null,p._sortChildren=!1,p.add=p.insert=function(child,position,align,stagger){var prevTween,st;if(child._startTime=Number(position||0)+child._delay,child._paused&&this!==child._timeline&&(child._pauseTime=child._startTime+(this.rawTime()-child._startTime)/child._timeScale),child.timeline&&child.timeline._remove(child,!0),child.timeline=child._timeline=this,child._gc&&child._enabled(!0,!0),prevTween=this._last,this._sortChildren)for(st=child._startTime;prevTween&&prevTween._startTime>st;)prevTween=prevTween._prev;return prevTween?(child._next=prevTween._next,prevTween._next=child):(child._next=this._first,this._first=child),child._next?child._next._prev=child:this._last=child,child._prev=prevTween,this._recent=child,this._timeline&&this._uncache(!0),this},p._remove=function(tween,skipDisable){return tween.timeline===this&&(skipDisable||tween._enabled(!1,!0),tween._prev?tween._prev._next=tween._next:this._first===tween&&(this._first=tween._next),tween._next?tween._next._prev=tween._prev:this._last===tween&&(this._last=tween._prev),tween._next=tween._prev=tween.timeline=null,tween===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},p.render=function(time,suppressEvents,force){var next,tween=this._first;for(this._totalTime=this._time=this._rawPrevTime=time;tween;)next=tween._next,(tween._active||time>=tween._startTime&&!tween._paused)&&(tween._reversed?tween.render((tween._dirty?tween.totalDuration():tween._totalDuration)-(time-tween._startTime)*tween._timeScale,suppressEvents,force):tween.render((time-tween._startTime)*tween._timeScale,suppressEvents,force)),tween=next},p.rawTime=function(){return _tickerActive||_ticker.wake(),this._totalTime};var TweenLite=_class("TweenLite",function(target,duration,vars){if(Animation.call(this,duration,vars),this.render=TweenLite.prototype.render,null==target)throw"Cannot tween a null target.";this.target=target="string"!=typeof target?target:TweenLite.selector(target)||target;var i,targ,targets,isSelector=target.jquery||target.length&&target!==window&&target[0]&&(target[0]===window||target[0].nodeType&&target[0].style&&!target.nodeType),overwrite=this.vars.overwrite;if(this._overwrite=overwrite=null==overwrite?_overwriteLookup[TweenLite.defaultOverwrite]:"number"==typeof overwrite?overwrite>>0:_overwriteLookup[overwrite],(isSelector||target instanceof Array||target.push&&_isArray(target))&&"number"!=typeof target[0])for(this._targets=targets=_slice(target),this._propLookup=[],this._siblings=[],i=0;i<targets.length;i++)targ=targets[i],targ?"string"!=typeof targ?targ.length&&targ!==window&&targ[0]&&(targ[0]===window||targ[0].nodeType&&targ[0].style&&!targ.nodeType)?(targets.splice(i--,1),this._targets=targets=targets.concat(_slice(targ))):(this._siblings[i]=_register(targ,this,!1),1===overwrite&&this._siblings[i].length>1&&_applyOverwrite(targ,this,null,1,this._siblings[i])):(targ=targets[i--]=TweenLite.selector(targ),"string"==typeof targ&&targets.splice(i+1,1)):targets.splice(i--,1);else this._propLookup={},this._siblings=_register(target,this,!1),1===overwrite&&this._siblings.length>1&&_applyOverwrite(target,this,null,1,this._siblings);(this.vars.immediateRender||0===duration&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-_tinyNum,this.render(-this._delay))},!0),_isSelector=function(v){return v&&v.length&&v!==window&&v[0]&&(v[0]===window||v[0].nodeType&&v[0].style&&!v.nodeType)},_autoCSS=function(vars,target){var p,css={};for(p in vars)_reservedProps[p]||p in target&&"transform"!==p&&"x"!==p&&"y"!==p&&"width"!==p&&"height"!==p&&"className"!==p&&"border"!==p||!(!_plugins[p]||_plugins[p]&&_plugins[p]._autoCSS)||(css[p]=vars[p],delete vars[p]);vars.css=css};p=TweenLite.prototype=new Animation,p.constructor=TweenLite,p.kill()._gc=!1,p.ratio=0,p._firstPT=p._targets=p._overwrittenProps=p._startAt=null,p._notifyPluginsOfEnabled=p._lazy=!1,TweenLite.version="1.18.0",TweenLite.defaultEase=p._ease=new Ease(null,null,1,1),TweenLite.defaultOverwrite="auto",TweenLite.ticker=_ticker,TweenLite.autoSleep=120,TweenLite.lagSmoothing=function(threshold,adjustedLag){_ticker.lagSmoothing(threshold,adjustedLag)},TweenLite.selector=window.$||window.jQuery||function(e){var selector=window.$||window.jQuery;return selector?(TweenLite.selector=selector,selector(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var _lazyTweens=[],_lazyLookup={},_numbersExp=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,_setRatio=function(v){for(var val,pt=this._firstPT,min=1e-6;pt;)val=pt.blob?v?this.join(""):this.start:pt.c*v+pt.s,pt.r?val=Math.round(val):min>val&&val>-min&&(val=0),pt.f?pt.fp?pt.t[pt.p](pt.fp,val):pt.t[pt.p](val):pt.t[pt.p]=val,pt=pt._next},_blobDif=function(start,end,filter,pt){var startNums,endNums,num,i,l,nonNumbers,currentNum,a=[start,end],charIndex=0,s="",color=0;for(a.start=start,filter&&(filter(a),start=a[0],end=a[1]),a.length=0,startNums=start.match(_numbersExp)||[],endNums=end.match(_numbersExp)||[],pt&&(pt._next=null,pt.blob=1,a._firstPT=pt),l=endNums.length,i=0;l>i;i++)currentNum=endNums[i],nonNumbers=end.substr(charIndex,end.indexOf(currentNum,charIndex)-charIndex),s+=nonNumbers||!i?nonNumbers:",",charIndex+=nonNumbers.length,color?color=(color+1)%5:"rgba("===nonNumbers.substr(-5)&&(color=1),currentNum===startNums[i]||startNums.length<=i?s+=currentNum:(s&&(a.push(s),s=""),num=parseFloat(startNums[i]),a.push(num),a._firstPT={_next:a._firstPT,t:a,p:a.length-1,s:num,c:("="===currentNum.charAt(1)?parseInt(currentNum.charAt(0)+"1",10)*parseFloat(currentNum.substr(2)):parseFloat(currentNum)-num)||0,f:0,r:color&&4>color}),charIndex+=currentNum.length;return s+=end.substr(charIndex),s&&a.push(s),a.setRatio=_setRatio,a},_addPropTween=function(target,prop,start,end,overwriteProp,round,funcParam,stringFilter){var blob,getterName,s="get"===start?target[prop]:start,type=typeof target[prop],isRelative="string"==typeof end&&"="===end.charAt(1),pt={t:target,p:prop,s:s,f:"function"===type,pg:0,n:overwriteProp||prop,r:round,pr:0,c:isRelative?parseInt(end.charAt(0)+"1",10)*parseFloat(end.substr(2)):parseFloat(end)-s||0};return"number"!==type&&("function"===type&&"get"===start&&(getterName=prop.indexOf("set")||"function"!=typeof target["get"+prop.substr(3)]?prop:"get"+prop.substr(3),pt.s=s=funcParam?target[getterName](funcParam):target[getterName]()),"string"==typeof s&&(funcParam||isNaN(s))?(pt.fp=funcParam,blob=_blobDif(s,end,stringFilter||TweenLite.defaultStringFilter,pt),pt={t:blob,p:"setRatio",s:0,c:1,f:2,pg:0,n:overwriteProp||prop,pr:0}):isRelative||(pt.c=parseFloat(end)-parseFloat(s)||0)),pt.c?((pt._next=this._firstPT)&&(pt._next._prev=pt),this._firstPT=pt,pt):void 0},_internals=TweenLite._internals={isArray:_isArray,isSelector:_isSelector,lazyTweens:_lazyTweens,blobDif:_blobDif},_plugins=TweenLite._plugins={},_tweenLookup=_internals.tweenLookup={},_tweenLookupNum=0,_reservedProps=_internals.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1},_overwriteLookup={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},_rootFramesTimeline=Animation._rootFramesTimeline=new SimpleTimeline,_rootTimeline=Animation._rootTimeline=new SimpleTimeline,_nextGCFrame=30,_lazyRender=_internals.lazyRender=function(){var tween,i=_lazyTweens.length;for(_lazyLookup={};--i>-1;)tween=_lazyTweens[i],tween&&tween._lazy!==!1&&(tween.render(tween._lazy[0],tween._lazy[1],!0),tween._lazy=!1);_lazyTweens.length=0};_rootTimeline._startTime=_ticker.time,_rootFramesTimeline._startTime=_ticker.frame,_rootTimeline._active=_rootFramesTimeline._active=!0,setTimeout(_lazyRender,1),Animation._updateRoot=TweenLite.render=function(){var i,a,p;if(_lazyTweens.length&&_lazyRender(),_rootTimeline.render((_ticker.time-_rootTimeline._startTime)*_rootTimeline._timeScale,!1,!1),_rootFramesTimeline.render((_ticker.frame-_rootFramesTimeline._startTime)*_rootFramesTimeline._timeScale,!1,!1),_lazyTweens.length&&_lazyRender(),_ticker.frame>=_nextGCFrame){_nextGCFrame=_ticker.frame+(parseInt(TweenLite.autoSleep,10)||120);for(p in _tweenLookup){for(a=_tweenLookup[p].tweens,i=a.length;--i>-1;)a[i]._gc&&a.splice(i,1);0===a.length&&delete _tweenLookup[p]}if(p=_rootTimeline._first,(!p||p._paused)&&TweenLite.autoSleep&&!_rootFramesTimeline._first&&1===_ticker._listeners.tick.length){for(;p&&p._paused;)p=p._next;p||_ticker.sleep()}}},_ticker.addEventListener("tick",Animation._updateRoot);var _register=function(target,tween,scrub){var a,i,id=target._gsTweenID;if(_tweenLookup[id||(target._gsTweenID=id="t"+_tweenLookupNum++)]||(_tweenLookup[id]={target:target,tweens:[]}),tween&&(a=_tweenLookup[id].tweens,a[i=a.length]=tween,scrub))for(;--i>-1;)a[i]===tween&&a.splice(i,1);return _tweenLookup[id].tweens},_onOverwrite=function(overwrittenTween,overwritingTween,target,killedProps){var r1,r2,func=overwrittenTween.vars.onOverwrite;return func&&(r1=func(overwrittenTween,overwritingTween,target,killedProps)),func=TweenLite.onOverwrite,func&&(r2=func(overwrittenTween,overwritingTween,target,killedProps)),r1!==!1&&r2!==!1},_applyOverwrite=function(target,tween,props,mode,siblings){var i,changed,curTween,l;if(1===mode||mode>=4){for(l=siblings.length,i=0;l>i;i++)if((curTween=siblings[i])!==tween)curTween._gc||curTween._kill(null,target,tween)&&(changed=!0);
else if(5===mode)break;return changed}var globalStart,startTime=tween._startTime+_tinyNum,overlaps=[],oCount=0,zeroDur=0===tween._duration;for(i=siblings.length;--i>-1;)(curTween=siblings[i])===tween||curTween._gc||curTween._paused||(curTween._timeline!==tween._timeline?(globalStart=globalStart||_checkOverlap(tween,0,zeroDur),0===_checkOverlap(curTween,globalStart,zeroDur)&&(overlaps[oCount++]=curTween)):curTween._startTime<=startTime&&curTween._startTime+curTween.totalDuration()/curTween._timeScale>startTime&&((zeroDur||!curTween._initted)&&startTime-curTween._startTime<=2e-10||(overlaps[oCount++]=curTween)));for(i=oCount;--i>-1;)if(curTween=overlaps[i],2===mode&&curTween._kill(props,target,tween)&&(changed=!0),2!==mode||!curTween._firstPT&&curTween._initted){if(2!==mode&&!_onOverwrite(curTween,tween))continue;curTween._enabled(!1,!1)&&(changed=!0)}return changed},_checkOverlap=function(tween,reference,zeroDur){for(var tl=tween._timeline,ts=tl._timeScale,t=tween._startTime;tl._timeline;){if(t+=tl._startTime,ts*=tl._timeScale,tl._paused)return-100;tl=tl._timeline}return t/=ts,t>reference?t-reference:zeroDur&&t===reference||!tween._initted&&2*_tinyNum>t-reference?_tinyNum:(t+=tween.totalDuration()/tween._timeScale/ts)>reference+_tinyNum?0:t-reference-_tinyNum};p._init=function(){var i,initPlugins,pt,p,startVars,v=this.vars,op=this._overwrittenProps,dur=this._duration,immediate=!!v.immediateRender,ease=v.ease;if(v.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),startVars={};for(p in v.startAt)startVars[p]=v.startAt[p];if(startVars.overwrite=!1,startVars.immediateRender=!0,startVars.lazy=immediate&&v.lazy!==!1,startVars.startAt=startVars.delay=null,this._startAt=TweenLite.to(this.target,0,startVars),immediate)if(this._time>0)this._startAt=null;else if(0!==dur)return}else if(v.runBackwards&&0!==dur)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(immediate=!1),pt={};for(p in v)_reservedProps[p]&&"autoCSS"!==p||(pt[p]=v[p]);if(pt.overwrite=0,pt.data="isFromStart",pt.lazy=immediate&&v.lazy!==!1,pt.immediateRender=immediate,this._startAt=TweenLite.to(this.target,0,pt),immediate){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=ease=ease?ease instanceof Ease?ease:"function"==typeof ease?new Ease(ease,v.easeParams):_easeMap[ease]||TweenLite.defaultEase:TweenLite.defaultEase,v.easeParams instanceof Array&&ease.config&&(this._ease=ease.config.apply(ease,v.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(i=this._targets.length;--i>-1;)this._initProps(this._targets[i],this._propLookup[i]={},this._siblings[i],op?op[i]:null)&&(initPlugins=!0);else initPlugins=this._initProps(this.target,this._propLookup,this._siblings,op);if(initPlugins&&TweenLite._onPluginEvent("_onInitAllProps",this),op&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),v.runBackwards)for(pt=this._firstPT;pt;)pt.s+=pt.c,pt.c=-pt.c,pt=pt._next;this._onUpdate=v.onUpdate,this._initted=!0},p._initProps=function(target,propLookup,siblings,overwrittenProps){var p,i,initPlugins,plugin,pt,v;if(null==target)return!1;_lazyLookup[target._gsTweenID]&&_lazyRender(),this.vars.css||target.style&&target!==window&&target.nodeType&&_plugins.css&&this.vars.autoCSS!==!1&&_autoCSS(this.vars,target);for(p in this.vars)if(v=this.vars[p],_reservedProps[p])v&&(v instanceof Array||v.push&&_isArray(v))&&-1!==v.join("").indexOf("{self}")&&(this.vars[p]=v=this._swapSelfInParams(v,this));else if(_plugins[p]&&(plugin=new _plugins[p])._onInitTween(target,this.vars[p],this)){for(this._firstPT=pt={_next:this._firstPT,t:plugin,p:"setRatio",s:0,c:1,f:1,n:p,pg:1,pr:plugin._priority},i=plugin._overwriteProps.length;--i>-1;)propLookup[plugin._overwriteProps[i]]=this._firstPT;(plugin._priority||plugin._onInitAllProps)&&(initPlugins=!0),(plugin._onDisable||plugin._onEnable)&&(this._notifyPluginsOfEnabled=!0),pt._next&&(pt._next._prev=pt)}else propLookup[p]=_addPropTween.call(this,target,p,"get",v,p,0,null,this.vars.stringFilter);return overwrittenProps&&this._kill(overwrittenProps,target)?this._initProps(target,propLookup,siblings,overwrittenProps):this._overwrite>1&&this._firstPT&&siblings.length>1&&_applyOverwrite(target,this,propLookup,this._overwrite,siblings)?(this._kill(propLookup,target),this._initProps(target,propLookup,siblings,overwrittenProps)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(_lazyLookup[target._gsTweenID]=!0),initPlugins)},p.render=function(time,suppressEvents,force){var isComplete,callback,pt,rawPrevTime,prevTime=this._time,duration=this._duration,prevRawPrevTime=this._rawPrevTime;if(time>=duration)this._totalTime=this._time=duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(isComplete=!0,callback="onComplete",force=force||this._timeline.autoRemoveChildren),0===duration&&(this._initted||!this.vars.lazy||force)&&(this._startTime===this._timeline._duration&&(time=0),(0===time||0>prevRawPrevTime||prevRawPrevTime===_tinyNum&&"isPause"!==this.data)&&prevRawPrevTime!==time&&(force=!0,prevRawPrevTime>_tinyNum&&(callback="onReverseComplete")),this._rawPrevTime=rawPrevTime=!suppressEvents||time||prevRawPrevTime===time?time:_tinyNum);else if(1e-7>time)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==prevTime||0===duration&&prevRawPrevTime>0)&&(callback="onReverseComplete",isComplete=this._reversed),0>time&&(this._active=!1,0===duration&&(this._initted||!this.vars.lazy||force)&&(prevRawPrevTime>=0&&(prevRawPrevTime!==_tinyNum||"isPause"!==this.data)&&(force=!0),this._rawPrevTime=rawPrevTime=!suppressEvents||time||prevRawPrevTime===time?time:_tinyNum)),this._initted||(force=!0);else if(this._totalTime=this._time=time,this._easeType){var r=time/duration,type=this._easeType,pow=this._easePower;(1===type||3===type&&r>=.5)&&(r=1-r),3===type&&(r*=2),1===pow?r*=r:2===pow?r*=r*r:3===pow?r*=r*r*r:4===pow&&(r*=r*r*r*r),this.ratio=1===type?1-r:2===type?r:.5>time/duration?r/2:1-r/2}else this.ratio=this._ease.getRatio(time/duration);if(this._time!==prevTime||force){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!force&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=prevTime,this._rawPrevTime=prevRawPrevTime,_lazyTweens.push(this),void(this._lazy=[time,suppressEvents]);this._time&&!isComplete?this.ratio=this._ease.getRatio(this._time/duration):isComplete&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==prevTime&&time>=0&&(this._active=!0),0===prevTime&&(this._startAt&&(time>=0?this._startAt.render(time,suppressEvents,force):callback||(callback="_dummyGS")),this.vars.onStart&&(0!==this._time||0===duration)&&(suppressEvents||this._callback("onStart"))),pt=this._firstPT;pt;)pt.f?pt.t[pt.p](pt.c*this.ratio+pt.s):pt.t[pt.p]=pt.c*this.ratio+pt.s,pt=pt._next;this._onUpdate&&(0>time&&this._startAt&&time!==-1e-4&&this._startAt.render(time,suppressEvents,force),suppressEvents||(this._time!==prevTime||isComplete)&&this._callback("onUpdate")),callback&&(!this._gc||force)&&(0>time&&this._startAt&&!this._onUpdate&&time!==-1e-4&&this._startAt.render(time,suppressEvents,force),isComplete&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!suppressEvents&&this.vars[callback]&&this._callback(callback),0===duration&&this._rawPrevTime===_tinyNum&&rawPrevTime!==_tinyNum&&(this._rawPrevTime=0))}},p._kill=function(vars,target,overwritingTween){if("all"===vars&&(vars=null),null==vars&&(null==target||target===this.target))return this._lazy=!1,this._enabled(!1,!1);target="string"!=typeof target?target||this._targets||this.target:TweenLite.selector(target)||target;var i,overwrittenProps,p,pt,propLookup,changed,killProps,record,killed,simultaneousOverwrite=overwritingTween&&this._time&&overwritingTween._startTime===this._startTime&&this._timeline===overwritingTween._timeline;if((_isArray(target)||_isSelector(target))&&"number"!=typeof target[0])for(i=target.length;--i>-1;)this._kill(vars,target[i],overwritingTween)&&(changed=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(target===this._targets[i]){propLookup=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],overwrittenProps=this._overwrittenProps[i]=vars?this._overwrittenProps[i]||{}:"all";break}}else{if(target!==this.target)return!1;propLookup=this._propLookup,overwrittenProps=this._overwrittenProps=vars?this._overwrittenProps||{}:"all"}if(propLookup){if(killProps=vars||propLookup,record=vars!==overwrittenProps&&"all"!==overwrittenProps&&vars!==propLookup&&("object"!=typeof vars||!vars._tempKill),overwritingTween&&(TweenLite.onOverwrite||this.vars.onOverwrite)){for(p in killProps)propLookup[p]&&(killed||(killed=[]),killed.push(p));if((killed||!vars)&&!_onOverwrite(this,overwritingTween,target,killed))return!1}for(p in killProps)(pt=propLookup[p])&&(simultaneousOverwrite&&(pt.f?pt.t[pt.p](pt.s):pt.t[pt.p]=pt.s,changed=!0),pt.pg&&pt.t._kill(killProps)&&(changed=!0),pt.pg&&0!==pt.t._overwriteProps.length||(pt._prev?pt._prev._next=pt._next:pt===this._firstPT&&(this._firstPT=pt._next),pt._next&&(pt._next._prev=pt._prev),pt._next=pt._prev=null),delete propLookup[p]),record&&(overwrittenProps[p]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return changed},p.invalidate=function(){return this._notifyPluginsOfEnabled&&TweenLite._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],Animation.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-_tinyNum,this.render(-this._delay)),this},p._enabled=function(enabled,ignoreTimeline){if(_tickerActive||_ticker.wake(),enabled&&this._gc){var i,targets=this._targets;if(targets)for(i=targets.length;--i>-1;)this._siblings[i]=_register(targets[i],this,!0);else this._siblings=_register(this.target,this,!0)}return Animation.prototype._enabled.call(this,enabled,ignoreTimeline),this._notifyPluginsOfEnabled&&this._firstPT?TweenLite._onPluginEvent(enabled?"_onEnable":"_onDisable",this):!1},TweenLite.to=function(target,duration,vars){return new TweenLite(target,duration,vars)},TweenLite.from=function(target,duration,vars){return vars.runBackwards=!0,vars.immediateRender=0!=vars.immediateRender,new TweenLite(target,duration,vars)},TweenLite.fromTo=function(target,duration,fromVars,toVars){return toVars.startAt=fromVars,toVars.immediateRender=0!=toVars.immediateRender&&0!=fromVars.immediateRender,new TweenLite(target,duration,toVars)},TweenLite.delayedCall=function(delay,callback,params,scope,useFrames){return new TweenLite(callback,0,{delay:delay,onComplete:callback,onCompleteParams:params,callbackScope:scope,onReverseComplete:callback,onReverseCompleteParams:params,immediateRender:!1,lazy:!1,useFrames:useFrames,overwrite:0})},TweenLite.set=function(target,vars){return new TweenLite(target,0,vars)},TweenLite.getTweensOf=function(target,onlyActive){if(null==target)return[];target="string"!=typeof target?target:TweenLite.selector(target)||target;var i,a,j,t;if((_isArray(target)||_isSelector(target))&&"number"!=typeof target[0]){for(i=target.length,a=[];--i>-1;)a=a.concat(TweenLite.getTweensOf(target[i],onlyActive));for(i=a.length;--i>-1;)for(t=a[i],j=i;--j>-1;)t===a[j]&&a.splice(i,1)}else for(a=_register(target).concat(),i=a.length;--i>-1;)(a[i]._gc||onlyActive&&!a[i].isActive())&&a.splice(i,1);return a},TweenLite.killTweensOf=TweenLite.killDelayedCallsTo=function(target,onlyActive,vars){"object"==typeof onlyActive&&(vars=onlyActive,onlyActive=!1);for(var a=TweenLite.getTweensOf(target,onlyActive),i=a.length;--i>-1;)a[i]._kill(vars,target)};var TweenPlugin=_class("plugins.TweenPlugin",function(props,priority){this._overwriteProps=(props||"").split(","),this._propName=this._overwriteProps[0],this._priority=priority||0,this._super=TweenPlugin.prototype},!0);if(p=TweenPlugin.prototype,TweenPlugin.version="1.18.0",TweenPlugin.API=2,p._firstPT=null,p._addTween=_addPropTween,p.setRatio=_setRatio,p._kill=function(lookup){var i,a=this._overwriteProps,pt=this._firstPT;if(null!=lookup[this._propName])this._overwriteProps=[];else for(i=a.length;--i>-1;)null!=lookup[a[i]]&&a.splice(i,1);for(;pt;)null!=lookup[pt.n]&&(pt._next&&(pt._next._prev=pt._prev),pt._prev?(pt._prev._next=pt._next,pt._prev=null):this._firstPT===pt&&(this._firstPT=pt._next)),pt=pt._next;return!1},p._roundProps=function(lookup,value){for(var pt=this._firstPT;pt;)(lookup[this._propName]||null!=pt.n&&lookup[pt.n.split(this._propName+"_").join("")])&&(pt.r=value),pt=pt._next},TweenLite._onPluginEvent=function(type,tween){var changed,pt2,first,last,next,pt=tween._firstPT;if("_onInitAllProps"===type){for(;pt;){for(next=pt._next,pt2=first;pt2&&pt2.pr>pt.pr;)pt2=pt2._next;(pt._prev=pt2?pt2._prev:last)?pt._prev._next=pt:first=pt,(pt._next=pt2)?pt2._prev=pt:last=pt,pt=next}pt=tween._firstPT=first}for(;pt;)pt.pg&&"function"==typeof pt.t[type]&&pt.t[type]()&&(changed=!0),pt=pt._next;return changed},TweenPlugin.activate=function(plugins){for(var i=plugins.length;--i>-1;)plugins[i].API===TweenPlugin.API&&(_plugins[(new plugins[i])._propName]=plugins[i]);return!0},_gsDefine.plugin=function(config){if(!(config&&config.propName&&config.init&&config.API))throw"illegal plugin definition.";var prop,propName=config.propName,priority=config.priority||0,overwriteProps=config.overwriteProps,map={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},Plugin=_class("plugins."+propName.charAt(0).toUpperCase()+propName.substr(1)+"Plugin",function(){TweenPlugin.call(this,propName,priority),this._overwriteProps=overwriteProps||[]},config.global===!0),p=Plugin.prototype=new TweenPlugin(propName);p.constructor=Plugin,Plugin.API=config.API;for(prop in map)"function"==typeof config[prop]&&(p[map[prop]]=config[prop]);return Plugin.version=config.version,TweenPlugin.activate([Plugin]),Plugin},a=window._gsQueue){for(i=0;i<a.length;i++)a[i]();for(p in _defLookup)_defLookup[p].func||window.console.log("GSAP encountered missing dependency: com.greensock."+p)}_tickerActive=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(require,module,exports){!function(factory){if("function"==typeof define&&define.amd)define(factory);else if("object"==typeof exports)module.exports=factory();else{var _OldCookies=window.Cookies,api=window.Cookies=factory(window.jQuery);api.noConflict=function(){return window.Cookies=_OldCookies,api}}}(function(){function extend(){for(var i=0,result={};i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes)result[key]=attributes[key]}return result}function init(converter){function api(key,value,attributes){var result;if(arguments.length>1){if(attributes=extend({path:"/"},api.defaults,attributes),"number"==typeof attributes.expires){var expires=new Date;expires.setMilliseconds(expires.getMilliseconds()+864e5*attributes.expires),attributes.expires=expires}try{result=JSON.stringify(value),/^[\{\[]/.test(result)&&(value=result)}catch(e){}return value=encodeURIComponent(String(value)),value=value.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),key=encodeURIComponent(String(key)),key=key.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),key=key.replace(/[\(\)]/g,escape),document.cookie=[key,"=",value,attributes.expires&&"; expires="+attributes.expires.toUTCString(),attributes.path&&"; path="+attributes.path,attributes.domain&&"; domain="+attributes.domain,attributes.secure?"; secure":""].join("")}key||(result={});for(var cookies=document.cookie?document.cookie.split("; "):[],rdecode=/(%[0-9A-Z]{2})+/g,i=0;i<cookies.length;i++){var parts=cookies[i].split("="),name=parts[0].replace(rdecode,decodeURIComponent),cookie=parts.slice(1).join("=");'"'===cookie.charAt(0)&&(cookie=cookie.slice(1,-1));try{if(cookie=converter&&converter(cookie,name)||cookie.replace(rdecode,decodeURIComponent),this.json)try{cookie=JSON.parse(cookie)}catch(e){}if(key===name){result=cookie;break}key||(result[name]=cookie)}catch(e){}}return result}return api.get=api.set=api,api.getJSON=function(){return api.apply({json:!0},[].slice.call(arguments))},api.defaults={},api.remove=function(key,attributes){api(key,"",extend(attributes,{expires:-1}))},api.withConverter=init,api}return init()})},{}],18:[function(require,module,exports){(function(global){(function(){"use strict";function capitalize(string){return string=String(string),string.charAt(0).toUpperCase()+string.slice(1)}function cleanupOS(os,pattern,label){var data={6.4:"10",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return pattern&&label&&/^Win/i.test(os)&&(data=data[/[\d.]+$/.exec(os)])&&(os="Windows "+data),os=String(os),pattern&&label&&(os=os.replace(RegExp(pattern,"i"),label)),os=format(os.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").split(" on ")[0])}function each(object,callback){var index=-1,length=object?object.length:0;if("number"==typeof length&&length>-1&&maxSafeInteger>=length)for(;++index<length;)callback(object[index],index,object);else forOwn(object,callback)}function format(string){return string=trim(string),/^(?:webOS|i(?:OS|P))/.test(string)?string:capitalize(string)}function forOwn(object,callback){for(var key in object)hasOwnProperty.call(object,key)&&callback(object[key],key,object)}function getClassOf(value){return null==value?capitalize(value):toString.call(value).slice(8,-1)}function isHostType(object,property){var type=null!=object?typeof object[property]:"number";return!/^(?:boolean|number|string|undefined)$/.test(type)&&("object"==type?!!object[property]:!0)}function qualify(string){return String(string).replace(/([ -])(?!$)/g,"$1?")}function reduce(array,callback){var accumulator=null;return each(array,function(value,index){accumulator=callback(accumulator,value,index,array)}),accumulator}function trim(string){return String(string).replace(/^ +| +$/g,"")}function parse(ua){function getLayout(guesses){return reduce(guesses,function(result,guess){return result||RegExp("\\b"+(guess.pattern||qualify(guess))+"\\b","i").exec(ua)&&(guess.label||guess)})}function getManufacturer(guesses){return reduce(guesses,function(result,value,key){return result||(value[product]||value[/^[a-z]+(?: +[a-z]+\b)*/i.exec(product)]||RegExp("\\b"+qualify(key)+"(?:\\b|\\w*\\d)","i").exec(ua))&&key})}function getName(guesses){return reduce(guesses,function(result,guess){return result||RegExp("\\b"+(guess.pattern||qualify(guess))+"\\b","i").exec(ua)&&(guess.label||guess)})}function getOS(guesses){return reduce(guesses,function(result,guess){var pattern=guess.pattern||qualify(guess);return!result&&(result=RegExp("\\b"+pattern+"(?:/[\\d.]+|[ \\w.]*)","i").exec(ua))&&(result=cleanupOS(result,pattern,guess.label||guess)),result})}function getProduct(guesses){return reduce(guesses,function(result,guess){var pattern=guess.pattern||qualify(guess);return!result&&(result=RegExp("\\b"+pattern+" *\\d+[.\\w_]*","i").exec(ua)||RegExp("\\b"+pattern+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(ua))&&((result=String(guess.label&&!RegExp(pattern,"i").test(guess.label)?guess.label:result).split("/"))[1]&&!/[\d.]+/.test(result[0])&&(result[0]+=" "+result[1]),guess=guess.label||guess,result=format(result[0].replace(RegExp(pattern,"i"),guess).replace(RegExp("; *(?:"+guess+"[_-])?","i")," ").replace(RegExp("("+guess+")[-_.]?(\\w)","i"),"$1 $2"))),result})}function getVersion(patterns){return reduce(patterns,function(result,pattern){return result||(RegExp(pattern+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(ua)||0)[1]||null})}function toStringPlatform(){return this.description||""}var context=root,isCustomContext=ua&&"object"==typeof ua&&"String"!=getClassOf(ua);isCustomContext&&(context=ua,ua=null);var nav=context.navigator||{},userAgent=nav.userAgent||"";ua||(ua=userAgent);var data,isSpecialCasedOS,isModuleScope=isCustomContext||thisBinding==oldRoot,likeChrome=isCustomContext?!!nav.likeChrome:/\bChrome\b/.test(ua)&&!/internal|\n/i.test(toString.toString()),objectClass="Object",airRuntimeClass=isCustomContext?objectClass:"ScriptBridgingProxyObject",enviroClass=isCustomContext?objectClass:"Environment",javaClass=isCustomContext&&context.java?"JavaPackage":getClassOf(context.java),phantomClass=isCustomContext?objectClass:"RuntimeObject",java=/\bJava/.test(javaClass)&&context.java,rhino=java&&getClassOf(context.environment)==enviroClass,alpha=java?"a":"α",beta=java?"b":"β",doc=context.document||{},opera=context.operamini||context.opera,operaClass=reOpera.test(operaClass=isCustomContext&&opera?opera["[[Class]]"]:getClassOf(opera))?operaClass:opera=null,arch=ua,description=[],prerelease=null,useFeatures=ua==userAgent,version=useFeatures&&opera&&"function"==typeof opera.version&&opera.version(),layout=getLayout(["Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),name=getName(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel",{label:"SRWare Iron",pattern:"Iron"},"K-Meleon","Konqueror","Lunascape","Maxthon","Midori","Nook Browser","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser","Sunrise","Swiftfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),product=getProduct([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nook","PlayBook","PlayStation 4","PlayStation 3","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),manufacturer=getManufacturer({Apple:{iPad:1,iPhone:1,iPod:1},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}}),os=getOS(["Windows Phone ","Android","CentOS","Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(layout&&(layout=[layout]),manufacturer&&!product&&(product=getProduct([manufacturer])),(data=/\bGoogle TV\b/.exec(product))&&(product=data[0]),/\bSimulator\b/i.test(ua)&&(product=(product?product+" ":"")+"Simulator"),"Opera Mini"==name&&/\bOPiOS\b/.test(ua)&&description.push("running in Turbo/Uncompressed mode"),/^iP/.test(product)?(name||(name="Safari"),os="iOS"+((data=/ OS ([\d_]+)/i.exec(ua))?" "+data[1].replace(/_/g,"."):"")):"Konqueror"!=name||/buntu/i.test(os)?manufacturer&&"Google"!=manufacturer&&(/Chrome/.test(name)&&!/\bMobile Safari\b/i.test(ua)||/\bVita\b/.test(product))?(name="Android Browser",os=/\bAndroid\b/.test(os)?os:"Android"):(!name||(data=!/\bMinefield\b|\(Android;/i.test(ua)&&/\b(?:Firefox|Safari)\b/.exec(name)))&&(name&&!product&&/[\/,]|^[^(]+?\)/.test(ua.slice(ua.indexOf(data+"/")+8))&&(name=null),(data=product||manufacturer||os)&&(product||manufacturer||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(os))&&(name=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(os)?os:data)+" Browser")):os="Kubuntu",(data=/\((Mobile|Tablet).*?Firefox\b/i.exec(ua))&&data[1]&&(os="Firefox OS",product||(product=data[1])),version||(version=getVersion(["(?:Cloud9|CriOS|CrMo|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\d.]+$))","Version",qualify(name),"(?:Firefox|Minefield|NetFront)"])),"iCab"==layout&&parseFloat(version)>3?layout=["WebKit"]:"Trident"!=layout&&(data=/\bOpera\b/.test(name)&&(/\bOPR\b/.test(ua)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(ua)&&"WebKit"||!layout&&/\bMSIE\b/i.test(ua)&&("Mac OS"==os?"Tasman":"Trident"))?layout=[data]:/\bPlayStation\b(?! Vita\b)/i.test(name)&&"WebKit"==layout&&(layout=["NetFront"]),"IE"==name&&(data=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(ua)||0)[1])?(name+=" Mobile",os="Windows Phone "+(/\+$/.test(data)?data:data+".x"),description.unshift("desktop mode")):/\bWPDesktop\b/i.test(ua)?(name="IE Mobile",os="Windows Phone 8+",description.unshift("desktop mode"),version||(version=(/\brv:([\d.]+)/.exec(ua)||0)[1])):"IE"!=name&&"Trident"==layout&&(data=/\brv:([\d.]+)/.exec(ua))?(/\bWPDesktop\b/i.test(ua)||(name&&description.push("identifying as "+name+(version?" "+version:"")),name="IE"),version=data[1]):"Chrome"!=name&&"IE"==name||!(data=/\bEdge\/([\d.]+)/.exec(ua))||(name="IE",version=data[1],layout=["Trident"],description.unshift("platform preview")),useFeatures){if(isHostType(context,"global"))if(java&&(data=java.lang.System,arch=data.getProperty("os.arch"),os=os||data.getProperty("os.name")+" "+data.getProperty("os.version")),isModuleScope&&isHostType(context,"system")&&(data=[context.system])[0]){os||(os=data[0].os||null);try{data[1]=context.require("ringo/engine").version,version=data[1].join("."),name="RingoJS"}catch(e){data[0].global.system==context.system&&(name="Narwhal")}}else"object"==typeof context.process&&(data=context.process)?(name="Node.js",arch=data.arch,os=data.platform,version=/[\d.]+/.exec(data.version)[0]):rhino&&(name="Rhino");else getClassOf(data=context.runtime)==airRuntimeClass?(name="Adobe AIR",os=data.flash.system.Capabilities.os):getClassOf(data=context.phantom)==phantomClass?(name="PhantomJS",version=(data=data.version||null)&&data.major+"."+data.minor+"."+data.patch):"number"==typeof doc.documentMode&&(data=/\bTrident\/(\d+)/i.exec(ua))&&(version=[version,doc.documentMode],(data=+data[1]+4)!=version[1]&&(description.push("IE "+version[1]+" mode"),layout&&(layout[1]=""),version[1]=data),version="IE"==name?String(version[1].toFixed(1)):version[0]);os=os&&format(os)}version&&(data=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(version)||/(?:alpha|beta)(?: ?\d)?/i.exec(ua+";"+(useFeatures&&nav.appMinorVersion))||/\bMinefield\b/i.test(ua)&&"a")&&(prerelease=/b/i.test(data)?"beta":"alpha",version=version.replace(RegExp(data+"\\+?$"),"")+("beta"==prerelease?beta:alpha)+(/\d+\+?/.exec(data)||"")),"Fennec"==name||"Firefox"==name&&/\b(?:Android|Firefox OS)\b/.test(os)?name="Firefox Mobile":"Maxthon"==name&&version?version=version.replace(/\.[\d.]+/,".x"):"Silk"==name?(/\bMobi/i.test(ua)||(os="Android",description.unshift("desktop mode")),/Accelerated *= *true/i.test(ua)&&description.unshift("accelerated")):/\bXbox\b/i.test(product)?(os=null,"Xbox 360"==product&&/\bIEMobile\b/.test(ua)&&description.unshift("mobile mode")):!/^(?:Chrome|IE|Opera)$/.test(name)&&(!name||product||/Browser|Mobi/.test(name))||"Windows CE"!=os&&!/Mobi/i.test(ua)?"IE"==name&&useFeatures&&null===context.external?description.unshift("platform preview"):(/\bBlackBerry\b/.test(product)||/\bBB10\b/.test(ua))&&(data=(RegExp(product.replace(/ +/g," *")+"/([.\\d]+)","i").exec(ua)||0)[1]||version)?(data=[data,/BB10/.test(ua)],os=(data[1]?(product=null,manufacturer="BlackBerry"):"Device Software")+" "+data[0],version=null):this!=forOwn&&"Wii"!=product&&(useFeatures&&opera||/Opera/.test(name)&&/\b(?:MSIE|Firefox)\b/i.test(ua)||"Firefox"==name&&/\bOS X (?:\d+\.){2,}/.test(os)||"IE"==name&&(os&&!/^Win/.test(os)&&version>5.5||/\bWindows XP\b/.test(os)&&version>8||8==version&&!/\bTrident\b/.test(ua)))&&!reOpera.test(data=parse.call(forOwn,ua.replace(reOpera,"")+";"))&&data.name&&(data="ing as "+data.name+((data=data.version)?" "+data:""),reOpera.test(name)?(/\bIE\b/.test(data)&&"Mac OS"==os&&(os=null),data="identify"+data):(data="mask"+data,name=operaClass?format(operaClass.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(data)&&(os=null),useFeatures||(version=null)),layout=["Presto"],description.push(data)):name+=" Mobile",(data=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(ua)||0)[1])&&(data=[parseFloat(data.replace(/\.(\d)$/,".0$1")),data],"Safari"==name&&"+"==data[1].slice(-1)?(name="WebKit Nightly",prerelease="alpha",version=data[1].slice(0,-1)):(version==data[1]||version==(data[2]=(/\bSafari\/([\d.]+\+?)/i.exec(ua)||0)[1]))&&(version=null),data[1]=(/\bChrome\/([\d.]+)/i.exec(ua)||0)[1],537.36==data[0]&&537.36==data[2]&&parseFloat(data[1])>=28&&"IE"!=name&&(layout=["Blink"]),useFeatures&&(likeChrome||data[1])?(layout&&(layout[1]="like Chrome"),data=data[1]||(data=data[0],530>data?1:532>data?2:532.05>data?3:533>data?4:534.03>data?5:534.07>data?6:534.1>data?7:534.13>data?8:534.16>data?9:534.24>data?10:534.3>data?11:535.01>data?12:535.02>data?"13+":535.07>data?15:535.11>data?16:535.19>data?17:536.05>data?18:536.1>data?19:537.01>data?20:537.11>data?"21+":537.13>data?23:537.18>data?24:537.24>data?25:537.36>data?26:"Blink"!=layout?"27":"28")):(layout&&(layout[1]="like Safari"),data=data[0],data=400>data?1:500>data?2:526>data?3:533>data?4:534>data?"4+":535>data?5:537>data?6:538>data?7:601>data?8:"8"),layout&&(layout[1]+=" "+(data+="number"==typeof data?".x":/[.+]/.test(data)?"":"+")),"Safari"==name&&(!version||parseInt(version)>45)&&(version=data)),"Opera"==name&&(data=/\bzbov|zvav$/.exec(os))?(name+=" ",description.unshift("desktop mode"),"zvav"==data?(name+="Mini",version=null):name+="Mobile",os=os.replace(RegExp(" *"+data+"$"),"")):"Safari"==name&&/\bChrome\b/.exec(layout&&layout[1])&&(description.unshift("desktop mode"),name="Chrome Mobile",version=null,/\bOS X\b/.test(os)?(manufacturer="Apple",os="iOS 4.3+"):os=null),version&&0==version.indexOf(data=/[\d.]+$/.exec(os))&&ua.indexOf("/"+data+"-")>-1&&(os=trim(os.replace(data,""))),layout&&!/\b(?:Avant|Nook)\b/.test(name)&&(/Browser|Lunascape|Maxthon/.test(name)||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(name)&&layout[1])&&(data=layout[layout.length-1])&&description.push(data),description.length&&(description=["("+description.join("; ")+")"]),manufacturer&&product&&product.indexOf(manufacturer)<0&&description.push("on "+manufacturer),product&&description.push((/^on /.test(description[description.length-1])?"":"on ")+product),os&&(data=/ ([\d.+]+)$/.exec(os),isSpecialCasedOS=data&&"/"==os.charAt(os.length-data[0].length-1),os={architecture:32,family:data&&!isSpecialCasedOS?os.replace(data[0],""):os,version:data?data[1]:null,toString:function(){var version=this.version;return this.family+(version&&!isSpecialCasedOS?" "+version:"")+(64==this.architecture?" 64-bit":"")}}),(data=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(arch))&&!/\bi686\b/i.test(arch)&&(os&&(os.architecture=64,os.family=os.family.replace(RegExp(" *"+data),"")),name&&(/\bWOW64\b/i.test(ua)||useFeatures&&/\w(?:86|32)$/.test(nav.cpuClass||nav.platform)&&!/\bWin64; x64\b/i.test(ua))&&description.unshift("32-bit")),
ua||(ua=null);var platform={};return platform.description=ua,platform.layout=layout&&layout[0],platform.manufacturer=manufacturer,platform.name=name,platform.prerelease=prerelease,platform.product=product,platform.ua=ua,platform.version=name&&version,platform.os=os||{architecture:null,family:null,version:null,toString:function(){return"null"}},platform.parse=parse,platform.toString=toStringPlatform,platform.version&&description.unshift(version),platform.name&&description.unshift(name),os&&name&&(os!=String(os).split(" ")[0]||os!=name.split(" ")[0]&&!product)&&description.push(product?"("+os+")":"on "+os),description.length&&(platform.description=description.join(" ")),platform}var objectTypes={"function":!0,object:!0},root=objectTypes[typeof window]&&window||this,oldRoot=root,freeExports=objectTypes[typeof exports]&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=freeExports&&freeModule&&"object"==typeof global&&global;!freeGlobal||freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal&&freeGlobal.self!==freeGlobal||(root=freeGlobal);var maxSafeInteger=Math.pow(2,53)-1,reOpera=/\bOpera/,thisBinding=this,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,toString=objectProto.toString;"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return parse()}):freeExports&&freeModule?forOwn(parse(),function(value,key){freeExports[key]=value}):root.platform=parse()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(require,module,exports){!function(factory){"use strict";"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof exports?(console.log("browserify found"),factory(jQuery)):factory(jQuery)}(function($){"use strict";function supportsRange(){var input=document.createElement("input");return input.setAttribute("type","range"),"text"!==input.type}function delay(fn,wait){var args=Array.prototype.slice.call(arguments,2);return setTimeout(function(){return fn.apply(null,args)},wait)}function debounce(fn,debounceDuration){return debounceDuration=debounceDuration||100,function(){if(!fn.debouncing){var args=Array.prototype.slice.apply(arguments);fn.lastReturnVal=fn.apply(window,args),fn.debouncing=!0}return clearTimeout(fn.debounceTimeout),fn.debounceTimeout=setTimeout(function(){fn.debouncing=!1},debounceDuration),fn.lastReturnVal}}function isHidden(element){return element&&(0===element.offsetWidth||0===element.offsetHeight||element.open===!1)}function getHiddenParentNodes(element){for(var parents=[],node=element.parentNode;isHidden(node);)parents.push(node),node=node.parentNode;return parents}function getDimension(element,key){function toggleOpenProperty(element){"undefined"!=typeof element.open&&(element.open=element.open?!1:!0)}var hiddenParentNodes=getHiddenParentNodes(element),hiddenParentNodesLength=hiddenParentNodes.length,inlineStyle=[],dimension=element[key];if(hiddenParentNodesLength){for(var i=0;hiddenParentNodesLength>i;i++)inlineStyle[i]=hiddenParentNodes[i].style.cssText,hiddenParentNodes[i].style.display="block",hiddenParentNodes[i].style.height="0",hiddenParentNodes[i].style.overflow="hidden",hiddenParentNodes[i].style.visibility="hidden",toggleOpenProperty(hiddenParentNodes[i]);dimension=element[key];for(var j=0;hiddenParentNodesLength>j;j++)hiddenParentNodes[j].style.cssText=inlineStyle[j],toggleOpenProperty(hiddenParentNodes[j])}return dimension}function tryParseFloat(str,defaultValue){var value=parseFloat(str);return Number.isNaN(value)?defaultValue:value}function Plugin(element,options){if(this.$window=$(window),this.$document=$(document),this.$element=$(element),this.options=$.extend({},defaults,options),this.polyfill=this.options.polyfill,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideEnd=this.options.onSlideEnd,this.polyfill&&inputrange)return!1;this.identifier="js-"+pluginName+"-"+pluginIdentifier++,this.startEvent=this.options.startEvent.join("."+this.identifier+" ")+"."+this.identifier,this.moveEvent=this.options.moveEvent.join("."+this.identifier+" ")+"."+this.identifier,this.endEvent=this.options.endEvent.join("."+this.identifier+" ")+"."+this.identifier,this.toFixed=(this.step+"").replace(".","").length-1,this.$fill=$('<div class="'+this.options.fillClass+'" />'),this.$handle=$('<div class="'+this.options.handleClass+'" />'),this.$range=$('<div class="'+this.options.rangeClass+'" id="'+this.identifier+'" />').insertAfter(this.$element).prepend(this.$fill,this.$handle),this.$element.css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),this.handleDown=$.proxy(this.handleDown,this),this.handleMove=$.proxy(this.handleMove,this),this.handleEnd=$.proxy(this.handleEnd,this),this.init();var _this=this;this.$window.on("resize."+this.identifier,debounce(function(){delay(function(){_this.update()},300)},20)),this.$document.on(this.startEvent,"#"+this.identifier+":not(."+this.options.disabledClass+")",this.handleDown),this.$element.on("change."+this.identifier,function(e,data){if(!data||data.origin!==_this.identifier){var value=e.target.value,pos=_this.getPositionFromValue(value);_this.setPosition(pos)}})}Number.isNaN=Number.isNaN||function(value){return"number"==typeof value&&value!==value};var pluginName="rangeslider",pluginIdentifier=0,inputrange=supportsRange(),defaults={polyfill:!0,rangeClass:"rangeslider",disabledClass:"rangeslider--disabled",fillClass:"rangeslider__fill",handleClass:"rangeslider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"]};Plugin.prototype.init=function(){this.update(!0),this.$element[0].value=this.value,this.onInit&&"function"==typeof this.onInit&&this.onInit()},Plugin.prototype.update=function(updateAttributes){updateAttributes=updateAttributes||!1,updateAttributes&&(this.min=tryParseFloat(this.$element[0].getAttribute("min"),0),this.max=tryParseFloat(this.$element[0].getAttribute("max"),100),this.value=tryParseFloat(this.$element[0].value,this.min+(this.max-this.min)/2),this.step=tryParseFloat(this.$element[0].getAttribute("step"),1)),this.handleWidth=getDimension(this.$handle[0],"offsetWidth"),this.rangeWidth=getDimension(this.$range[0],"offsetWidth"),this.maxHandleX=this.rangeWidth-this.handleWidth,this.grabX=this.handleWidth/2,this.position=this.getPositionFromValue(this.value),this.$element[0].disabled?this.$range.addClass(this.options.disabledClass):this.$range.removeClass(this.options.disabledClass),this.setPosition(this.position,!1)},Plugin.prototype.handleDown=function(e){if(e.preventDefault(),this.$document.on(this.moveEvent,this.handleMove),this.$document.on(this.endEvent,this.handleEnd),!((" "+e.target.className+" ").replace(/[\n\t]/g," ").indexOf(this.options.handleClass)>-1)){var posX=this.getRelativePosition(e),rangeX=this.$range[0].getBoundingClientRect().left,handleX=this.getPositionFromNode(this.$handle[0])-rangeX;this.setPosition(posX-this.grabX),posX>=handleX&&posX<handleX+this.handleWidth&&(this.grabX=posX-handleX)}},Plugin.prototype.handleMove=function(e){e.preventDefault();var posX=this.getRelativePosition(e);this.setPosition(posX-this.grabX)},Plugin.prototype.handleEnd=function(e){e.preventDefault(),this.$document.off(this.moveEvent,this.handleMove),this.$document.off(this.endEvent,this.handleEnd),this.$element.trigger("change",{origin:this.identifier}),this.onSlideEnd&&"function"==typeof this.onSlideEnd&&this.onSlideEnd(this.position,this.value)},Plugin.prototype.cap=function(pos,min,max){return min>pos?min:pos>max?max:pos},Plugin.prototype.setPosition=function(pos,callCb){var value,left;value=this.getValueFromPosition(this.cap(pos,0,this.maxHandleX)),left=this.getPositionFromValue(value),this.$fill[0].style.width=left+this.grabX+"px",this.$handle[0].style.left=left+"px",this.setValue(value),this.position=left,this.value=value,this.onSlide&&"function"==typeof this.onSlide&&"undefined"==typeof callCb&&this.onSlide(left,value)},Plugin.prototype.getPositionFromNode=function(node){for(var i=0;null!==node;)i+=node.offsetLeft,node=node.offsetParent;return i},Plugin.prototype.getRelativePosition=function(e){var rangeX=this.$range[0].getBoundingClientRect().left,pageX=0;return"undefined"!=typeof e.pageX?pageX=e.pageX:"undefined"!=typeof e.originalEvent.clientX?pageX=e.originalEvent.clientX:e.originalEvent.touches&&e.originalEvent.touches[0]&&"undefined"!=typeof e.originalEvent.touches[0].clientX?pageX=e.originalEvent.touches[0].clientX:e.currentPoint&&"undefined"!=typeof e.currentPoint.x&&(pageX=e.currentPoint.x),pageX-rangeX},Plugin.prototype.getPositionFromValue=function(value){var percentage,pos;return percentage=(value-this.min)/(this.max-this.min),pos=percentage*this.maxHandleX},Plugin.prototype.getValueFromPosition=function(pos){var percentage,value;return percentage=pos/(this.maxHandleX||1),value=this.step*Math.round(percentage*(this.max-this.min)/this.step)+this.min,Number(value.toFixed(this.toFixed))},Plugin.prototype.setValue=function(value){value!==this.value&&this.$element.val(value).trigger("input",{origin:this.identifier})},Plugin.prototype.destroy=function(){this.$document.off("."+this.identifier),this.$window.off("."+this.identifier),this.$element.off("."+this.identifier).removeAttr("style").removeData("plugin_"+pluginName),this.$range&&this.$range.length&&this.$range[0].parentNode.removeChild(this.$range[0])},$.fn[pluginName]=function(options){var args=Array.prototype.slice.call(arguments,1);return this.each(function(){var $this=$(this),data=$this.data("plugin_"+pluginName);data||$this.data("plugin_"+pluginName,data=new Plugin(this,options)),"string"==typeof options&&data[options].apply(data,args)})}})},{}],20:[function(require,module,exports){!function(Highcharts,UNDEFINED){function Pane(options,chart,firstAxis){this.init.call(this,options,chart,firstAxis)}var arrayMin=Highcharts.arrayMin,arrayMax=Highcharts.arrayMax,each=Highcharts.each,extend=Highcharts.extend,merge=Highcharts.merge,map=Highcharts.map,pick=Highcharts.pick,pInt=Highcharts.pInt,defaultPlotOptions=Highcharts.getOptions().plotOptions,seriesTypes=Highcharts.seriesTypes,extendClass=Highcharts.extendClass,splat=Highcharts.splat,wrap=Highcharts.wrap,Axis=Highcharts.Axis,Tick=Highcharts.Tick,Point=Highcharts.Point,Pointer=Highcharts.Pointer,CenteredSeriesMixin=Highcharts.CenteredSeriesMixin,TrackerMixin=Highcharts.TrackerMixin,Series=Highcharts.Series,math=Math,mathRound=math.round,mathFloor=math.floor,mathMax=math.max,Color=Highcharts.Color,noop=function(){};extend(Pane.prototype,{init:function(options,chart,firstAxis){var backgroundOption,pane=this,defaultOptions=pane.defaultOptions;pane.chart=chart,chart.angular&&(defaultOptions.background={}),pane.options=options=merge(defaultOptions,options),backgroundOption=options.background,backgroundOption&&each([].concat(splat(backgroundOption)).reverse(),function(config){var backgroundColor=config.backgroundColor,axisUserOptions=firstAxis.userOptions;config=merge(pane.defaultBackgroundOptions,config),backgroundColor&&(config.backgroundColor=backgroundColor),config.color=config.backgroundColor,firstAxis.options.plotBands.unshift(config),axisUserOptions.plotBands=axisUserOptions.plotBands||[],axisUserOptions.plotBands.unshift(config)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var axisProto=Axis.prototype,tickProto=Tick.prototype,hiddenAxisMixin={getOffset:noop,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:noop,setCategories:noop,setTitle:noop},radialAxisMixin={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(userOptions){var options=this.options=merge(this.defaultOptions,this.defaultRadialOptions,userOptions);options.plotBands||(options.plotBands=[])},getOffset:function(){axisProto.getOffset.call(this),this.chart.axisOffset[this.side]=0,this.center=this.pane.center=CenteredSeriesMixin.getCenter.call(this.pane)},getLinePath:function(lineWidth,radius){var center=this.center;return radius=pick(radius,center[2]/2-this.offset),this.chart.renderer.symbols.arc(this.left+center[0],this.top+center[1],radius,radius,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){axisProto.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){axisProto.setAxisSize.call(this),this.isRadial&&(this.center=this.pane.center=Highcharts.CenteredSeriesMixin.getCenter.call(this.pane),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*pick(this.sector,1)/2)},getPosition:function(value,length){return this.postTranslate(this.isCircular?this.translate(value):0,pick(this.isCircular?length:this.translate(value),this.center[2]/2)-this.offset)},postTranslate:function(angle,radius){var chart=this.chart,center=this.center;return angle=this.startAngleRad+angle,{x:chart.plotLeft+center[0]+Math.cos(angle)*radius,y:chart.plotTop+center[1]+Math.sin(angle)*radius}},getPlotBandPath:function(from,to,options){var start,end,open,ret,center=this.center,startAngleRad=this.startAngleRad,fullRadius=center[2]/2,radii=[pick(options.outerRadius,"100%"),options.innerRadius,pick(options.thickness,10)],percentRegex=/%$/,isCircular=this.isCircular;return"polygon"===this.options.gridLineInterpolation?ret=this.getPlotLinePath(from).concat(this.getPlotLinePath(to,!0)):(from=Math.max(from,this.min),to=Math.min(to,this.max),isCircular||(radii[0]=this.translate(from),radii[1]=this.translate(to)),radii=map(radii,function(radius){return percentRegex.test(radius)&&(radius=pInt(radius,10)*fullRadius/100),radius}),"circle"!==options.shape&&isCircular?(start=startAngleRad+this.translate(from),end=startAngleRad+this.translate(to)):(start=-Math.PI/2,end=1.5*Math.PI,open=!0),ret=this.chart.renderer.symbols.arc(this.left+center[0],this.top+center[1],radii[0],radii[0],{start:Math.min(start,end),end:Math.max(start,end),innerR:pick(radii[1],radii[0]-radii[2]),open:open})),ret},getPlotLinePath:function(value,reverse){var xAxis,xy,tickPositions,ret,axis=this,center=axis.center,chart=axis.chart,end=axis.getPosition(value);return axis.isCircular?ret=["M",center[0]+chart.plotLeft,center[1]+chart.plotTop,"L",end.x,end.y]:"circle"===axis.options.gridLineInterpolation?(value=axis.translate(value),value&&(ret=axis.getLinePath(0,value))):(each(chart.xAxis,function(a){a.pane===axis.pane&&(xAxis=a)}),ret=[],value=axis.translate(value),tickPositions=xAxis.tickPositions,xAxis.autoConnect&&(tickPositions=tickPositions.concat([tickPositions[0]])),reverse&&(tickPositions=[].concat(tickPositions).reverse()),each(tickPositions,function(pos,i){xy=xAxis.getPosition(pos,value),ret.push(i?"L":"M",xy.x,xy.y)})),ret},getTitlePosition:function(){var center=this.center,chart=this.chart,titleOptions=this.options.title;return{x:chart.plotLeft+center[0]+(titleOptions.x||0),y:chart.plotTop+center[1]-{high:.5,middle:.25,low:0}[titleOptions.align]*center[2]+(titleOptions.y||0)}}};wrap(axisProto,"init",function(proceed,chart,userOptions){var isCircular,startAngleRad,endAngleRad,options,pane,paneOptions,axis=this,angular=chart.angular,polar=chart.polar,isX=userOptions.isX,isHidden=angular&&isX,chartOptions=chart.options,paneIndex=userOptions.pane||0;angular?(extend(this,isHidden?hiddenAxisMixin:radialAxisMixin),isCircular=!isX,isCircular&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):polar&&(extend(this,radialAxisMixin),isCircular=isX,this.defaultRadialOptions=isX?this.defaultRadialXOptions:merge(this.defaultYAxisOptions,this.defaultRadialYOptions)),proceed.call(this,chart,userOptions),isHidden||!angular&&!polar||(options=this.options,chart.panes||(chart.panes=[]),this.pane=pane=chart.panes[paneIndex]=chart.panes[paneIndex]||new Pane(splat(chartOptions.pane)[paneIndex],chart,axis),paneOptions=pane.options,chart.inverted=!1,chartOptions.chart.zoomType=null,this.startAngleRad=startAngleRad=(paneOptions.startAngle-90)*Math.PI/180,this.endAngleRad=endAngleRad=(pick(paneOptions.endAngle,paneOptions.startAngle+360)-90)*Math.PI/180,this.offset=options.offset||0,this.isCircular=isCircular,isCircular&&userOptions.max===UNDEFINED&&endAngleRad-startAngleRad===2*Math.PI&&(this.autoConnect=!0))}),wrap(tickProto,"getPosition",function(proceed,horiz,pos,tickmarkOffset,old){var axis=this.axis;return axis.getPosition?axis.getPosition(pos):proceed.call(this,horiz,pos,tickmarkOffset,old)}),wrap(tickProto,"getLabelPosition",function(proceed,x,y,label,horiz,labelOptions,tickmarkOffset,index,step){var ret,axis=this.axis,optionsY=labelOptions.y,centerSlot=20,align=labelOptions.align,angle=(axis.translate(this.pos)+axis.startAngleRad+Math.PI/2)/Math.PI*180%360;return axis.isRadial?(ret=axis.getPosition(this.pos,axis.center[2]/2+pick(labelOptions.distance,-25)),"auto"===labelOptions.rotation?label.attr({rotation:angle}):null===optionsY&&(optionsY=axis.chart.renderer.fontMetrics(label.styles.fontSize).b-label.getBBox().height/2),null===align&&(axis.isCircular?(this.label.getBBox().width>axis.len*axis.tickInterval/(axis.max-axis.min)&&(centerSlot=0),align=angle>centerSlot&&180-centerSlot>angle?"left":angle>180+centerSlot&&360-centerSlot>angle?"right":"center"):align="center",label.attr({align:align})),ret.x+=labelOptions.x,ret.y+=optionsY):ret=proceed.call(this,x,y,label,horiz,labelOptions,tickmarkOffset,index,step),ret}),wrap(tickProto,"getMarkPath",function(proceed,x,y,tickLength,tickWidth,horiz,renderer){var endPoint,ret,axis=this.axis;return axis.isRadial?(endPoint=axis.getPosition(this.pos,axis.center[2]/2+tickLength),ret=["M",x,y,"L",endPoint.x,endPoint.y]):ret=proceed.call(this,x,y,tickLength,tickWidth,horiz,renderer),ret}),defaultPlotOptions.arearange=merge(defaultPlotOptions.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}}),seriesTypes.arearange=extendClass(seriesTypes.area,{type:"arearange",pointArrayMap:["low","high"],toYData:function(point){return[point.low,point.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(point){var chart=this.chart,xy=this.xAxis.postTranslate(point.rectPlotX,this.yAxis.len-point.plotHigh);point.plotHighX=xy.x-chart.plotLeft,point.plotHigh=xy.y-chart.plotTop},getSegments:function(){var series=this;each(series.points,function(point){series.options.connectNulls||null!==point.low&&null!==point.high?null===point.low&&null!==point.high&&(point.y=point.high):point.y=null}),Series.prototype.getSegments.call(this)},translate:function(){var series=this,yAxis=series.yAxis;seriesTypes.area.prototype.translate.apply(series),each(series.points,function(point){var low=point.low,high=point.high,plotY=point.plotY;null===high&&null===low?point.y=null:null===low?(point.plotLow=point.plotY=null,point.plotHigh=yAxis.translate(high,0,1,0,1)):null===high?(point.plotLow=plotY,point.plotHigh=null):(point.plotLow=plotY,point.plotHigh=yAxis.translate(high,0,1,0,1))}),this.chart.polar&&each(this.points,function(point){series.highToXY(point)})},getSegmentPath:function(segment){var lowSegment,point,linePath,lowerPath,higherPath,highSegment=[],i=segment.length,baseGetSegmentPath=Series.prototype.getSegmentPath,options=this.options,step=options.step;for(lowSegment=HighchartsAdapter.grep(segment,function(point){return null!==point.plotLow});i--;)point=segment[i],null!==point.plotHigh&&highSegment.push({plotX:point.plotHighX||point.plotX,plotY:point.plotHigh});return lowerPath=baseGetSegmentPath.call(this,lowSegment),step&&(step===!0&&(step="left"),options.step={left:"right",center:"center",right:"left"}[step]),higherPath=baseGetSegmentPath.call(this,highSegment),options.step=step,linePath=[].concat(lowerPath,higherPath),this.chart.polar||(higherPath[0]="L"),this.areaPath=this.areaPath.concat(lowerPath,higherPath),linePath},drawDataLabels:function(){var i,point,up,data=this.data,length=data.length,originalDataLabels=[],seriesProto=Series.prototype,dataLabelOptions=this.options.dataLabels,align=dataLabelOptions.align,inverted=this.chart.inverted;if(dataLabelOptions.enabled||this._hasPointLabels){for(i=length;i--;)point=data[i],up=point.plotHigh>point.plotLow,point.y=point.high,point._plotY=point.plotY,point.plotY=point.plotHigh,originalDataLabels[i]=point.dataLabel,point.dataLabel=point.dataLabelUpper,point.below=up,inverted?(align||(dataLabelOptions.align=up?"right":"left"),dataLabelOptions.x=dataLabelOptions.xHigh):dataLabelOptions.y=dataLabelOptions.yHigh;for(seriesProto.drawDataLabels&&seriesProto.drawDataLabels.apply(this,arguments),i=length;i--;)point=data[i],up=point.plotHigh>point.plotLow,point.dataLabelUpper=point.dataLabel,point.dataLabel=originalDataLabels[i],point.y=point.low,point.plotY=point._plotY,point.below=!up,inverted?(align||(dataLabelOptions.align=up?"left":"right"),dataLabelOptions.x=dataLabelOptions.xLow):dataLabelOptions.y=dataLabelOptions.yLow;seriesProto.drawDataLabels&&seriesProto.drawDataLabels.apply(this,arguments)}dataLabelOptions.align=align},alignDataLabel:function(){seriesTypes.column.prototype.alignDataLabel.apply(this,arguments)},setStackedPoints:noop,getSymbol:noop,drawPoints:noop}),defaultPlotOptions.areasplinerange=merge(defaultPlotOptions.arearange),seriesTypes.areasplinerange=extendClass(seriesTypes.arearange,{type:"areasplinerange",getPointSpline:seriesTypes.spline.prototype.getPointSpline}),function(){var colProto=seriesTypes.column.prototype;defaultPlotOptions.columnrange=merge(defaultPlotOptions.column,defaultPlotOptions.arearange,{lineWidth:1,pointRange:null}),seriesTypes.columnrange=extendClass(seriesTypes.arearange,{type:"columnrange",translate:function(){var plotHigh,series=this,yAxis=series.yAxis;colProto.translate.apply(series),each(series.points,function(point){var heightDifference,height,y,shapeArgs=point.shapeArgs,minPointLength=series.options.minPointLength;point.tooltipPos=null,point.plotHigh=plotHigh=yAxis.translate(point.high,0,1,0,1),point.plotLow=point.plotY,y=plotHigh,height=point.plotY-plotHigh,Math.abs(height)<minPointLength?(heightDifference=minPointLength-height,height+=heightDifference,y-=heightDifference/2):0>height&&(height*=-1,y-=height),shapeArgs.height=height,shapeArgs.y=y})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:noop,pointAttrToOptions:colProto.pointAttrToOptions,drawPoints:colProto.drawPoints,drawTracker:colProto.drawTracker,animate:colProto.animate,getColumnMetrics:colProto.getColumnMetrics})}(),defaultPlotOptions.gauge=merge(defaultPlotOptions.line,{dataLabels:{enabled:!0,defer:!1,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1});var GaugePoint=extendClass(Point,{setState:function(state){this.state=state}}),GaugeSeries={type:"gauge",pointClass:GaugePoint,angular:!0,drawGraph:noop,fixedBox:!0,forceDL:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var series=this,yAxis=series.yAxis,options=series.options,center=yAxis.center;series.generatePoints(),each(series.points,function(point){var dialOptions=merge(options.dial,point.dial),radius=pInt(pick(dialOptions.radius,80))*center[2]/200,baseLength=pInt(pick(dialOptions.baseLength,70))*radius/100,rearLength=pInt(pick(dialOptions.rearLength,10))*radius/100,baseWidth=dialOptions.baseWidth||3,topWidth=dialOptions.topWidth||1,overshoot=options.overshoot,rotation=yAxis.startAngleRad+yAxis.translate(point.y,null,null,null,!0);overshoot&&"number"==typeof overshoot?(overshoot=overshoot/180*Math.PI,rotation=Math.max(yAxis.startAngleRad-overshoot,Math.min(yAxis.endAngleRad+overshoot,rotation))):options.wrap===!1&&(rotation=Math.max(yAxis.startAngleRad,Math.min(yAxis.endAngleRad,rotation))),rotation=180*rotation/Math.PI,point.shapeType="path",point.shapeArgs={d:dialOptions.path||["M",-rearLength,-baseWidth/2,"L",baseLength,-baseWidth/2,radius,-topWidth/2,radius,topWidth/2,baseLength,baseWidth/2,-rearLength,baseWidth/2,"z"],translateX:center[0],translateY:center[1],rotation:rotation},point.plotX=center[0],point.plotY=center[1]})},drawPoints:function(){var series=this,center=series.yAxis.center,pivot=series.pivot,options=series.options,pivotOptions=options.pivot,renderer=series.chart.renderer;each(series.points,function(point){var graphic=point.graphic,shapeArgs=point.shapeArgs,d=shapeArgs.d,dialOptions=merge(options.dial,point.dial);graphic?(graphic.animate(shapeArgs),shapeArgs.d=d):point.graphic=renderer[point.shapeType](shapeArgs).attr({stroke:dialOptions.borderColor||"none","stroke-width":dialOptions.borderWidth||0,fill:dialOptions.backgroundColor||"black",rotation:shapeArgs.rotation}).add(series.group)}),pivot?pivot.animate({translateX:center[0],translateY:center[1]}):series.pivot=renderer.circle(0,0,pick(pivotOptions.radius,5)).attr({"stroke-width":pivotOptions.borderWidth||0,stroke:pivotOptions.borderColor||"silver",fill:pivotOptions.backgroundColor||"black"}).translate(center[0],center[1]).add(series.group)},animate:function(init){var series=this;init||(each(series.points,function(point){var graphic=point.graphic;graphic&&(graphic.attr({rotation:180*series.yAxis.startAngleRad/Math.PI}),graphic.animate({rotation:point.shapeArgs.rotation},series.options.animation))}),series.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),Series.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(data,redraw){Series.prototype.setData.call(this,data,!1),this.processData(),this.generatePoints(),pick(redraw,!0)&&this.chart.redraw()},drawTracker:TrackerMixin&&TrackerMixin.drawTrackerPoint};seriesTypes.gauge=extendClass(seriesTypes.line,GaugeSeries),defaultPlotOptions.boxplot=merge(defaultPlotOptions.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",whiskerWidth:2}),seriesTypes.boxplot=extendClass(seriesTypes.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(point){return[point.low,point.q1,point.median,point.q3,point.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:noop,translate:function(){var series=this,yAxis=series.yAxis,pointArrayMap=series.pointArrayMap;seriesTypes.column.prototype.translate.apply(series),each(series.points,function(point){each(pointArrayMap,function(key){null!==point[key]&&(point[key+"Plot"]=yAxis.translate(point[key],0,1,0,1))})})},drawPoints:function(){var pointAttr,q1Plot,q3Plot,highPlot,lowPlot,medianPlot,crispCorr,crispX,graphic,stemPath,stemAttr,boxPath,whiskersPath,whiskersAttr,medianPath,medianAttr,width,left,right,halfWidth,shapeArgs,color,series=this,points=series.points,options=series.options,chart=series.chart,renderer=chart.renderer,doQuartiles=series.doQuartiles!==!1,whiskerLength=parseInt(series.options.whiskerLength,10)/100;each(points,function(point){graphic=point.graphic,shapeArgs=point.shapeArgs,stemAttr={},whiskersAttr={},medianAttr={},color=point.color||series.color,point.plotY!==UNDEFINED&&(pointAttr=point.pointAttr[point.selected?"selected":""],width=shapeArgs.width,left=mathFloor(shapeArgs.x),right=left+width,halfWidth=mathRound(width/2),q1Plot=mathFloor(doQuartiles?point.q1Plot:point.lowPlot),q3Plot=mathFloor(doQuartiles?point.q3Plot:point.lowPlot),highPlot=mathFloor(point.highPlot),lowPlot=mathFloor(point.lowPlot),stemAttr.stroke=point.stemColor||options.stemColor||color,stemAttr["stroke-width"]=pick(point.stemWidth,options.stemWidth,options.lineWidth),stemAttr.dashstyle=point.stemDashStyle||options.stemDashStyle,whiskersAttr.stroke=point.whiskerColor||options.whiskerColor||color,whiskersAttr["stroke-width"]=pick(point.whiskerWidth,options.whiskerWidth,options.lineWidth),medianAttr.stroke=point.medianColor||options.medianColor||color,medianAttr["stroke-width"]=pick(point.medianWidth,options.medianWidth,options.lineWidth),crispCorr=stemAttr["stroke-width"]%2/2,crispX=left+halfWidth+crispCorr,stemPath=["M",crispX,q3Plot,"L",crispX,highPlot,"M",crispX,q1Plot,"L",crispX,lowPlot],doQuartiles&&(crispCorr=pointAttr["stroke-width"]%2/2,crispX=mathFloor(crispX)+crispCorr,q1Plot=mathFloor(q1Plot)+crispCorr,q3Plot=mathFloor(q3Plot)+crispCorr,left+=crispCorr,right+=crispCorr,boxPath=["M",left,q3Plot,"L",left,q1Plot,"L",right,q1Plot,"L",right,q3Plot,"L",left,q3Plot,"z"]),whiskerLength&&(crispCorr=whiskersAttr["stroke-width"]%2/2,highPlot+=crispCorr,lowPlot+=crispCorr,whiskersPath=["M",crispX-halfWidth*whiskerLength,highPlot,"L",crispX+halfWidth*whiskerLength,highPlot,"M",crispX-halfWidth*whiskerLength,lowPlot,"L",crispX+halfWidth*whiskerLength,lowPlot]),crispCorr=medianAttr["stroke-width"]%2/2,medianPlot=mathRound(point.medianPlot)+crispCorr,medianPath=["M",left,medianPlot,"L",right,medianPlot],graphic?(point.stem.animate({d:stemPath}),whiskerLength&&point.whiskers.animate({d:whiskersPath}),doQuartiles&&point.box.animate({d:boxPath}),point.medianShape.animate({d:medianPath})):(point.graphic=graphic=renderer.g().add(series.group),point.stem=renderer.path(stemPath).attr(stemAttr).add(graphic),whiskerLength&&(point.whiskers=renderer.path(whiskersPath).attr(whiskersAttr).add(graphic)),doQuartiles&&(point.box=renderer.path(boxPath).attr(pointAttr).add(graphic)),point.medianShape=renderer.path(medianPath).attr(medianAttr).add(graphic)))})},setStackedPoints:noop}),defaultPlotOptions.errorbar=merge(defaultPlotOptions.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}),seriesTypes.errorbar=extendClass(seriesTypes.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(point){return[point.low,point.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:seriesTypes.arearange?seriesTypes.arearange.prototype.drawDataLabels:noop,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||seriesTypes.column.prototype.getColumnMetrics.call(this)}}),defaultPlotOptions.waterfall=merge(defaultPlotOptions.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333",dataLabels:{inside:!0},states:{hover:{lineWidthPlus:0}}}),seriesTypes.waterfall=extendClass(seriesTypes.column,{type:"waterfall",upColorProp:"fill",pointValKey:"y",translate:function(){var len,i,points,point,shapeArgs,stack,y,yValue,previousY,previousIntermediate,range,tooltipY,series=this,options=series.options,yAxis=series.yAxis,threshold=options.threshold,stacking=options.stacking;

for(seriesTypes.column.prototype.translate.apply(this),previousY=previousIntermediate=threshold,points=series.points,i=0,len=points.length;len>i;i++)point=points[i],yValue=this.processedYData[i],shapeArgs=point.shapeArgs,stack=stacking&&yAxis.stacks[(series.negStacks&&threshold>yValue?"-":"")+series.stackKey],range=stack?stack[point.x].points[series.index+","+i]:[0,yValue],point.isSum?point.y=yValue:point.isIntermediateSum&&(point.y=yValue-previousIntermediate),y=mathMax(previousY,previousY+point.y)+range[0],shapeArgs.y=yAxis.translate(y,0,1),point.isSum?(shapeArgs.y=yAxis.translate(range[1],0,1),shapeArgs.height=Math.min(yAxis.translate(range[0],0,1),yAxis.len)-shapeArgs.y):point.isIntermediateSum?(shapeArgs.y=yAxis.translate(range[1],0,1),shapeArgs.height=Math.min(yAxis.translate(previousIntermediate,0,1),yAxis.len)-shapeArgs.y,previousIntermediate=range[1]):(0!==previousY&&(shapeArgs.height=yValue>0?yAxis.translate(previousY,0,1)-shapeArgs.y:yAxis.translate(previousY,0,1)-yAxis.translate(previousY-yValue,0,1)),previousY+=yValue),shapeArgs.height<0&&(shapeArgs.y+=shapeArgs.height,shapeArgs.height*=-1),point.plotY=shapeArgs.y=mathRound(shapeArgs.y)-series.borderWidth%2/2,shapeArgs.height=mathMax(mathRound(shapeArgs.height),.001),point.yBottom=shapeArgs.y+shapeArgs.height,tooltipY=point.plotY+(point.negative?shapeArgs.height:0),series.chart.inverted?point.tooltipPos[0]=yAxis.len-tooltipY:point.tooltipPos[1]=tooltipY},processData:function(force){var point,subSum,sum,dataMin,dataMax,y,i,series=this,options=series.options,yData=series.yData,points=series.options.data,dataLength=yData.length,threshold=options.threshold||0;for(sum=subSum=dataMin=dataMax=threshold,i=0;dataLength>i;i++)y=yData[i],point=points&&points[i]?points[i]:{},"sum"===y||point.isSum?yData[i]=sum:"intermediateSum"===y||point.isIntermediateSum?yData[i]=subSum:(sum+=y,subSum+=y),dataMin=Math.min(sum,dataMin),dataMax=Math.max(sum,dataMax);Series.prototype.processData.call(this,force),series.dataMin=dataMin,series.dataMax=dataMax},toYData:function(pt){return pt.isSum?0===pt.x?null:"sum":pt.isIntermediateSum?0===pt.x?null:"intermediateSum":pt.y},getAttribs:function(){seriesTypes.column.prototype.getAttribs.apply(this,arguments);var series=this,options=series.options,stateOptions=options.states,upColor=options.upColor||series.color,hoverColor=Highcharts.Color(upColor).brighten(.1).get(),seriesDownPointAttr=merge(series.pointAttr),upColorProp=series.upColorProp;seriesDownPointAttr[""][upColorProp]=upColor,seriesDownPointAttr.hover[upColorProp]=stateOptions.hover.upColor||hoverColor,seriesDownPointAttr.select[upColorProp]=stateOptions.select.upColor||upColor,each(series.points,function(point){point.options.color||(point.y>0?(point.pointAttr=seriesDownPointAttr,point.color=upColor):point.pointAttr=series.pointAttr)})},getGraphPath:function(){var prevArgs,pointArgs,i,d,data=this.data,length=data.length,lineWidth=this.options.lineWidth+this.borderWidth,normalizer=mathRound(lineWidth)%2/2,path=[],M="M",L="L";for(i=1;length>i;i++)pointArgs=data[i].shapeArgs,prevArgs=data[i-1].shapeArgs,d=[M,prevArgs.x+prevArgs.width,prevArgs.y+normalizer,L,pointArgs.x,prevArgs.y+normalizer],data[i-1].y<0&&(d[2]+=prevArgs.height,d[5]+=prevArgs.height),path=path.concat(d);return path},getExtremes:noop,drawGraph:Series.prototype.drawGraph}),defaultPlotOptions.polygon=merge(defaultPlotOptions.scatter,{marker:{enabled:!1}}),seriesTypes.polygon=extendClass(seriesTypes.scatter,{type:"polygon",fillGraph:!0,getSegmentPath:function(segment){return Series.prototype.getSegmentPath.call(this,segment).concat("z")},drawGraph:Series.prototype.drawGraph,drawLegendSymbol:Highcharts.LegendSymbolMixin.drawRectangle}),defaultPlotOptions.bubble=merge(defaultPlotOptions.scatter,{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"});var BubblePoint=extendClass(Point,{haloPath:function(){return Point.prototype.haloPath.call(this,this.shapeArgs.r+this.series.options.states.hover.halo.size)},ttBelow:!1});seriesTypes.bubble=extendClass(seriesTypes.scatter,{type:"bubble",pointClass:BubblePoint,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,zoneAxis:"z",pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(fill){var markerOptions=this.options.marker,fillOpacity=pick(markerOptions.fillOpacity,.5);return fill=fill||markerOptions.fillColor||this.color,1!==fillOpacity&&(fill=Color(fill).setOpacity(fillOpacity).get("rgba")),fill},convertAttribs:function(){var obj=Series.prototype.convertAttribs.apply(this,arguments);return obj.fill=this.applyOpacity(obj.fill),obj},getRadii:function(zMin,zMax,minSize,maxSize){var len,i,pos,zRange,zData=this.zData,radii=[],sizeByArea="width"!==this.options.sizeBy;for(i=0,len=zData.length;len>i;i++)zRange=zMax-zMin,pos=zRange>0?(zData[i]-zMin)/(zMax-zMin):.5,sizeByArea&&pos>=0&&(pos=Math.sqrt(pos)),radii.push(math.ceil(minSize+pos*(maxSize-minSize))/2);this.radii=radii},animate:function(init){var animation=this.options.animation;init||(each(this.points,function(point){var graphic=point.graphic,shapeArgs=point.shapeArgs;graphic&&shapeArgs&&(graphic.attr("r",1),graphic.animate({r:shapeArgs.r},animation))}),this.animate=null)},translate:function(){var i,point,radius,data=this.data,radii=this.radii;for(seriesTypes.scatter.prototype.translate.call(this),i=data.length;i--;)point=data[i],radius=radii?radii[i]:0,radius>=this.minPxSize/2?(point.shapeType="circle",point.shapeArgs={x:point.plotX,y:point.plotY,r:radius},point.dlBox={x:point.plotX-radius,y:point.plotY-radius,width:2*radius,height:2*radius}):point.shapeArgs=point.plotY=point.dlBox=UNDEFINED},drawLegendSymbol:function(legend,item){var radius=pInt(legend.itemStyle.fontSize)/2;item.legendSymbol=this.chart.renderer.circle(radius,legend.baseline-radius,radius).attr({zIndex:3}).add(item.legendGroup),item.legendSymbol.isMarker=!0},drawPoints:seriesTypes.column.prototype.drawPoints,alignDataLabel:seriesTypes.column.prototype.alignDataLabel,buildKDTree:noop,applyZones:noop}),Axis.prototype.beforePadding=function(){var axis=this,axisLength=this.len,chart=this.chart,pxMin=0,pxMax=axisLength,isXAxis=this.isXAxis,dataKey=isXAxis?"xData":"yData",min=this.min,extremes={},smallestSize=math.min(chart.plotWidth,chart.plotHeight),zMin=Number.MAX_VALUE,zMax=-Number.MAX_VALUE,range=this.max-min,transA=axisLength/range,activeSeries=[];each(this.series,function(series){var zData,seriesOptions=series.options;!series.bubblePadding||!series.visible&&chart.options.chart.ignoreHiddenSeries||(axis.allowZoomOutside=!0,activeSeries.push(series),isXAxis&&(each(["minSize","maxSize"],function(prop){var length=seriesOptions[prop],isPercent=/%$/.test(length);length=pInt(length),extremes[prop]=isPercent?smallestSize*length/100:length}),series.minPxSize=extremes.minSize,zData=series.zData,zData.length&&(zMin=pick(seriesOptions.zMin,math.min(zMin,math.max(arrayMin(zData),seriesOptions.displayNegative===!1?seriesOptions.zThreshold:-Number.MAX_VALUE))),zMax=pick(seriesOptions.zMax,math.max(zMax,arrayMax(zData))))))}),each(activeSeries,function(series){var radius,data=series[dataKey],i=data.length;if(isXAxis&&series.getRadii(zMin,zMax,extremes.minSize,extremes.maxSize),range>0)for(;i--;)"number"==typeof data[i]&&(radius=series.radii[i],pxMin=Math.min((data[i]-min)*transA-radius,pxMin),pxMax=Math.max((data[i]-min)*transA+radius,pxMax))}),activeSeries.length&&range>0&&pick(this.options.min,this.userMin)===UNDEFINED&&pick(this.options.max,this.userMax)===UNDEFINED&&(pxMax-=axisLength,transA*=(axisLength+pxMin-pxMax)/axisLength,this.min+=pxMin/transA,this.max+=pxMax/transA)},function(){function initArea(proceed,chart,options){proceed.call(this,chart,options),this.chart.polar&&(this.closeSegment=function(path){var center=this.xAxis.center;path.push("L",center[0],center[1])},this.closedStacks=!0)}function polarAnimate(proceed,init){var attribs,chart=this.chart,animation=this.options.animation,group=this.group,markerGroup=this.markerGroup,center=this.xAxis.center,plotLeft=chart.plotLeft,plotTop=chart.plotTop;chart.polar?chart.renderer.isSVG&&(animation===!0&&(animation={}),init?(attribs={translateX:center[0]+plotLeft,translateY:center[1]+plotTop,scaleX:.001,scaleY:.001},group.attr(attribs),markerGroup&&markerGroup.attr(attribs)):(attribs={translateX:plotLeft,translateY:plotTop,scaleX:1,scaleY:1},group.animate(attribs,animation),markerGroup&&markerGroup.animate(attribs,animation),this.animate=null)):proceed.call(this,init)}var colProto,seriesProto=Series.prototype,pointerProto=Pointer.prototype;seriesProto.searchPointByAngle=function(e){var series=this,chart=series.chart,xAxis=series.xAxis,center=xAxis.pane.center,plotX=e.chartX-center[0]-chart.plotLeft,plotY=e.chartY-center[1]-chart.plotTop;return this.searchKDTree({clientX:180+Math.atan2(plotX,plotY)*(-180/Math.PI)})},wrap(seriesProto,"buildKDTree",function(proceed){this.chart.polar&&(this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.kdDimensions=2),proceed.apply(this)}),seriesProto.toXY=function(point){var xy,clientX,chart=this.chart,plotX=point.plotX,plotY=point.plotY;point.rectPlotX=plotX,point.rectPlotY=plotY,xy=this.xAxis.postTranslate(point.plotX,this.yAxis.len-plotY),point.plotX=point.polarPlotX=xy.x-chart.plotLeft,point.plotY=point.polarPlotY=xy.y-chart.plotTop,this.kdByAngle?(clientX=(plotX/Math.PI*180+this.xAxis.pane.options.startAngle)%360,0>clientX&&(clientX+=360),point.clientX=clientX):point.clientX=point.plotX},seriesTypes.area&&wrap(seriesTypes.area.prototype,"init",initArea),seriesTypes.areaspline&&wrap(seriesTypes.areaspline.prototype,"init",initArea),seriesTypes.spline&&wrap(seriesTypes.spline.prototype,"getPointSpline",function(proceed,segment,point,i){var ret,plotX,plotY,lastPoint,nextPoint,lastX,lastY,nextX,nextY,leftContX,leftContY,rightContX,rightContY,distanceLeftControlPoint,distanceRightControlPoint,leftContAngle,rightContAngle,jointAngle,smoothing=1.5,denom=smoothing+1;return this.chart.polar?(plotX=point.plotX,plotY=point.plotY,lastPoint=segment[i-1],nextPoint=segment[i+1],this.connectEnds&&(lastPoint||(lastPoint=segment[segment.length-2]),nextPoint||(nextPoint=segment[1])),lastPoint&&nextPoint&&(lastX=lastPoint.plotX,lastY=lastPoint.plotY,nextX=nextPoint.plotX,nextY=nextPoint.plotY,leftContX=(smoothing*plotX+lastX)/denom,leftContY=(smoothing*plotY+lastY)/denom,rightContX=(smoothing*plotX+nextX)/denom,rightContY=(smoothing*plotY+nextY)/denom,distanceLeftControlPoint=Math.sqrt(Math.pow(leftContX-plotX,2)+Math.pow(leftContY-plotY,2)),distanceRightControlPoint=Math.sqrt(Math.pow(rightContX-plotX,2)+Math.pow(rightContY-plotY,2)),leftContAngle=Math.atan2(leftContY-plotY,leftContX-plotX),rightContAngle=Math.atan2(rightContY-plotY,rightContX-plotX),jointAngle=Math.PI/2+(leftContAngle+rightContAngle)/2,Math.abs(leftContAngle-jointAngle)>Math.PI/2&&(jointAngle-=Math.PI),leftContX=plotX+Math.cos(jointAngle)*distanceLeftControlPoint,leftContY=plotY+Math.sin(jointAngle)*distanceLeftControlPoint,rightContX=plotX+Math.cos(Math.PI+jointAngle)*distanceRightControlPoint,rightContY=plotY+Math.sin(Math.PI+jointAngle)*distanceRightControlPoint,point.rightContX=rightContX,point.rightContY=rightContY),i?(ret=["C",lastPoint.rightContX||lastPoint.plotX,lastPoint.rightContY||lastPoint.plotY,leftContX||plotX,leftContY||plotY,plotX,plotY],lastPoint.rightContX=lastPoint.rightContY=null):ret=["M",plotX,plotY]):ret=proceed.call(this,segment,point,i),ret}),wrap(seriesProto,"translate",function(proceed){var points,i,chart=this.chart;if(proceed.call(this),chart.polar&&(this.kdByAngle=chart.tooltip&&chart.tooltip.shared,!this.preventPostTranslate))for(points=this.points,i=points.length;i--;)this.toXY(points[i])}),wrap(seriesProto,"getSegmentPath",function(proceed,segment){var points=this.points;return this.chart.polar&&this.options.connectEnds!==!1&&segment[segment.length-1]===points[points.length-1]&&null!==points[0].y&&(this.connectEnds=!0,segment=[].concat(segment,[points[0]])),proceed.call(this,segment)}),wrap(seriesProto,"animate",polarAnimate),seriesTypes.column&&(colProto=seriesTypes.column.prototype,wrap(colProto,"animate",polarAnimate),wrap(colProto,"translate",function(proceed){var start,points,point,i,xAxis=this.xAxis,len=this.yAxis.len,center=xAxis.center,startAngleRad=xAxis.startAngleRad,renderer=this.chart.renderer;if(this.preventPostTranslate=!0,proceed.call(this),xAxis.isRadial)for(points=this.points,i=points.length;i--;)point=points[i],start=point.barX+startAngleRad,point.shapeType="path",point.shapeArgs={d:renderer.symbols.arc(center[0],center[1],len-point.plotY,null,{start:start,end:start+point.pointWidth,innerR:len-pick(point.yBottom,len)})},this.toXY(point),point.tooltipPos=[point.plotX,point.plotY],point.ttBelow=point.plotY>center[1]}),wrap(colProto,"alignDataLabel",function(proceed,point,dataLabel,options,alignTo,isNew){if(this.chart.polar){var align,verticalAlign,angle=point.rectPlotX/Math.PI*180;null===options.align&&(align=angle>20&&160>angle?"left":angle>200&&340>angle?"right":"center",options.align=align),null===options.verticalAlign&&(verticalAlign=45>angle||angle>315?"bottom":angle>135&&225>angle?"top":"middle",options.verticalAlign=verticalAlign),seriesProto.alignDataLabel.call(this,point,dataLabel,options,alignTo,isNew)}else proceed.call(this,point,dataLabel,options,alignTo,isNew)})),wrap(pointerProto,"getCoordinates",function(proceed,e){var chart=this.chart,ret={xAxis:[],yAxis:[]};return chart.polar?each(chart.axes,function(axis){var isXAxis=axis.isXAxis,center=axis.center,x=e.chartX-center[0]-chart.plotLeft,y=e.chartY-center[1]-chart.plotTop;ret[isXAxis?"xAxis":"yAxis"].push({axis:axis,value:axis.translate(isXAxis?Math.PI-Math.atan2(x,y):Math.sqrt(Math.pow(x,2)+Math.pow(y,2)),!0)})}):ret=proceed.call(this,e),ret})}()}(Highcharts)},{}],21:[function(require,module,exports){!function(){function merge(){var i,len,args=arguments,ret={},doCopy=function(copy,original){var value,key;"object"!=typeof copy&&(copy={});for(key in original)original.hasOwnProperty(key)&&(value=original[key],copy[key]=value&&"object"==typeof value&&"[object Array]"!==Object.prototype.toString.call(value)&&"renderTo"!==key&&"number"!=typeof value.nodeType?doCopy(copy[key]||{},value):original[key]);return copy};for(args[0]===!0&&(ret=args[1],args=Array.prototype.slice.call(args,2)),len=args.length,i=0;len>i;i++)ret=doCopy(ret,args[i]);return ret}function pInt(s,mag){return parseInt(s,mag||10)}function isString(s){return"string"==typeof s}function isObject(obj){return obj&&"object"==typeof obj}function isArray(obj){return"[object Array]"===Object.prototype.toString.call(obj)}function isNumber(n){return"number"==typeof n}function log2lin(num){return math.log(num)/math.LN10}function lin2log(num){return math.pow(10,num)}function erase(arr,item){for(var i=arr.length;i--;)if(arr[i]===item){arr.splice(i,1);break}}function defined(obj){return obj!==UNDEFINED&&null!==obj}function attr(elem,prop,value){var key,ret;if(isString(prop))defined(value)?elem.setAttribute(prop,value):elem&&elem.getAttribute&&(ret=elem.getAttribute(prop));else if(defined(prop)&&isObject(prop))for(key in prop)elem.setAttribute(key,prop[key]);return ret}function splat(obj){return isArray(obj)?obj:[obj]}function css(el,styles){isIE&&!hasSVG&&styles&&styles.opacity!==UNDEFINED&&(styles.filter="alpha(opacity="+100*styles.opacity+")"),extend(el.style,styles)}function createElement(tag,attribs,styles,parent,nopad){var el=doc.createElement(tag);return attribs&&extend(el,attribs),nopad&&css(el,{padding:0,border:NONE,margin:0}),styles&&css(el,styles),parent&&parent.appendChild(el),el}function extendClass(parent,members){var object=function(){return UNDEFINED};return object.prototype=new parent,extend(object.prototype,members),object}function pad(number,length){return new Array((length||2)+1-String(number).length).join(0)+number}function relativeLength(value,base){return/%$/.test(value)?base*parseFloat(value)/100:parseFloat(value)}function getTZOffset(timestamp){return 6e4*(getTimezoneOffset&&getTimezoneOffset(timestamp)||timezoneOffset||0)}function formatSingle(format,val){var decimals,floatRegex=/f$/,decRegex=/\.([0-9])/,lang=defaultOptions.lang;return floatRegex.test(format)?(decimals=format.match(decRegex),decimals=decimals?decimals[1]:-1,null!==val&&(val=Highcharts.numberFormat(val,decimals,lang.decimalPoint,format.indexOf(",")>-1?lang.thousandsSep:""))):val=dateFormat(format,val),val}function format(str,ctx){for(var segment,valueAndFormat,path,i,len,val,index,splitter="{",isInside=!1,ret=[];-1!==(index=str.indexOf(splitter));){if(segment=str.slice(0,index),isInside){for(valueAndFormat=segment.split(":"),path=valueAndFormat.shift().split("."),len=path.length,val=ctx,i=0;len>i;i++)val=val[path[i]];valueAndFormat.length&&(val=formatSingle(valueAndFormat.join(":"),val)),ret.push(val)}else ret.push(segment);str=str.slice(index+1),isInside=!isInside,splitter=isInside?"}":"{"}return ret.push(str),ret.join("")}function getMagnitude(num){return math.pow(10,mathFloor(math.log(num)/math.LN10))}function normalizeTickInterval(interval,multiples,magnitude,allowDecimals,preventExceed){var normalized,i,retInterval=interval;for(magnitude=pick(magnitude,1),normalized=interval/magnitude,multiples||(multiples=[1,2,2.5,5,10],allowDecimals===!1&&(1===magnitude?multiples=[1,2,5,10]:.1>=magnitude&&(multiples=[1/magnitude]))),i=0;i<multiples.length&&(retInterval=multiples[i],!(preventExceed&&retInterval*magnitude>=interval||!preventExceed&&normalized<=(multiples[i]+(multiples[i+1]||multiples[i]))/2));i++);return retInterval*=magnitude}function stableSort(arr,sortFunction){var sortValue,i,length=arr.length;for(i=0;length>i;i++)arr[i].ss_i=i;for(arr.sort(function(a,b){return sortValue=sortFunction(a,b),0===sortValue?a.ss_i-b.ss_i:sortValue}),i=0;length>i;i++)delete arr[i].ss_i}function arrayMin(data){for(var i=data.length,min=data[0];i--;)data[i]<min&&(min=data[i]);return min}function arrayMax(data){for(var i=data.length,max=data[0];i--;)data[i]>max&&(max=data[i]);return max}function destroyObjectProperties(obj,except){var n;for(n in obj)obj[n]&&obj[n]!==except&&obj[n].destroy&&obj[n].destroy(),delete obj[n]}function discardElement(element){garbageBin||(garbageBin=createElement(DIV)),element&&garbageBin.appendChild(element),garbageBin.innerHTML=""}function error(code,stop){var msg="Highcharts error #"+code+": www.highcharts.com/errors/"+code;if(stop)throw msg;win.console&&console.log(msg)}function correctFloat(num){return parseFloat(num.toPrecision(14))}function setAnimation(animation,chart){globalAnimation=pick(animation,chart.animation)}function setTimeMethods(){var globalOptions=defaultOptions.global,useUTC=globalOptions.useUTC,GET=useUTC?"getUTC":"get",SET=useUTC?"setUTC":"set";Date=globalOptions.Date||window.Date,timezoneOffset=useUTC&&globalOptions.timezoneOffset,getTimezoneOffset=useUTC&&globalOptions.getTimezoneOffset,makeTime=function(year,month,date,hours,minutes,seconds){var d;return useUTC?(d=Date.UTC.apply(0,arguments),d+=getTZOffset(d)):d=new Date(year,month,pick(date,1),pick(hours,0),pick(minutes,0),pick(seconds,0)).getTime(),d},getMinutes=GET+"Minutes",getHours=GET+"Hours",getDay=GET+"Day",getDate=GET+"Date",getMonth=GET+"Month",getFullYear=GET+"FullYear",setMilliseconds=SET+"Milliseconds",setSeconds=SET+"Seconds",setMinutes=SET+"Minutes",setHours=SET+"Hours",setDate=SET+"Date",setMonth=SET+"Month",setFullYear=SET+"FullYear"}function setOptions(options){return defaultOptions=merge(!0,defaultOptions,options),setTimeMethods(),defaultOptions}function getOptions(){return defaultOptions}function SVGElement(){}function Tick(axis,pos,type,noLabel){this.axis=axis,this.pos=pos,this.type=type||"",this.isNew=!0,type||noLabel||this.addLabel()}function StackItem(axis,options,isNegative,x,stackOption){var inverted=axis.chart.inverted;this.axis=axis,this.isNegative=isNegative,this.options=options,this.x=x,this.total=null,this.points={},this.stack=stackOption,this.alignOptions={align:options.align||(inverted?isNegative?"left":"right":"center"),verticalAlign:options.verticalAlign||(inverted?"middle":isNegative?"bottom":"top"),y:pick(options.y,inverted?4:isNegative?14:-6),x:pick(options.x,inverted?isNegative?-6:6:0)},this.textAlign=options.textAlign||(inverted?isNegative?"right":"left":"center")}var UNDEFINED,Renderer,hasTouch,garbageBin,defaultOptions,dateFormat,globalAnimation,pathAnim,timeUnits,AxisPlotLineOrBandExtension,Date,makeTime,timezoneOffset,getTimezoneOffset,getMinutes,getHours,getDay,getDate,getMonth,getFullYear,setMilliseconds,setSeconds,setMinutes,setHours,setDate,setMonth,setFullYear,Highcharts,doc=document,win=window,math=Math,mathRound=math.round,mathFloor=math.floor,mathCeil=math.ceil,mathMax=math.max,mathMin=math.min,mathAbs=math.abs,mathCos=math.cos,mathSin=math.sin,mathPI=math.PI,deg2rad=2*mathPI/360,userAgent=navigator.userAgent,isOpera=win.opera,isIE=/(msie|trident)/i.test(userAgent)&&!isOpera,docMode8=8===doc.documentMode,isWebKit=/AppleWebKit/.test(userAgent),isFirefox=/Firefox/.test(userAgent),isTouchDevice=/(Mobile|Android|Windows Phone)/.test(userAgent),SVG_NS="http://www.w3.org/2000/svg",hasSVG=!!doc.createElementNS&&!!doc.createElementNS(SVG_NS,"svg").createSVGRect,hasBidiBug=isFirefox&&parseInt(userAgent.split("Firefox/")[1],10)<4,useCanVG=!hasSVG&&!isIE&&!!doc.createElement("canvas").getContext,symbolSizes={},idCounter=0,noop=function(){return UNDEFINED},charts=[],chartCount=0,PRODUCT="Highcharts",VERSION="4.1.6",DIV="div",ABSOLUTE="absolute",RELATIVE="relative",HIDDEN="hidden",PREFIX="highcharts-",VISIBLE="visible",PX="px",NONE="none",M="M",L="L",numRegex=/^[0-9]+$/,NORMAL_STATE="",HOVER_STATE="hover",SELECT_STATE="select",marginNames=["plotTop","marginRight","marginBottom","plotLeft"],STROKE_WIDTH="stroke-width",seriesTypes={};Highcharts=win.Highcharts=win.Highcharts?error(16,!0):{},Highcharts.seriesTypes=seriesTypes;var extend=Highcharts.extend=function(a,b){var n;a||(a={});for(n in b)a[n]=b[n];return a},pick=Highcharts.pick=function(){var i,arg,args=arguments,length=args.length;for(i=0;length>i;i++)if(arg=args[i],arg!==UNDEFINED&&null!==arg)return arg},wrap=Highcharts.wrap=function(obj,method,func){var proceed=obj[method];obj[method]=function(){var args=Array.prototype.slice.call(arguments);return args.unshift(proceed),func.apply(this,args)}};dateFormat=function(format,timestamp,capitalize){if(!defined(timestamp)||isNaN(timestamp))return"Invalid date";format=pick(format,"%Y-%m-%d %H:%M:%S");var key,date=new Date(timestamp-getTZOffset(timestamp)),hours=date[getHours](),day=date[getDay](),dayOfMonth=date[getDate](),month=date[getMonth](),fullYear=date[getFullYear](),lang=defaultOptions.lang,langWeekdays=lang.weekdays,replacements=extend({a:langWeekdays[day].substr(0,3),A:langWeekdays[day],d:pad(dayOfMonth),e:dayOfMonth,w:day,b:lang.shortMonths[month],B:lang.months[month],m:pad(month+1),y:fullYear.toString().substr(2,2),Y:fullYear,H:pad(hours),I:pad(hours%12||12),l:hours%12||12,M:pad(date[getMinutes]()),p:12>hours?"AM":"PM",P:12>hours?"am":"pm",S:pad(date.getSeconds()),L:pad(mathRound(timestamp%1e3),3)},Highcharts.dateFormats);for(key in replacements)for(;-1!==format.indexOf("%"+key);)format=format.replace("%"+key,"function"==typeof replacements[key]?replacements[key](timestamp):replacements[key]);return capitalize?format.substr(0,1).toUpperCase()+format.substr(1):format},timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},Highcharts.numberFormat=function(number,decimals,decPoint,thousandsSep){var lang=defaultOptions.lang,n=+number||0,c=-1===decimals?mathMin((n.toString().split(".")[1]||"").length,20):isNaN(decimals=mathAbs(decimals))?2:decimals,d=void 0===decPoint?lang.decimalPoint:decPoint,t=void 0===thousandsSep?lang.thousandsSep:thousandsSep,s=0>n?"-":"",i=String(pInt(n=mathAbs(n).toFixed(c))),j=i.length>3?i.length%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+mathAbs(n-i).toFixed(c).slice(2):"")},pathAnim={init:function(elem,fromD,toD){fromD=fromD||"";var endLength,slice,i,startBaseLine,endBaseLine,shift=elem.shift,bezier=fromD.indexOf("C")>-1,numParams=bezier?7:3,start=fromD.split(" "),end=[].concat(toD),sixify=function(arr){for(i=arr.length;i--;)arr[i]===M&&arr.splice(i+1,0,arr[i+1],arr[i+2],arr[i+1],arr[i+2])};if(bezier&&(sixify(start),sixify(end)),elem.isArea&&(startBaseLine=start.splice(start.length-6,6),endBaseLine=end.splice(end.length-6,6)),shift<=end.length/numParams&&start.length===end.length)for(;shift--;)end=[].concat(end).splice(0,numParams).concat(end);if(elem.shift=0,start.length)for(endLength=end.length;start.length<endLength;)slice=[].concat(start).splice(start.length-numParams,numParams),bezier&&(slice[numParams-6]=slice[numParams-2],slice[numParams-5]=slice[numParams-1]),start=start.concat(slice);return startBaseLine&&(start=start.concat(startBaseLine),end=end.concat(endBaseLine)),[start,end]},step:function(start,end,pos,complete){var startVal,ret=[],i=start.length;if(1===pos)ret=complete;else if(i===end.length&&1>pos)for(;i--;)startVal=parseFloat(start[i]),ret[i]=isNaN(startVal)?start[i]:pos*parseFloat(end[i]-startVal)+startVal;else ret=end;return ret}},function($){win.HighchartsAdapter=win.HighchartsAdapter||$&&{init:function(pathAnim){var Fx=$.fx;$.extend($.easing,{easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b}}),$.each(["cur","_default","width","height","opacity"],function(i,fn){var base,obj=Fx.step;"cur"===fn?obj=Fx.prototype:"_default"===fn&&$.Tween&&(obj=$.Tween.propHooks[fn],fn="set"),base=obj[fn],base&&(obj[fn]=function(fx){var elem;return fx=i?fx:this,"align"!==fx.prop?(elem=fx.elem,elem.attr?elem.attr(fx.prop,"cur"===fn?UNDEFINED:fx.now):base.apply(this,arguments)):void 0})}),wrap($.cssHooks.opacity,"get",function(proceed,elem,computed){return elem.attr?elem.opacity||0:proceed.call(this,elem,computed)}),this.addAnimSetter("d",function(fx){var ends,elem=fx.elem;fx.started||(ends=pathAnim.init(elem,elem.d,elem.toD),fx.start=ends[0],fx.end=ends[1],fx.started=!0),elem.attr("d",pathAnim.step(fx.start,fx.end,fx.pos,elem.toD))}),this.each=Array.prototype.forEach?function(arr,fn){return Array.prototype.forEach.call(arr,fn)}:function(arr,fn){var i,len=arr.length;for(i=0;len>i;i++)if(fn.call(arr[i],arr[i],i,arr)===!1)return i},$.fn.highcharts=function(){var options,ret,chart,constr="Chart",args=arguments;return this[0]&&(isString(args[0])&&(constr=args[0],args=Array.prototype.slice.call(args,1)),options=args[0],options!==UNDEFINED&&(options.chart=options.chart||{},options.chart.renderTo=this[0],chart=new Highcharts[constr](options,args[1]),ret=this),options===UNDEFINED&&(ret=charts[attr(this[0],"data-highcharts-chart")])),ret}},addAnimSetter:function(prop,setter){$.Tween?$.Tween.propHooks[prop]={set:setter}:$.fx.step[prop]=setter},getScript:$.getScript,inArray:$.inArray,adapterRun:function(elem,method){return $(elem)[method]()},grep:$.grep,map:function(arr,fn){for(var results=[],i=0,len=arr.length;len>i;i++)results[i]=fn.call(arr[i],arr[i],i,arr);return results},offset:function(el){return $(el).offset()},addEvent:function(el,event,fn){$(el).bind(event,fn)},removeEvent:function(el,eventType,handler){var func=doc.removeEventListener?"removeEventListener":"detachEvent";doc[func]&&el&&!el[func]&&(el[func]=function(){}),$(el).unbind(eventType,handler)},fireEvent:function(el,type,eventArguments,defaultFunction){var defaultPrevented,event=$.Event(type),detachedType="detached"+type;!isIE&&eventArguments&&(delete eventArguments.layerX,delete eventArguments.layerY,delete eventArguments.returnValue),extend(event,eventArguments),el[type]&&(el[detachedType]=el[type],el[type]=null),$.each(["preventDefault","stopPropagation"],function(i,fn){var base=event[fn];event[fn]=function(){try{base.call(event)}catch(e){"preventDefault"===fn&&(defaultPrevented=!0)}}}),$(el).trigger(event),el[detachedType]&&(el[type]=el[detachedType],el[detachedType]=null),!defaultFunction||event.isDefaultPrevented()||defaultPrevented||defaultFunction(event)},washMouseEvent:function(e){var ret=e.originalEvent||e;return ret.pageX===UNDEFINED&&(ret.pageX=e.pageX,ret.pageY=e.pageY),ret},animate:function(el,params,options){var $el=$(el);el.style||(el.style={}),params.d&&(el.toD=params.d,params.d=1),$el.stop(),params.opacity!==UNDEFINED&&el.attr&&(params.opacity+="px"),el.hasAnim=1,$el.animate(params,options)},stop:function(el){el.hasAnim&&$(el).stop()}}}(win.jQuery);var globalAdapter=win.HighchartsAdapter,adapter=globalAdapter||{};globalAdapter&&globalAdapter.init.call(globalAdapter,pathAnim);var adapterRun=adapter.adapterRun,getScript=adapter.getScript,inArray=adapter.inArray,each=Highcharts.each=adapter.each,grep=adapter.grep,offset=adapter.offset,map=adapter.map,addEvent=adapter.addEvent,removeEvent=adapter.removeEvent,fireEvent=adapter.fireEvent,washMouseEvent=adapter.washMouseEvent,animate=adapter.animate,stop=adapter.stop;defaultOptions={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.1.6/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.1.6/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":Highcharts.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:ABSOLUTE,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:ABSOLUTE,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:RELATIVE,top:"45%"},style:{position:ABSOLUTE,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:hasSVG,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",
day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:isTouchDevice?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var defaultPlotOptions=defaultOptions.plotOptions,defaultSeriesOptions=defaultPlotOptions.line;setTimeMethods();var rgbaRegEx=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,hexRegEx=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,rgbRegEx=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,Color=function(input){function init(input){input&&input.stops?stops=map(input.stops,function(stop){return Color(stop[1])}):(result=rgbaRegEx.exec(input),result?rgba=[pInt(result[1]),pInt(result[2]),pInt(result[3]),parseFloat(result[4],10)]:(result=hexRegEx.exec(input),result?rgba=[pInt(result[1],16),pInt(result[2],16),pInt(result[3],16),1]:(result=rgbRegEx.exec(input),result&&(rgba=[pInt(result[1]),pInt(result[2]),pInt(result[3]),1]))))}function get(format){var ret;return stops?(ret=merge(input),ret.stops=[].concat(ret.stops),each(stops,function(stop,i){ret.stops[i]=[ret.stops[i][0],stop.get(format)]})):ret=rgba&&!isNaN(rgba[0])?"rgb"===format?"rgb("+rgba[0]+","+rgba[1]+","+rgba[2]+")":"a"===format?rgba[3]:"rgba("+rgba.join(",")+")":input,ret}function brighten(alpha){if(stops)each(stops,function(stop){stop.brighten(alpha)});else if(isNumber(alpha)&&0!==alpha){var i;for(i=0;3>i;i++)rgba[i]+=pInt(255*alpha),rgba[i]<0&&(rgba[i]=0),rgba[i]>255&&(rgba[i]=255)}return this}function setOpacity(alpha){return rgba[3]=alpha,this}var result,stops,rgba=[];return init(input),{get:get,brighten:brighten,rgba:rgba,setOpacity:setOpacity,raw:input}};SVGElement.prototype={opacity:1,textProps:["fontSize","fontWeight","fontFamily","fontStyle","color","lineHeight","width","textDecoration","textShadow"],init:function(renderer,nodeName){var wrapper=this;wrapper.element="span"===nodeName?createElement(nodeName):doc.createElementNS(SVG_NS,nodeName),wrapper.renderer=renderer},animate:function(params,options,complete){var animOptions=pick(options,globalAnimation,!0);return stop(this),animOptions?(animOptions=merge(animOptions,{}),complete&&(animOptions.complete=complete),animate(this,params,animOptions)):(this.attr(params),complete&&complete()),this},colorGradient:function(color,prop,elem){var colorObject,gradName,gradAttr,gradients,gradientObject,stops,stopColor,stopOpacity,radialReference,n,id,renderer=this.renderer,key=[];if(color.linearGradient?gradName="linearGradient":color.radialGradient&&(gradName="radialGradient"),gradName){gradAttr=color[gradName],gradients=renderer.gradients,stops=color.stops,radialReference=elem.radialReference,isArray(gradAttr)&&(color[gradName]=gradAttr={x1:gradAttr[0],y1:gradAttr[1],x2:gradAttr[2],y2:gradAttr[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===gradName&&radialReference&&!defined(gradAttr.gradientUnits)&&(gradAttr=merge(gradAttr,{cx:radialReference[0]-radialReference[2]/2+gradAttr.cx*radialReference[2],cy:radialReference[1]-radialReference[2]/2+gradAttr.cy*radialReference[2],r:gradAttr.r*radialReference[2],gradientUnits:"userSpaceOnUse"}));for(n in gradAttr)"id"!==n&&key.push(n,gradAttr[n]);for(n in stops)key.push(stops[n]);key=key.join(","),gradients[key]?id=gradients[key].attr("id"):(gradAttr.id=id=PREFIX+idCounter++,gradients[key]=gradientObject=renderer.createElement(gradName).attr(gradAttr).add(renderer.defs),gradientObject.stops=[],each(stops,function(stop){var stopObject;0===stop[1].indexOf("rgba")?(colorObject=Color(stop[1]),stopColor=colorObject.get("rgb"),stopOpacity=colorObject.get("a")):(stopColor=stop[1],stopOpacity=1),stopObject=renderer.createElement("stop").attr({offset:stop[0],"stop-color":stopColor,"stop-opacity":stopOpacity}).add(gradientObject),gradientObject.stops.push(stopObject)})),elem.setAttribute(prop,"url("+renderer.url+"#"+id+")")}},applyTextShadow:function(textShadow){var tspans,elem=this.element,hasContrast=-1!==textShadow.indexOf("contrast"),styles={},supports=this.renderer.forExport||elem.style.textShadow!==UNDEFINED&&!isIE;hasContrast&&(styles.textShadow=textShadow=textShadow.replace(/contrast/g,this.renderer.getContrast(elem.style.fill))),isWebKit&&(styles.textRendering="geometricPrecision"),supports?css(elem,styles):(this.fakeTS=!0,this.ySetter=this.xSetter,tspans=[].slice.call(elem.getElementsByTagName("tspan")),each(textShadow.split(/\s?,\s?/g),function(textShadow){var color,strokeWidth,firstChild=elem.firstChild;textShadow=textShadow.split(" "),color=textShadow[textShadow.length-1],strokeWidth=textShadow[textShadow.length-2],strokeWidth&&each(tspans,function(tspan,y){var clone;0===y&&(tspan.setAttribute("x",elem.getAttribute("x")),y=elem.getAttribute("y"),tspan.setAttribute("y",y||0),null===y&&elem.setAttribute("y",0)),clone=tspan.cloneNode(1),attr(clone,{"class":PREFIX+"text-shadow",fill:color,stroke:color,"stroke-opacity":1/mathMax(pInt(strokeWidth),3),"stroke-width":strokeWidth,"stroke-linejoin":"round"}),elem.insertBefore(clone,firstChild)})}))},attr:function(hash,val){var key,value,hasSetSymbolSize,skipAttr,element=this.element,ret=this;if("string"==typeof hash&&val!==UNDEFINED&&(key=hash,hash={},hash[key]=val),"string"==typeof hash)ret=(this[hash+"Getter"]||this._defaultGetter).call(this,hash,element);else{for(key in hash)value=hash[key],skipAttr=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(key)&&(hasSetSymbolSize||(this.symbolAttr(hash),hasSetSymbolSize=!0),skipAttr=!0),!this.rotation||"x"!==key&&"y"!==key||(this.doTransform=!0),skipAttr||(this[key+"Setter"]||this._defaultSetter).call(this,value,key,element),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(key)&&this.updateShadows(key,value);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return ret},updateShadows:function(key,value){for(var shadows=this.shadows,i=shadows.length;i--;)shadows[i].setAttribute(key,"height"===key?mathMax(value-(shadows[i].cutHeight||0),0):"d"===key?this.d:value)},addClass:function(className){var element=this.element,currentClassName=attr(element,"class")||"";return-1===currentClassName.indexOf(className)&&attr(element,"class",currentClassName+" "+className),this},symbolAttr:function(hash){var wrapper=this;each(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(key){wrapper[key]=pick(hash[key],wrapper[key])}),wrapper.attr({d:wrapper.renderer.symbols[wrapper.symbolName](wrapper.x,wrapper.y,wrapper.width,wrapper.height,wrapper)})},clip:function(clipRect){return this.attr("clip-path",clipRect?"url("+this.renderer.url+"#"+clipRect.id+")":NONE)},crisp:function(rect){var key,normalizer,wrapper=this,attribs={},strokeWidth=rect.strokeWidth||wrapper.strokeWidth||0;normalizer=mathRound(strokeWidth)%2/2,rect.x=mathFloor(rect.x||wrapper.x||0)+normalizer,rect.y=mathFloor(rect.y||wrapper.y||0)+normalizer,rect.width=mathFloor((rect.width||wrapper.width||0)-2*normalizer),rect.height=mathFloor((rect.height||wrapper.height||0)-2*normalizer),rect.strokeWidth=strokeWidth;for(key in rect)wrapper[key]!==rect[key]&&(wrapper[key]=attribs[key]=rect[key]);return attribs},css:function(styles){var textWidth,n,hyphenate,elemWrapper=this,oldStyles=elemWrapper.styles,newStyles={},elem=elemWrapper.element,serializedCss="",hasNew=!oldStyles;if(styles&&styles.color&&(styles.fill=styles.color),oldStyles)for(n in styles)styles[n]!==oldStyles[n]&&(newStyles[n]=styles[n],hasNew=!0);if(hasNew){if(textWidth=elemWrapper.textWidth=styles&&styles.width&&"text"===elem.nodeName.toLowerCase()&&pInt(styles.width)||elemWrapper.textWidth,oldStyles&&(styles=extend(oldStyles,newStyles)),elemWrapper.styles=styles,textWidth&&(useCanVG||!hasSVG&&elemWrapper.renderer.forExport)&&delete styles.width,isIE&&!hasSVG)css(elemWrapper.element,styles);else{hyphenate=function(a,b){return"-"+b.toLowerCase()};for(n in styles)serializedCss+=n.replace(/([A-Z])/g,hyphenate)+":"+styles[n]+";";attr(elem,"style",serializedCss)}textWidth&&elemWrapper.added&&elemWrapper.renderer.buildText(elemWrapper)}return elemWrapper},on:function(eventType,handler){var svgElement=this,element=svgElement.element;return hasTouch&&"click"===eventType?(element.ontouchstart=function(e){svgElement.touchEventFired=Date.now(),e.preventDefault(),handler.call(element,e)},element.onclick=function(e){(-1===userAgent.indexOf("Android")||Date.now()-(svgElement.touchEventFired||0)>1100)&&handler.call(element,e)}):element["on"+eventType]=handler,this},setRadialReference:function(coordinates){return this.element.radialReference=coordinates,this},translate:function(x,y){return this.attr({translateX:x,translateY:y})},invert:function(){var wrapper=this;return wrapper.inverted=!0,wrapper.updateTransform(),wrapper},updateTransform:function(){var transform,wrapper=this,translateX=wrapper.translateX||0,translateY=wrapper.translateY||0,scaleX=wrapper.scaleX,scaleY=wrapper.scaleY,inverted=wrapper.inverted,rotation=wrapper.rotation,element=wrapper.element;inverted&&(translateX+=wrapper.attr("width"),translateY+=wrapper.attr("height")),transform=["translate("+translateX+","+translateY+")"],inverted?transform.push("rotate(90) scale(-1,1)"):rotation&&transform.push("rotate("+rotation+" "+(element.getAttribute("x")||0)+" "+(element.getAttribute("y")||0)+")"),(defined(scaleX)||defined(scaleY))&&transform.push("scale("+pick(scaleX,1)+" "+pick(scaleY,1)+")"),transform.length&&element.setAttribute("transform",transform.join(" "))},toFront:function(){var element=this.element;return element.parentNode.appendChild(element),this},align:function(alignOptions,alignByTranslate,box){var align,vAlign,x,y,alignTo,attribs={},renderer=this.renderer,alignedObjects=renderer.alignedObjects;return alignOptions?(this.alignOptions=alignOptions,this.alignByTranslate=alignByTranslate,(!box||isString(box))&&(this.alignTo=alignTo=box||"renderer",erase(alignedObjects,this),alignedObjects.push(this),box=null)):(alignOptions=this.alignOptions,alignByTranslate=this.alignByTranslate,alignTo=this.alignTo),box=pick(box,renderer[alignTo],renderer),align=alignOptions.align,vAlign=alignOptions.verticalAlign,x=(box.x||0)+(alignOptions.x||0),y=(box.y||0)+(alignOptions.y||0),("right"===align||"center"===align)&&(x+=(box.width-(alignOptions.width||0))/{right:1,center:2}[align]),attribs[alignByTranslate?"translateX":"x"]=mathRound(x),("bottom"===vAlign||"middle"===vAlign)&&(y+=(box.height-(alignOptions.height||0))/({bottom:1,middle:2}[vAlign]||1)),attribs[alignByTranslate?"translateY":"y"]=mathRound(y),this[this.placed?"animate":"attr"](attribs),this.placed=!0,this.alignAttr=attribs,this},getBBox:function(reload){var bBox,width,height,textShadow,toggleTextShadowShim,cacheKey,wrapper=this,renderer=wrapper.renderer,rotation=wrapper.rotation,element=wrapper.element,styles=wrapper.styles,rad=rotation*deg2rad,textStr=wrapper.textStr,elemStyle=element.style;if(textStr!==UNDEFINED&&(cacheKey=["",rotation||0,styles&&styles.fontSize,element.style.width].join(","),cacheKey=""===textStr||numRegex.test(textStr)?"num:"+textStr.toString().length+cacheKey:textStr+cacheKey),cacheKey&&!reload&&(bBox=renderer.cache[cacheKey]),!bBox){if(element.namespaceURI===SVG_NS||renderer.forExport){try{toggleTextShadowShim=this.fakeTS&&function(display){each(element.querySelectorAll("."+PREFIX+"text-shadow"),function(tspan){tspan.style.display=display})},isFirefox&&elemStyle.textShadow?(textShadow=elemStyle.textShadow,elemStyle.textShadow=""):toggleTextShadowShim&&toggleTextShadowShim(NONE),bBox=element.getBBox?extend({},element.getBBox()):{width:element.offsetWidth,height:element.offsetHeight},textShadow?elemStyle.textShadow=textShadow:toggleTextShadowShim&&toggleTextShadowShim("")}catch(e){}(!bBox||bBox.width<0)&&(bBox={width:0,height:0})}else bBox=wrapper.htmlGetBBox();renderer.isSVG&&(width=bBox.width,height=bBox.height,isIE&&styles&&"11px"===styles.fontSize&&"16.9"===height.toPrecision(3)&&(bBox.height=height=14),rotation&&(bBox.width=mathAbs(height*mathSin(rad))+mathAbs(width*mathCos(rad)),bBox.height=mathAbs(height*mathCos(rad))+mathAbs(width*mathSin(rad)))),renderer.cache[cacheKey]=bBox}return bBox},show:function(inherit){return inherit&&this.element.namespaceURI===SVG_NS?this.element.removeAttribute("visibility"):this.attr({visibility:inherit?"inherit":VISIBLE}),this},hide:function(){return this.attr({visibility:HIDDEN})},fadeOut:function(duration){var elemWrapper=this;elemWrapper.animate({opacity:0},{duration:duration||150,complete:function(){elemWrapper.attr({y:-9999})}})},add:function(parent){var inserted,renderer=this.renderer,element=this.element;return parent&&(this.parentGroup=parent),this.parentInverted=parent&&parent.inverted,void 0!==this.textStr&&renderer.buildText(this),this.added=!0,(!parent||parent.handleZ||this.zIndex)&&(inserted=this.zIndexSetter()),inserted||(parent?parent.element:renderer.box).appendChild(element),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(element){var parentNode=element.parentNode;parentNode&&parentNode.removeChild(element)},destroy:function(){var grandParent,key,i,wrapper=this,element=wrapper.element||{},shadows=wrapper.shadows,parentToClean=wrapper.renderer.isSVG&&"SPAN"===element.nodeName&&wrapper.parentGroup;if(element.onclick=element.onmouseout=element.onmouseover=element.onmousemove=element.point=null,stop(wrapper),wrapper.clipPath&&(wrapper.clipPath=wrapper.clipPath.destroy()),wrapper.stops){for(i=0;i<wrapper.stops.length;i++)wrapper.stops[i]=wrapper.stops[i].destroy();wrapper.stops=null}for(wrapper.safeRemoveChild(element),shadows&&each(shadows,function(shadow){wrapper.safeRemoveChild(shadow)});parentToClean&&parentToClean.div&&0===parentToClean.div.childNodes.length;)grandParent=parentToClean.parentGroup,wrapper.safeRemoveChild(parentToClean.div),delete parentToClean.div,parentToClean=grandParent;wrapper.alignTo&&erase(wrapper.renderer.alignedObjects,wrapper);for(key in wrapper)delete wrapper[key];return null},shadow:function(shadowOptions,group,cutOff){var i,shadow,strokeWidth,shadowWidth,shadowElementOpacity,transform,shadows=[],element=this.element;if(shadowOptions){for(shadowWidth=pick(shadowOptions.width,3),shadowElementOpacity=(shadowOptions.opacity||.15)/shadowWidth,transform=this.parentInverted?"(-1,-1)":"("+pick(shadowOptions.offsetX,1)+", "+pick(shadowOptions.offsetY,1)+")",i=1;shadowWidth>=i;i++)shadow=element.cloneNode(0),strokeWidth=2*shadowWidth+1-2*i,attr(shadow,{isShadow:"true",stroke:shadowOptions.color||"black","stroke-opacity":shadowElementOpacity*i,"stroke-width":strokeWidth,transform:"translate"+transform,fill:NONE}),cutOff&&(attr(shadow,"height",mathMax(attr(shadow,"height")-strokeWidth,0)),shadow.cutHeight=strokeWidth),group?group.element.appendChild(shadow):element.parentNode.insertBefore(shadow,element),shadows.push(shadow);this.shadows=shadows}return this},xGetter:function(key){return"circle"===this.element.nodeName&&(key={x:"cx",y:"cy"}[key]||key),this._defaultGetter(key)},_defaultGetter:function(key){var ret=pick(this[key],this.element?this.element.getAttribute(key):null,0);return/^[\-0-9\.]+$/.test(ret)&&(ret=parseFloat(ret)),ret},dSetter:function(value,key,element){value&&value.join&&(value=value.join(" ")),/(NaN| {2}|^$)/.test(value)&&(value="M 0 0"),element.setAttribute(key,value),this[key]=value},dashstyleSetter:function(value){var i;if(value=value&&value.toLowerCase()){for(value=value.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),i=value.length;i--;)value[i]=pInt(value[i])*this["stroke-width"];value=value.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",value)}},alignSetter:function(value){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[value])},opacitySetter:function(value,key,element){this[key]=value,element.setAttribute(key,value)},titleSetter:function(value){var titleNode=this.element.getElementsByTagName("title")[0];titleNode||(titleNode=doc.createElementNS(SVG_NS,"title"),this.element.appendChild(titleNode)),titleNode.textContent=String(pick(value),"").replace(/<[^>]*>/g,"")},textSetter:function(value){value!==this.textStr&&(delete this.bBox,this.textStr=value,this.added&&this.renderer.buildText(this))},fillSetter:function(value,key,element){"string"==typeof value?element.setAttribute(key,value):value&&this.colorGradient(value,key,element)},zIndexSetter:function(value,key){var childNodes,otherElement,otherZIndex,inserted,i,renderer=this.renderer,parentGroup=this.parentGroup,parentWrapper=parentGroup||renderer,parentNode=parentWrapper.element||renderer.box,element=this.element,run=this.added;if(defined(value)&&(element.setAttribute(key,value),value=+value,this[key]===value&&(run=!1),this[key]=value),run){for(value=this.zIndex,value&&parentGroup&&(parentGroup.handleZ=!0),childNodes=parentNode.childNodes,i=0;i<childNodes.length&&!inserted;i++)otherElement=childNodes[i],otherZIndex=attr(otherElement,"zIndex"),otherElement!==element&&(pInt(otherZIndex)>value||!defined(value)&&defined(otherZIndex))&&(parentNode.insertBefore(element,otherElement),inserted=!0);inserted||parentNode.appendChild(element)}return inserted},_defaultSetter:function(value,key,element){element.setAttribute(key,value)}},SVGElement.prototype.yGetter=SVGElement.prototype.xGetter,SVGElement.prototype.translateXSetter=SVGElement.prototype.translateYSetter=SVGElement.prototype.rotationSetter=SVGElement.prototype.verticalAlignSetter=SVGElement.prototype.scaleXSetter=SVGElement.prototype.scaleYSetter=function(value,key){this[key]=value,this.doTransform=!0},SVGElement.prototype["stroke-widthSetter"]=SVGElement.prototype.strokeSetter=function(value,key,element){this[key]=value,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],SVGElement.prototype.fillSetter.call(this,this.stroke,"stroke",element),element.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===key&&0===value&&this.hasStroke&&(element.removeAttribute("stroke"),this.hasStroke=!1)};var SVGRenderer=function(){this.init.apply(this,arguments)};SVGRenderer.prototype={Element:SVGElement,init:function(container,width,height,style,forExport){var boxWrapper,element,desc,renderer=this,loc=location;boxWrapper=renderer.createElement("svg").attr({version:"1.1"}).css(this.getStyle(style)),element=boxWrapper.element,container.appendChild(element),-1===container.innerHTML.indexOf("xmlns")&&attr(element,"xmlns",SVG_NS),renderer.isSVG=!0,renderer.box=element,renderer.boxWrapper=boxWrapper,renderer.alignedObjects=[],renderer.url=(isFirefox||isWebKit)&&doc.getElementsByTagName("base").length?loc.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",desc=this.createElement("desc").add(),desc.element.appendChild(doc.createTextNode("Created with "+PRODUCT+" "+VERSION)),renderer.defs=this.createElement("defs").add(),renderer.forExport=forExport,renderer.gradients={},renderer.cache={},renderer.setSize(width,height,!1);var subPixelFix,rect;isFirefox&&container.getBoundingClientRect&&(renderer.subPixelFix=subPixelFix=function(){css(container,{left:0,top:0}),rect=container.getBoundingClientRect(),css(container,{left:mathCeil(rect.left)-rect.left+PX,top:mathCeil(rect.top)-rect.top+PX})},subPixelFix(),addEvent(win,"resize",subPixelFix))},getStyle:function(style){return this.style=extend({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},style)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var renderer=this,rendererDefs=renderer.defs;return renderer.box=null,renderer.boxWrapper=renderer.boxWrapper.destroy(),destroyObjectProperties(renderer.gradients||{}),renderer.gradients=null,rendererDefs&&(renderer.defs=rendererDefs.destroy()),renderer.subPixelFix&&removeEvent(win,"resize",renderer.subPixelFix),renderer.alignedObjects=null,null},createElement:function(nodeName){var wrapper=new this.Element;return wrapper.init(this,nodeName),wrapper},draw:function(){},buildText:function(wrapper){for(var lines,styleRegex,hrefRegex,textNode=wrapper.element,renderer=this,forExport=renderer.forExport,textStr=pick(wrapper.textStr,"").toString(),hasMarkup=-1!==textStr.indexOf("<"),childNodes=textNode.childNodes,parentX=attr(textNode,"x"),textStyles=wrapper.styles,width=wrapper.textWidth,textLineHeight=textStyles&&textStyles.lineHeight,textShadow=textStyles&&textStyles.textShadow,ellipsis=textStyles&&"ellipsis"===textStyles.textOverflow,i=childNodes.length,tempParent=width&&!wrapper.added&&this.box,getLineHeight=function(tspan){return textLineHeight?pInt(textLineHeight):renderer.fontMetrics(/(px|em)$/.test(tspan&&tspan.style.fontSize)?tspan.style.fontSize:textStyles&&textStyles.fontSize||renderer.style.fontSize||12,tspan).h},unescapeAngleBrackets=function(inputStr){return inputStr.replace(/&lt;/g,"<").replace(/&gt;/g,">")};i--;)textNode.removeChild(childNodes[i]);return hasMarkup||textShadow||ellipsis||-1!==textStr.indexOf(" ")?(styleRegex=/<.*style="([^"]+)".*>/,hrefRegex=/<.*href="(http[^"]+)".*>/,tempParent&&tempParent.appendChild(textNode),lines=hasMarkup?textStr.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[textStr],""===lines[lines.length-1]&&lines.pop(),each(lines,function(line,lineNo){var spans,spanNo=0;line=line.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),spans=line.split("|||"),each(spans,function(span){if(""!==span||1===spans.length){var spanStyle,attributes={},tspan=doc.createElementNS(SVG_NS,"tspan");if(styleRegex.test(span)&&(spanStyle=span.match(styleRegex)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),attr(tspan,"style",spanStyle)),hrefRegex.test(span)&&!forExport&&(attr(tspan,"onclick",'location.href="'+span.match(hrefRegex)[1]+'"'),css(tspan,{cursor:"pointer"})),span=unescapeAngleBrackets(span.replace(/<(.|\n)*?>/g,"")||" ")," "!==span){if(tspan.appendChild(doc.createTextNode(span)),spanNo?attributes.dx=0:lineNo&&null!==parentX&&(attributes.x=parentX),attr(tspan,attributes),textNode.appendChild(tspan),!spanNo&&lineNo&&(!hasSVG&&forExport&&css(tspan,{display:"block"}),attr(tspan,"dy",getLineHeight(tspan))),width){for(var tooLong,wasTooLong,actualWidth,bBox,words=span.replace(/([^\^])-/g,"$1- ").split(" "),hasWhiteSpace=spans.length>1||lineNo||words.length>1&&"nowrap"!==textStyles.whiteSpace,rest=[],dy=getLineHeight(tspan),softLineNo=1,rotation=wrapper.rotation,wordStr=span,cursor=wordStr.length;(hasWhiteSpace||ellipsis)&&(words.length||rest.length);)wrapper.rotation=0,bBox=wrapper.getBBox(!0),actualWidth=bBox.width,!hasSVG&&renderer.forExport&&(actualWidth=renderer.measureSpanWidth(tspan.firstChild.data,wrapper.styles)),tooLong=actualWidth>width,void 0===wasTooLong&&(wasTooLong=tooLong),ellipsis&&wasTooLong?(cursor/=2,""===wordStr||!tooLong&&.5>cursor?words=[]:(tooLong&&(wasTooLong=!0),wordStr=span.substring(0,wordStr.length+(tooLong?-1:1)*mathCeil(cursor)),words=[wordStr+(width>3?"…":"")],tspan.removeChild(tspan.firstChild))):tooLong&&1!==words.length?(tspan.removeChild(tspan.firstChild),rest.unshift(words.pop())):(words=rest,rest=[],words.length&&(softLineNo++,tspan=doc.createElementNS(SVG_NS,"tspan"),attr(tspan,{dy:dy,x:parentX}),spanStyle&&attr(tspan,"style",spanStyle),textNode.appendChild(tspan)),actualWidth>width&&(width=actualWidth)),words.length&&tspan.appendChild(doc.createTextNode(words.join(" ").replace(/- /g,"-")));wasTooLong&&wrapper.attr("title",wrapper.textStr),wrapper.rotation=rotation}spanNo++}}})}),tempParent&&tempParent.removeChild(textNode),textShadow&&wrapper.applyTextShadow&&wrapper.applyTextShadow(textShadow),void 0):void textNode.appendChild(doc.createTextNode(unescapeAngleBrackets(textStr)))},getContrast:function(color){return color=Color(color).rgba,color[0]+color[1]+color[2]>384?"#000000":"#FFFFFF"},button:function(text,x,y,callback,normalState,hoverState,pressedState,disabledState,shape){var stateOptions,stateStyle,normalStyle,hoverStyle,pressedStyle,disabledStyle,label=this.label(text,x,y,shape,null,null,null,null,"button"),curState=0,verticalGradient={x1:0,y1:0,x2:0,y2:1};return normalState=merge({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:verticalGradient,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},normalState),normalStyle=normalState.style,delete normalState.style,hoverState=merge(normalState,{stroke:"#68A",fill:{linearGradient:verticalGradient,stops:[[0,"#FFF"],[1,"#ACF"]]}},hoverState),hoverStyle=hoverState.style,delete hoverState.style,pressedState=merge(normalState,{stroke:"#68A",fill:{linearGradient:verticalGradient,stops:[[0,"#9BD"],[1,"#CDF"]]}},pressedState),pressedStyle=pressedState.style,delete pressedState.style,disabledState=merge(normalState,{style:{color:"#CCC"}},disabledState),disabledStyle=disabledState.style,delete disabledState.style,addEvent(label.element,isIE?"mouseover":"mouseenter",function(){3!==curState&&label.attr(hoverState).css(hoverStyle)}),addEvent(label.element,isIE?"mouseout":"mouseleave",function(){3!==curState&&(stateOptions=[normalState,hoverState,pressedState][curState],stateStyle=[normalStyle,hoverStyle,pressedStyle][curState],label.attr(stateOptions).css(stateStyle))}),label.setState=function(state){label.state=curState=state,state?2===state?label.attr(pressedState).css(pressedStyle):3===state&&label.attr(disabledState).css(disabledStyle):label.attr(normalState).css(normalStyle)},label.on("click",function(){3!==curState&&callback.call(label)}).attr(normalState).css(extend({cursor:"default"},normalStyle))},crispLine:function(points,width){return points[1]===points[4]&&(points[1]=points[4]=mathRound(points[1])-width%2/2),points[2]===points[5]&&(points[2]=points[5]=mathRound(points[2])+width%2/2),points},path:function(path){var attr={fill:NONE};return isArray(path)?attr.d=path:isObject(path)&&extend(attr,path),this.createElement("path").attr(attr)},circle:function(x,y,r){var attr=isObject(x)?x:{x:x,y:y,r:r},wrapper=this.createElement("circle");return wrapper.xSetter=function(value){this.element.setAttribute("cx",value)},wrapper.ySetter=function(value){this.element.setAttribute("cy",value)},wrapper.attr(attr)},arc:function(x,y,r,innerR,start,end){var arc;return isObject(x)&&(y=x.y,r=x.r,innerR=x.innerR,start=x.start,end=x.end,x=x.x),arc=this.symbol("arc",x||0,y||0,r||0,r||0,{innerR:innerR||0,start:start||0,end:end||0}),arc.r=r,arc},rect:function(x,y,width,height,r,strokeWidth){r=isObject(x)?x.r:r;var wrapper=this.createElement("rect"),attribs=isObject(x)?x:x===UNDEFINED?{}:{x:x,y:y,width:mathMax(width,0),height:mathMax(height,0)};return strokeWidth!==UNDEFINED&&(attribs.strokeWidth=strokeWidth,attribs=wrapper.crisp(attribs)),r&&(attribs.r=r),wrapper.rSetter=function(value){attr(this.element,{rx:value,ry:value})},wrapper.attr(attribs)},setSize:function(width,height,animate){var renderer=this,alignedObjects=renderer.alignedObjects,i=alignedObjects.length;for(renderer.width=width,renderer.height=height,renderer.boxWrapper[pick(animate,!0)?"animate":"attr"]({width:width,height:height});i--;)alignedObjects[i].align()},g:function(name){var elem=this.createElement("g");return defined(name)?elem.attr({"class":PREFIX+name}):elem},image:function(src,x,y,width,height){var elemWrapper,attribs={preserveAspectRatio:NONE};return arguments.length>1&&extend(attribs,{x:x,y:y,width:width,height:height}),elemWrapper=this.createElement("image").attr(attribs),elemWrapper.element.setAttributeNS?elemWrapper.element.setAttributeNS("http://www.w3.org/1999/xlink","href",src):elemWrapper.element.setAttribute("hc-svg-href",src),elemWrapper},symbol:function(symbol,x,y,width,height,options){var obj,imageElement,imageSrc,imageSize,centerImage,symbolFn=this.symbols[symbol],path=symbolFn&&symbolFn(mathRound(x),mathRound(y),width,height,options),imageRegex=/^url\((.*?)\)$/;return path?(obj=this.path(path),extend(obj,{symbolName:symbol,x:x,y:y,width:width,height:height}),options&&extend(obj,options)):imageRegex.test(symbol)&&(centerImage=function(img,size){img.element&&(img.attr({width:size[0],height:size[1]}),img.alignByTranslate||img.translate(mathRound((width-size[0])/2),mathRound((height-size[1])/2)))},imageSrc=symbol.match(imageRegex)[1],imageSize=symbolSizes[imageSrc]||options&&options.width&&options.height&&[options.width,options.height],obj=this.image(imageSrc).attr({x:x,y:y}),obj.isImg=!0,imageSize?centerImage(obj,imageSize):(obj.attr({width:0,height:0}),imageElement=createElement("img",{onload:function(){centerImage(obj,symbolSizes[imageSrc]=[this.width,this.height])},src:imageSrc}))),obj},symbols:{circle:function(x,y,w,h){var cpw=.166*w;return[M,x+w/2,y,"C",x+w+cpw,y,x+w+cpw,y+h,x+w/2,y+h,"C",x-cpw,y+h,x-cpw,y,x+w/2,y,"Z"]},square:function(x,y,w,h){return[M,x,y,L,x+w,y,x+w,y+h,x,y+h,"Z"]},triangle:function(x,y,w,h){return[M,x+w/2,y,L,x+w,y+h,x,y+h,"Z"]},"triangle-down":function(x,y,w,h){return[M,x,y,L,x+w,y,x+w/2,y+h,"Z"]},diamond:function(x,y,w,h){return[M,x+w/2,y,L,x+w,y+h/2,x+w/2,y+h,x,y+h/2,"Z"]},arc:function(x,y,w,h,options){var start=options.start,radius=options.r||w||h,end=options.end-.001,innerRadius=options.innerR,open=options.open,cosStart=mathCos(start),sinStart=mathSin(start),cosEnd=mathCos(end),sinEnd=mathSin(end),longArc=options.end-start<mathPI?0:1;return[M,x+radius*cosStart,y+radius*sinStart,"A",radius,radius,0,longArc,1,x+radius*cosEnd,y+radius*sinEnd,open?M:L,x+innerRadius*cosEnd,y+innerRadius*sinEnd,"A",innerRadius,innerRadius,0,longArc,0,x+innerRadius*cosStart,y+innerRadius*sinStart,open?"":"Z"]},callout:function(x,y,w,h,options){var path,arrowLength=6,halfDistance=6,r=mathMin(options&&options.r||0,w,h),safeDistance=r+halfDistance,anchorX=options&&options.anchorX,anchorY=options&&options.anchorY;return path=["M",x+r,y,"L",x+w-r,y,"C",x+w,y,x+w,y,x+w,y+r,"L",x+w,y+h-r,"C",x+w,y+h,x+w,y+h,x+w-r,y+h,"L",x+r,y+h,"C",x,y+h,x,y+h,x,y+h-r,"L",x,y+r,"C",x,y,x,y,x+r,y],anchorX&&anchorX>w&&anchorY>y+safeDistance&&y+h-safeDistance>anchorY?path.splice(13,3,"L",x+w,anchorY-halfDistance,x+w+arrowLength,anchorY,x+w,anchorY+halfDistance,x+w,y+h-r):anchorX&&0>anchorX&&anchorY>y+safeDistance&&y+h-safeDistance>anchorY?path.splice(33,3,"L",x,anchorY+halfDistance,x-arrowLength,anchorY,x,anchorY-halfDistance,x,y+r):anchorY&&anchorY>h&&anchorX>x+safeDistance&&x+w-safeDistance>anchorX?path.splice(23,3,"L",anchorX+halfDistance,y+h,anchorX,y+h+arrowLength,anchorX-halfDistance,y+h,x+r,y+h):anchorY&&0>anchorY&&anchorX>x+safeDistance&&x+w-safeDistance>anchorX&&path.splice(3,3,"L",anchorX-halfDistance,y,anchorX,y-arrowLength,anchorX+halfDistance,y,w-r,y),path}},clipRect:function(x,y,width,height){var wrapper,id=PREFIX+idCounter++,clipPath=this.createElement("clipPath").attr({id:id}).add(this.defs);return wrapper=this.rect(x,y,width,height,0).add(clipPath),wrapper.id=id,wrapper.clipPath=clipPath,wrapper.count=0,wrapper},text:function(str,x,y,useHTML){var wrapper,renderer=this,fakeSVG=useCanVG||!hasSVG&&renderer.forExport,attr={};return useHTML&&!renderer.forExport?renderer.html(str,x,y):(attr.x=Math.round(x||0),y&&(attr.y=Math.round(y)),(str||0===str)&&(attr.text=str),wrapper=renderer.createElement("text").attr(attr),fakeSVG&&wrapper.css({position:ABSOLUTE}),useHTML||(wrapper.xSetter=function(value,key,element){var tspan,i,tspans=element.getElementsByTagName("tspan"),parentVal=element.getAttribute(key);for(i=0;i<tspans.length;i++)tspan=tspans[i],tspan.getAttribute(key)===parentVal&&tspan.setAttribute(key,value);

element.setAttribute(key,value)}),wrapper)},fontMetrics:function(fontSize,elem){fontSize=fontSize||this.style.fontSize,elem&&win.getComputedStyle&&(elem=elem.element||elem,fontSize=win.getComputedStyle(elem,"").fontSize),fontSize=/px/.test(fontSize)?pInt(fontSize):/em/.test(fontSize)?12*parseFloat(fontSize):12;var lineHeight=24>fontSize?fontSize+3:mathRound(1.2*fontSize),baseline=mathRound(.8*lineHeight);return{h:lineHeight,b:baseline,f:fontSize}},rotCorr:function(baseline,rotation,alterY){var y=baseline;return rotation&&alterY&&(y=mathMax(y*mathCos(rotation*deg2rad),4)),{x:-baseline/3*mathSin(rotation*deg2rad),y:y}},label:function(str,x,y,shape,anchorX,anchorY,useHTML,baseline,className){function updateBoxSize(){var boxX,boxY,style=text.element.style;bBox=(void 0===width||void 0===height||wrapper.styles.textAlign)&&defined(text.textStr)&&text.getBBox(),wrapper.width=(width||bBox.width||0)+2*padding+paddingLeft,wrapper.height=(height||bBox.height||0)+2*padding,baselineOffset=padding+renderer.fontMetrics(style&&style.fontSize,text).b,needsBox&&(box||(boxX=mathRound(-alignFactor*padding)+crispAdjust,boxY=(baseline?-baselineOffset:0)+crispAdjust,wrapper.box=box=shape?renderer.symbol(shape,boxX,boxY,wrapper.width,wrapper.height,deferredAttr):renderer.rect(boxX,boxY,wrapper.width,wrapper.height,0,deferredAttr[STROKE_WIDTH]),box.attr("fill",NONE).add(wrapper)),box.isImg||box.attr(extend({width:mathRound(wrapper.width),height:mathRound(wrapper.height)},deferredAttr)),deferredAttr=null)}function updateTextPadding(){var y,styles=wrapper.styles,textAlign=styles&&styles.textAlign,x=paddingLeft+padding*(1-alignFactor);y=baseline?0:baselineOffset,defined(width)&&bBox&&("center"===textAlign||"right"===textAlign)&&(x+={center:.5,right:1}[textAlign]*(width-bBox.width)),(x!==text.x||y!==text.y)&&(text.attr("x",x),y!==UNDEFINED&&text.attr("y",y)),text.x=x,text.y=y}function boxAttr(key,value){box?box.attr(key,value):deferredAttr[key]=value}var box,bBox,width,height,wrapperX,wrapperY,baselineOffset,needsBox,renderer=this,wrapper=renderer.g(className),text=renderer.text("",0,0,useHTML).attr({zIndex:1}),alignFactor=0,padding=3,paddingLeft=0,crispAdjust=0,deferredAttr={};wrapper.onAdd=function(){text.add(wrapper),wrapper.attr({text:str||0===str?str:"",x:x,y:y}),box&&defined(anchorX)&&wrapper.attr({anchorX:anchorX,anchorY:anchorY})},wrapper.widthSetter=function(value){width=value},wrapper.heightSetter=function(value){height=value},wrapper.paddingSetter=function(value){defined(value)&&value!==padding&&(padding=wrapper.padding=value,updateTextPadding())},wrapper.paddingLeftSetter=function(value){defined(value)&&value!==paddingLeft&&(paddingLeft=value,updateTextPadding())},wrapper.alignSetter=function(value){alignFactor={left:0,center:.5,right:1}[value]},wrapper.textSetter=function(value){value!==UNDEFINED&&text.textSetter(value),updateBoxSize(),updateTextPadding()},wrapper["stroke-widthSetter"]=function(value,key){value&&(needsBox=!0),crispAdjust=value%2/2,boxAttr(key,value)},wrapper.strokeSetter=wrapper.fillSetter=wrapper.rSetter=function(value,key){"fill"===key&&value&&(needsBox=!0),boxAttr(key,value)},wrapper.anchorXSetter=function(value,key){anchorX=value,boxAttr(key,mathRound(value)-crispAdjust-wrapperX)},wrapper.anchorYSetter=function(value,key){anchorY=value,boxAttr(key,value-wrapperY)},wrapper.xSetter=function(value){wrapper.x=value,alignFactor&&(value-=alignFactor*((width||bBox.width)+padding)),wrapperX=mathRound(value),wrapper.attr("translateX",wrapperX)},wrapper.ySetter=function(value){wrapperY=wrapper.y=mathRound(value),wrapper.attr("translateY",wrapperY)};var baseCss=wrapper.css;return extend(wrapper,{css:function(styles){if(styles){var textStyles={};styles=merge(styles),each(wrapper.textProps,function(prop){styles[prop]!==UNDEFINED&&(textStyles[prop]=styles[prop],delete styles[prop])}),text.css(textStyles)}return baseCss.call(wrapper,styles)},getBBox:function(){return{width:bBox.width+2*padding,height:bBox.height+2*padding,x:bBox.x-padding,y:bBox.y-padding}},shadow:function(b){return box&&box.shadow(b),wrapper},destroy:function(){removeEvent(wrapper.element,"mouseenter"),removeEvent(wrapper.element,"mouseleave"),text&&(text=text.destroy()),box&&(box=box.destroy()),SVGElement.prototype.destroy.call(wrapper),wrapper=renderer=updateBoxSize=updateTextPadding=boxAttr=null}})}},Renderer=SVGRenderer,extend(SVGElement.prototype,{htmlCss:function(styles){var wrapper=this,element=wrapper.element,textWidth=styles&&"SPAN"===element.tagName&&styles.width;return textWidth&&(delete styles.width,wrapper.textWidth=textWidth,wrapper.updateTransform()),styles&&"ellipsis"===styles.textOverflow&&(styles.whiteSpace="nowrap",styles.overflow="hidden"),wrapper.styles=extend(wrapper.styles,styles),css(wrapper.element,styles),wrapper},htmlGetBBox:function(){var wrapper=this,element=wrapper.element;return"text"===element.nodeName&&(element.style.position=ABSOLUTE),{x:element.offsetLeft,y:element.offsetTop,width:element.offsetWidth,height:element.offsetHeight}},htmlUpdateTransform:function(){if(!this.added)return void(this.alignOnAdd=!0);var wrapper=this,renderer=wrapper.renderer,elem=wrapper.element,translateX=wrapper.translateX||0,translateY=wrapper.translateY||0,x=wrapper.x||0,y=wrapper.y||0,align=wrapper.textAlign||"left",alignCorrection={left:0,center:.5,right:1}[align],shadows=wrapper.shadows,styles=wrapper.styles;if(css(elem,{marginLeft:translateX,marginTop:translateY}),shadows&&each(shadows,function(shadow){css(shadow,{marginLeft:translateX+1,marginTop:translateY+1})}),wrapper.inverted&&each(elem.childNodes,function(child){renderer.invertChild(child,elem)}),"SPAN"===elem.tagName){var width,baseline,rotation=wrapper.rotation,textWidth=pInt(wrapper.textWidth),currentTextTransform=[rotation,align,elem.innerHTML,wrapper.textWidth].join(",");currentTextTransform!==wrapper.cTT&&(baseline=renderer.fontMetrics(elem.style.fontSize).b,defined(rotation)&&wrapper.setSpanRotation(rotation,alignCorrection,baseline),width=pick(wrapper.elemWidth,elem.offsetWidth),width>textWidth&&/[ \-]/.test(elem.textContent||elem.innerText)&&(css(elem,{width:textWidth+PX,display:"block",whiteSpace:styles&&styles.whiteSpace||"normal"}),width=textWidth),wrapper.getSpanCorrection(width,baseline,alignCorrection,rotation,align)),css(elem,{left:x+(wrapper.xCorr||0)+PX,top:y+(wrapper.yCorr||0)+PX}),isWebKit&&(baseline=elem.offsetHeight),wrapper.cTT=currentTextTransform}},setSpanRotation:function(rotation,alignCorrection,baseline){var rotationStyle={},cssTransformKey=isIE?"-ms-transform":isWebKit?"-webkit-transform":isFirefox?"MozTransform":isOpera?"-o-transform":"";rotationStyle[cssTransformKey]=rotationStyle.transform="rotate("+rotation+"deg)",rotationStyle[cssTransformKey+(isFirefox?"Origin":"-origin")]=rotationStyle.transformOrigin=100*alignCorrection+"% "+baseline+"px",css(this.element,rotationStyle)},getSpanCorrection:function(width,baseline,alignCorrection){this.xCorr=-width*alignCorrection,this.yCorr=-baseline}}),extend(SVGRenderer.prototype,{html:function(str,x,y){var wrapper=this.createElement("span"),element=wrapper.element,renderer=wrapper.renderer;return wrapper.textSetter=function(value){value!==element.innerHTML&&delete this.bBox,element.innerHTML=this.textStr=value},wrapper.xSetter=wrapper.ySetter=wrapper.alignSetter=wrapper.rotationSetter=function(value,key){"align"===key&&(key="textAlign"),wrapper[key]=value,wrapper.htmlUpdateTransform()},wrapper.attr({text:str,x:mathRound(x),y:mathRound(y)}).css({position:ABSOLUTE,fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),element.style.whiteSpace="nowrap",wrapper.css=wrapper.htmlCss,renderer.isSVG&&(wrapper.add=function(svgGroupWrapper){var htmlGroup,parentGroup,container=renderer.box.parentNode,parents=[];if(this.parentGroup=svgGroupWrapper,svgGroupWrapper){if(htmlGroup=svgGroupWrapper.div,!htmlGroup){for(parentGroup=svgGroupWrapper;parentGroup;)parents.push(parentGroup),parentGroup=parentGroup.parentGroup;each(parents.reverse(),function(parentGroup){var htmlGroupStyle;htmlGroup=parentGroup.div=parentGroup.div||createElement(DIV,{className:attr(parentGroup.element,"class")},{position:ABSOLUTE,left:(parentGroup.translateX||0)+PX,top:(parentGroup.translateY||0)+PX},htmlGroup||container),htmlGroupStyle=htmlGroup.style,extend(parentGroup,{translateXSetter:function(value,key){htmlGroupStyle.left=value+PX,parentGroup[key]=value,parentGroup.doTransform=!0},translateYSetter:function(value,key){htmlGroupStyle.top=value+PX,parentGroup[key]=value,parentGroup.doTransform=!0},visibilitySetter:function(value,key){htmlGroupStyle[key]=value}})})}}else htmlGroup=container;return htmlGroup.appendChild(element),wrapper.added=!0,wrapper.alignOnAdd&&wrapper.htmlUpdateTransform(),wrapper}),wrapper}});var VMLRenderer,VMLElement;if(!hasSVG&&!useCanVG){VMLElement={init:function(renderer,nodeName){var wrapper=this,markup=["<",nodeName,' filled="f" stroked="f"'],style=["position: ",ABSOLUTE,";"],isDiv=nodeName===DIV;("shape"===nodeName||isDiv)&&style.push("left:0;top:0;width:1px;height:1px;"),style.push("visibility: ",isDiv?HIDDEN:VISIBLE),markup.push(' style="',style.join(""),'"/>'),nodeName&&(markup=isDiv||"span"===nodeName||"img"===nodeName?markup.join(""):renderer.prepVML(markup),wrapper.element=createElement(markup)),wrapper.renderer=renderer},add:function(parent){var wrapper=this,renderer=wrapper.renderer,element=wrapper.element,box=renderer.box,inverted=parent&&parent.inverted,parentNode=parent?parent.element||parent:box;return inverted&&renderer.invertChild(element,parentNode),parentNode.appendChild(element),wrapper.added=!0,wrapper.alignOnAdd&&!wrapper.deferUpdateTransform&&wrapper.updateTransform(),wrapper.onAdd&&wrapper.onAdd(),wrapper},updateTransform:SVGElement.prototype.htmlUpdateTransform,setSpanRotation:function(){var rotation=this.rotation,costheta=mathCos(rotation*deg2rad),sintheta=mathSin(rotation*deg2rad);css(this.element,{filter:rotation?["progid:DXImageTransform.Microsoft.Matrix(M11=",costheta,", M12=",-sintheta,", M21=",sintheta,", M22=",costheta,", sizingMethod='auto expand')"].join(""):NONE})},getSpanCorrection:function(width,baseline,alignCorrection,rotation,align){var quad,costheta=rotation?mathCos(rotation*deg2rad):1,sintheta=rotation?mathSin(rotation*deg2rad):0,height=pick(this.elemHeight,this.element.offsetHeight),nonLeft=align&&"left"!==align;this.xCorr=0>costheta&&-width,this.yCorr=0>sintheta&&-height,quad=0>costheta*sintheta,this.xCorr+=sintheta*baseline*(quad?1-alignCorrection:alignCorrection),this.yCorr-=costheta*baseline*(rotation?quad?alignCorrection:1-alignCorrection:1),nonLeft&&(this.xCorr-=width*alignCorrection*(0>costheta?-1:1),rotation&&(this.yCorr-=height*alignCorrection*(0>sintheta?-1:1)),css(this.element,{textAlign:align}))},pathToVML:function(value){for(var i=value.length,path=[];i--;)isNumber(value[i])?path[i]=mathRound(10*value[i])-5:"Z"===value[i]?path[i]="x":(path[i]=value[i],!value.isArc||"wa"!==value[i]&&"at"!==value[i]||(path[i+5]===path[i+7]&&(path[i+7]+=value[i+7]>value[i+5]?1:-1),path[i+6]===path[i+8]&&(path[i+8]+=value[i+8]>value[i+6]?1:-1)));return path.join(" ")||"x"},clip:function(clipRect){var clipMembers,cssRet,wrapper=this;return clipRect?(clipMembers=clipRect.members,erase(clipMembers,wrapper),clipMembers.push(wrapper),wrapper.destroyClip=function(){erase(clipMembers,wrapper)},cssRet=clipRect.getCSS(wrapper)):(wrapper.destroyClip&&wrapper.destroyClip(),cssRet={clip:docMode8?"inherit":"rect(auto)"}),wrapper.css(cssRet)},css:SVGElement.prototype.htmlCss,safeRemoveChild:function(element){element.parentNode&&discardElement(element)},destroy:function(){return this.destroyClip&&this.destroyClip(),SVGElement.prototype.destroy.apply(this)},on:function(eventType,handler){return this.element["on"+eventType]=function(){var evt=win.event;evt.target=evt.srcElement,handler(evt)},this},cutOffPath:function(path,length){var len;return path=path.split(/[ ,]/),len=path.length,(9===len||11===len)&&(path[len-4]=path[len-2]=pInt(path[len-2])-10*length),path.join(" ")},shadow:function(shadowOptions,group,cutOff){var i,shadow,markup,strokeWidth,modifiedPath,shadowWidth,shadowElementOpacity,shadows=[],element=this.element,renderer=this.renderer,elemStyle=element.style,path=element.path;if(path&&"string"!=typeof path.value&&(path="x"),modifiedPath=path,shadowOptions){for(shadowWidth=pick(shadowOptions.width,3),shadowElementOpacity=(shadowOptions.opacity||.15)/shadowWidth,i=1;3>=i;i++)strokeWidth=2*shadowWidth+1-2*i,cutOff&&(modifiedPath=this.cutOffPath(path.value,strokeWidth+.5)),markup=['<shape isShadow="true" strokeweight="',strokeWidth,'" filled="false" path="',modifiedPath,'" coordsize="10 10" style="',element.style.cssText,'" />'],shadow=createElement(renderer.prepVML(markup),null,{left:pInt(elemStyle.left)+pick(shadowOptions.offsetX,1),top:pInt(elemStyle.top)+pick(shadowOptions.offsetY,1)}),cutOff&&(shadow.cutOff=strokeWidth+1),markup=['<stroke color="',shadowOptions.color||"black",'" opacity="',shadowElementOpacity*i,'"/>'],createElement(renderer.prepVML(markup),null,null,shadow),group?group.element.appendChild(shadow):element.parentNode.insertBefore(shadow,element),shadows.push(shadow);this.shadows=shadows}return this},updateShadows:noop,setAttr:function(key,value){docMode8?this.element[key]=value:this.element.setAttribute(key,value)},classSetter:function(value){this.element.className=value},dashstyleSetter:function(value,key,element){var strokeElem=element.getElementsByTagName("stroke")[0]||createElement(this.renderer.prepVML(["<stroke/>"]),null,null,element);strokeElem[key]=value||"solid",this[key]=value},dSetter:function(value,key,element){var i,shadows=this.shadows;if(value=value||[],this.d=value.join&&value.join(" "),element.path=value=this.pathToVML(value),shadows)for(i=shadows.length;i--;)shadows[i].path=shadows[i].cutOff?this.cutOffPath(value,shadows[i].cutOff):value;this.setAttr(key,value)},fillSetter:function(value,key,element){var nodeName=element.nodeName;"SPAN"===nodeName?element.style.color=value:"IMG"!==nodeName&&(element.filled=value!==NONE,this.setAttr("fillcolor",this.renderer.color(value,element,key,this)))},opacitySetter:noop,rotationSetter:function(value,key,element){var style=element.style;this[key]=style[key]=value,style.left=-mathRound(mathSin(value*deg2rad)+1)+PX,style.top=mathRound(mathCos(value*deg2rad))+PX},strokeSetter:function(value,key,element){this.setAttr("strokecolor",this.renderer.color(value,element,key))},"stroke-widthSetter":function(value,key,element){element.stroked=!!value,this[key]=value,isNumber(value)&&(value+=PX),this.setAttr("strokeweight",value)},titleSetter:function(value,key){this.setAttr(key,value)},visibilitySetter:function(value,key,element){"inherit"===value&&(value=VISIBLE),this.shadows&&each(this.shadows,function(shadow){shadow.style[key]=value}),"DIV"===element.nodeName&&(value=value===HIDDEN?"-999em":0,docMode8||(element.style[key]=value?VISIBLE:HIDDEN),key="top"),element.style[key]=value},xSetter:function(value,key,element){this[key]=value,"x"===key?key="left":"y"===key&&(key="top"),this.updateClipping?(this[key]=value,this.updateClipping()):element.style[key]=value},zIndexSetter:function(value,key,element){element.style[key]=value}},Highcharts.VMLElement=VMLElement=extendClass(SVGElement,VMLElement),VMLElement.prototype.ySetter=VMLElement.prototype.widthSetter=VMLElement.prototype.heightSetter=VMLElement.prototype.xSetter;var VMLRendererExtension={Element:VMLElement,isIE8:userAgent.indexOf("MSIE 8.0")>-1,init:function(container,width,height,style){var boxWrapper,box,css,renderer=this;if(renderer.alignedObjects=[],boxWrapper=renderer.createElement(DIV).css(extend(this.getStyle(style),{position:RELATIVE})),box=boxWrapper.element,container.appendChild(boxWrapper.element),renderer.isVML=!0,renderer.box=box,renderer.boxWrapper=boxWrapper,renderer.cache={},renderer.setSize(width,height,!1),!doc.namespaces.hcv){doc.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),css="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{doc.createStyleSheet().cssText=css}catch(e){doc.styleSheets[0].cssText+=css}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(x,y,width,height){var clipRect=this.createElement(),isObj=isObject(x);return extend(clipRect,{members:[],count:0,left:(isObj?x.x:x)+1,top:(isObj?x.y:y)+1,width:(isObj?x.width:width)-1,height:(isObj?x.height:height)-1,getCSS:function(wrapper){var element=wrapper.element,nodeName=element.nodeName,isShape="shape"===nodeName,inverted=wrapper.inverted,rect=this,top=rect.top-(isShape?element.offsetTop:0),left=rect.left,right=left+rect.width,bottom=top+rect.height,ret={clip:"rect("+mathRound(inverted?left:top)+"px,"+mathRound(inverted?bottom:right)+"px,"+mathRound(inverted?right:bottom)+"px,"+mathRound(inverted?top:left)+"px)"};return!inverted&&docMode8&&"DIV"===nodeName&&extend(ret,{width:right+PX,height:bottom+PX}),ret},updateClipping:function(){each(clipRect.members,function(member){member.element&&member.css(clipRect.getCSS(member))})}})},color:function(color,elem,prop,wrapper){var colorObject,markup,fillType,renderer=this,regexRgba=/^rgba/,ret=NONE;if(color&&color.linearGradient?fillType="gradient":color&&color.radialGradient&&(fillType="pattern"),fillType){var stopColor,stopOpacity,x1,y1,x2,y2,opacity1,opacity2,color1,color2,firstStop,lastStop,gradient=color.linearGradient||color.radialGradient,fillAttr="",stops=color.stops,colors=[],addFillNode=function(){markup=['<fill colors="'+colors.join(",")+'" opacity="',opacity2,'" o:opacity2="',opacity1,'" type="',fillType,'" ',fillAttr,'focus="100%" method="any" />'],createElement(renderer.prepVML(markup),null,null,elem)};if(firstStop=stops[0],lastStop=stops[stops.length-1],firstStop[0]>0&&stops.unshift([0,firstStop[1]]),lastStop[0]<1&&stops.push([1,lastStop[1]]),each(stops,function(stop,i){regexRgba.test(stop[1])?(colorObject=Color(stop[1]),stopColor=colorObject.get("rgb"),stopOpacity=colorObject.get("a")):(stopColor=stop[1],stopOpacity=1),colors.push(100*stop[0]+"% "+stopColor),i?(opacity2=stopOpacity,color1=stopColor):(opacity1=stopOpacity,color2=stopColor)}),"fill"===prop)if("gradient"===fillType)x1=gradient.x1||gradient[0]||0,y1=gradient.y1||gradient[1]||0,x2=gradient.x2||gradient[2]||0,y2=gradient.y2||gradient[3]||0,fillAttr='angle="'+(90-180*math.atan((y2-y1)/(x2-x1))/mathPI)+'"',addFillNode();else{var bBox,r=gradient.r,sizex=2*r,sizey=2*r,cx=gradient.cx,cy=gradient.cy,radialReference=elem.radialReference,applyRadialGradient=function(){radialReference&&(bBox=wrapper.getBBox(),cx+=(radialReference[0]-bBox.x)/bBox.width-.5,cy+=(radialReference[1]-bBox.y)/bBox.height-.5,sizex*=radialReference[2]/bBox.width,sizey*=radialReference[2]/bBox.height),fillAttr='src="'+defaultOptions.global.VMLRadialGradientURL+'" size="'+sizex+","+sizey+'" origin="0.5,0.5" position="'+cx+","+cy+'" color2="'+color2+'" ',addFillNode()};wrapper.added?applyRadialGradient():wrapper.onAdd=applyRadialGradient,ret=color1}else ret=stopColor}else if(regexRgba.test(color)&&"IMG"!==elem.tagName)colorObject=Color(color),markup=["<",prop,' opacity="',colorObject.get("a"),'"/>'],createElement(this.prepVML(markup),null,null,elem),ret=colorObject.get("rgb");else{var propNodes=elem.getElementsByTagName(prop);propNodes.length&&(propNodes[0].opacity=1,propNodes[0].type="solid"),ret=color}return ret},prepVML:function(markup){var vmlStyle="display:inline-block;behavior:url(#default#VML);",isIE8=this.isIE8;return markup=markup.join(""),isIE8?(markup=markup.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),markup=-1===markup.indexOf('style="')?markup.replace("/>",' style="'+vmlStyle+'" />'):markup.replace('style="','style="'+vmlStyle)):markup=markup.replace("<","<hcv:"),markup},text:SVGRenderer.prototype.html,path:function(path){var attr={coordsize:"10 10"};return isArray(path)?attr.d=path:isObject(path)&&extend(attr,path),this.createElement("shape").attr(attr)},circle:function(x,y,r){var circle=this.symbol("circle");return isObject(x)&&(r=x.r,y=x.y,x=x.x),circle.isCircle=!0,circle.r=r,circle.attr({x:x,y:y})},g:function(name){var wrapper,attribs;return name&&(attribs={className:PREFIX+name,"class":PREFIX+name}),wrapper=this.createElement(DIV).attr(attribs)},image:function(src,x,y,width,height){var obj=this.createElement("img").attr({src:src});return arguments.length>1&&obj.attr({x:x,y:y,width:width,height:height}),obj},createElement:function(nodeName){return"rect"===nodeName?this.symbol(nodeName):SVGRenderer.prototype.createElement.call(this,nodeName)},invertChild:function(element,parentNode){var ren=this,parentStyle=parentNode.style,imgStyle="IMG"===element.tagName&&element.style;css(element,{flip:"x",left:pInt(parentStyle.width)-(imgStyle?pInt(imgStyle.top):1),top:pInt(parentStyle.height)-(imgStyle?pInt(imgStyle.left):1),rotation:-90}),each(element.childNodes,function(child){ren.invertChild(child,element)})},symbols:{arc:function(x,y,w,h,options){var ret,start=options.start,end=options.end,radius=options.r||w||h,innerRadius=options.innerR,cosStart=mathCos(start),sinStart=mathSin(start),cosEnd=mathCos(end),sinEnd=mathSin(end);return end-start===0?["x"]:(ret=["wa",x-radius,y-radius,x+radius,y+radius,x+radius*cosStart,y+radius*sinStart,x+radius*cosEnd,y+radius*sinEnd],options.open&&!innerRadius&&ret.push("e",M,x,y),ret.push("at",x-innerRadius,y-innerRadius,x+innerRadius,y+innerRadius,x+innerRadius*cosEnd,y+innerRadius*sinEnd,x+innerRadius*cosStart,y+innerRadius*sinStart,"x","e"),ret.isArc=!0,ret)},circle:function(x,y,w,h,wrapper){return wrapper&&(w=h=2*wrapper.r),wrapper&&wrapper.isCircle&&(x-=w/2,y-=h/2),["wa",x,y,x+w,y+h,x+w,y+h/2,x+w,y+h/2,"e"]},rect:function(x,y,w,h,options){return SVGRenderer.prototype.symbols[defined(options)&&options.r?"callout":"square"].call(0,x,y,w,h,options)}}};Highcharts.VMLRenderer=VMLRenderer=function(){this.init.apply(this,arguments)},VMLRenderer.prototype=merge(SVGRenderer.prototype,VMLRendererExtension),Renderer=VMLRenderer}SVGRenderer.prototype.measureSpanWidth=function(text,styles){var offsetWidth,measuringSpan=doc.createElement("span"),textNode=doc.createTextNode(text);return measuringSpan.appendChild(textNode),css(measuringSpan,styles),this.box.appendChild(measuringSpan),offsetWidth=measuringSpan.offsetWidth,discardElement(measuringSpan),offsetWidth};var CanVGRenderer,CanVGController;useCanVG&&(Highcharts.CanVGRenderer=CanVGRenderer=function(){SVG_NS="http://www.w3.org/1999/xhtml"},CanVGRenderer.prototype.symbols={},CanVGController=function(){function drawDeferred(){var callIndex,callLength=deferredRenderCalls.length;for(callIndex=0;callLength>callIndex;callIndex++)deferredRenderCalls[callIndex]();deferredRenderCalls=[]}var deferredRenderCalls=[];return{push:function(func,scriptLocation){0===deferredRenderCalls.length&&getScript(scriptLocation,drawDeferred),deferredRenderCalls.push(func)}}}(),Renderer=CanVGRenderer),Tick.prototype={addLabel:function(){var str,dateTimeLabelFormat,tick=this,axis=tick.axis,options=axis.options,chart=axis.chart,categories=axis.categories,names=axis.names,pos=tick.pos,labelOptions=options.labels,tickPositions=axis.tickPositions,isFirst=pos===tickPositions[0],isLast=pos===tickPositions[tickPositions.length-1],value=categories?pick(categories[pos],names[pos],pos):pos,label=tick.label,tickPositionInfo=tickPositions.info;axis.isDatetimeAxis&&tickPositionInfo&&(dateTimeLabelFormat=options.dateTimeLabelFormats[tickPositionInfo.higherRanks[pos]||tickPositionInfo.unitName]),tick.isFirst=isFirst,tick.isLast=isLast,str=axis.labelFormatter.call({axis:axis,chart:chart,isFirst:isFirst,isLast:isLast,dateTimeLabelFormat:dateTimeLabelFormat,value:axis.isLog?correctFloat(lin2log(value)):value}),defined(label)?label&&label.attr({text:str}):(tick.label=label=defined(str)&&labelOptions.enabled?chart.renderer.text(str,0,0,labelOptions.useHTML).css(merge(labelOptions.style)).add(axis.labelGroup):null,tick.labelLength=label&&label.getBBox().width,tick.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(xy){var leftPos,rightPos,textWidth,axis=this.axis,pxPos=xy.x,chartWidth=axis.chart.chartWidth,spacing=axis.chart.spacing,leftBound=pick(axis.labelLeft,spacing[3]),rightBound=pick(axis.labelRight,chartWidth-spacing[1]),label=this.label,rotation=this.rotation,factor={left:0,center:.5,right:1}[axis.labelAlign],labelWidth=label.getBBox().width,slotWidth=axis.slotWidth,xCorrection=factor,goRight=1;rotation?0>rotation&&leftBound>pxPos-factor*labelWidth?textWidth=mathRound(pxPos/mathCos(rotation*deg2rad)-leftBound):rotation>0&&pxPos+factor*labelWidth>rightBound&&(textWidth=mathRound((chartWidth-pxPos)/mathCos(rotation*deg2rad))):(leftPos=pxPos-factor*labelWidth,rightPos=pxPos+(1-factor)*labelWidth,leftBound>leftPos?slotWidth=xy.x+slotWidth*(1-factor)-leftBound:rightPos>rightBound&&(slotWidth=rightBound-xy.x+slotWidth*factor,goRight=-1),slotWidth=mathMin(axis.slotWidth,slotWidth),slotWidth<axis.slotWidth&&"center"===axis.labelAlign&&(xy.x+=goRight*(axis.slotWidth-slotWidth-xCorrection*(axis.slotWidth-mathMin(labelWidth,slotWidth)))),(labelWidth>slotWidth||axis.autoRotation&&label.styles.width)&&(textWidth=slotWidth)),textWidth&&label.css({width:textWidth,textOverflow:"ellipsis"})},getPosition:function(horiz,pos,tickmarkOffset,old){var axis=this.axis,chart=axis.chart,cHeight=old&&chart.oldChartHeight||chart.chartHeight;return{x:horiz?axis.translate(pos+tickmarkOffset,null,null,old)+axis.transB:axis.left+axis.offset+(axis.opposite?(old&&chart.oldChartWidth||chart.chartWidth)-axis.right-axis.left:0),y:horiz?cHeight-axis.bottom+axis.offset-(axis.opposite?axis.height:0):cHeight-axis.translate(pos+tickmarkOffset,null,null,old)-axis.transB}},getLabelPosition:function(x,y,label,horiz,labelOptions,tickmarkOffset,index,step){var line,axis=this.axis,transA=axis.transA,reversed=axis.reversed,staggerLines=axis.staggerLines,rotCorr=axis.tickRotCorr||{x:0,y:0},yOffset=pick(labelOptions.y,rotCorr.y+(2===axis.side?8:-(label.getBBox().height/2)));return x=x+labelOptions.x+rotCorr.x-(tickmarkOffset&&horiz?tickmarkOffset*transA*(reversed?-1:1):0),y=y+yOffset-(tickmarkOffset&&!horiz?tickmarkOffset*transA*(reversed?1:-1):0),staggerLines&&(line=index/(step||1)%staggerLines,y+=line*(axis.labelOffset/staggerLines)),{x:x,y:mathRound(y)}},getMarkPath:function(x,y,tickLength,tickWidth,horiz,renderer){return renderer.crispLine([M,x,y,L,x+(horiz?0:-tickLength),y+(horiz?tickLength:0)],tickWidth)},render:function(index,old,opacity){var gridLinePath,markPath,attribs,tick=this,axis=tick.axis,options=axis.options,chart=axis.chart,renderer=chart.renderer,horiz=axis.horiz,type=tick.type,label=tick.label,pos=tick.pos,labelOptions=options.labels,gridLine=tick.gridLine,gridPrefix=type?type+"Grid":"grid",tickPrefix=type?type+"Tick":"tick",gridLineWidth=options[gridPrefix+"LineWidth"],gridLineColor=options[gridPrefix+"LineColor"],dashStyle=options[gridPrefix+"LineDashStyle"],tickLength=options[tickPrefix+"Length"],tickWidth=options[tickPrefix+"Width"]||0,tickColor=options[tickPrefix+"Color"],tickPosition=options[tickPrefix+"Position"],mark=tick.mark,step=labelOptions.step,show=!0,tickmarkOffset=axis.tickmarkOffset,xy=tick.getPosition(horiz,pos,tickmarkOffset,old),x=xy.x,y=xy.y,reverseCrisp=horiz&&x===axis.pos+axis.len||!horiz&&y===axis.pos?-1:1;opacity=pick(opacity,1),this.isActive=!0,gridLineWidth&&(gridLinePath=axis.getPlotLinePath(pos+tickmarkOffset,gridLineWidth*reverseCrisp,old,!0),gridLine===UNDEFINED&&(attribs={stroke:gridLineColor,"stroke-width":gridLineWidth},dashStyle&&(attribs.dashstyle=dashStyle),type||(attribs.zIndex=1),old&&(attribs.opacity=0),tick.gridLine=gridLine=gridLineWidth?renderer.path(gridLinePath).attr(attribs).add(axis.gridGroup):null),!old&&gridLine&&gridLinePath&&gridLine[tick.isNew?"attr":"animate"]({d:gridLinePath,opacity:opacity})),tickWidth&&tickLength&&("inside"===tickPosition&&(tickLength=-tickLength),axis.opposite&&(tickLength=-tickLength),markPath=tick.getMarkPath(x,y,tickLength,tickWidth*reverseCrisp,horiz,renderer),mark?mark.animate({d:markPath,opacity:opacity}):tick.mark=renderer.path(markPath).attr({stroke:tickColor,"stroke-width":tickWidth,opacity:opacity}).add(axis.axisGroup)),label&&!isNaN(x)&&(label.xy=xy=tick.getLabelPosition(x,y,label,horiz,labelOptions,tickmarkOffset,index,step),tick.isFirst&&!tick.isLast&&!pick(options.showFirstLabel,1)||tick.isLast&&!tick.isFirst&&!pick(options.showLastLabel,1)?show=!1:!horiz||axis.isRadial||labelOptions.step||labelOptions.rotation||old||0===opacity||tick.handleOverflow(xy),step&&index%step&&(show=!1),show&&!isNaN(xy.y)?(xy.opacity=opacity,label[tick.isNew?"attr":"animate"](xy),tick.isNew=!1):label.attr("y",-9999))},destroy:function(){destroyObjectProperties(this,this.axis)}},Highcharts.PlotLineOrBand=function(axis,options){this.axis=axis,options&&(this.options=options,this.id=options.id)},Highcharts.PlotLineOrBand.prototype={render:function(){var addEvent,eventType,xs,ys,x,y,plotLine=this,axis=plotLine.axis,horiz=axis.horiz,options=plotLine.options,optionsLabel=options.label,label=plotLine.label,width=options.width,to=options.to,from=options.from,isBand=defined(from)&&defined(to),value=options.value,dashStyle=options.dashStyle,svgElem=plotLine.svgElem,path=[],color=options.color,zIndex=options.zIndex,events=options.events,attribs={},renderer=axis.chart.renderer;if(axis.isLog&&(from=log2lin(from),to=log2lin(to),value=log2lin(value)),width)path=axis.getPlotLinePath(value,width),attribs={stroke:color,"stroke-width":width},dashStyle&&(attribs.dashstyle=dashStyle);else{if(!isBand)return;path=axis.getPlotBandPath(from,to,options),color&&(attribs.fill=color),options.borderWidth&&(attribs.stroke=options.borderColor,attribs["stroke-width"]=options.borderWidth)}if(defined(zIndex)&&(attribs.zIndex=zIndex),svgElem)path?svgElem.animate({d:path},null,svgElem.onGetPath):(svgElem.hide(),svgElem.onGetPath=function(){svgElem.show()},label&&(plotLine.label=label=label.destroy()));else if(path&&path.length&&(plotLine.svgElem=svgElem=renderer.path(path).attr(attribs).add(),events)){addEvent=function(eventType){svgElem.on(eventType,function(e){events[eventType].apply(plotLine,[e])})};for(eventType in events)addEvent(eventType)}return optionsLabel&&defined(optionsLabel.text)&&path&&path.length&&axis.width>0&&axis.height>0?(optionsLabel=merge({align:horiz&&isBand&&"center",x:horiz?!isBand&&4:10,verticalAlign:!horiz&&isBand&&"middle",y:horiz?isBand?16:10:isBand?6:-4,rotation:horiz&&!isBand&&90},optionsLabel),label||(attribs={align:optionsLabel.textAlign||optionsLabel.align,rotation:optionsLabel.rotation},defined(zIndex)&&(attribs.zIndex=zIndex),plotLine.label=label=renderer.text(optionsLabel.text,0,0,optionsLabel.useHTML).attr(attribs).css(optionsLabel.style).add()),xs=[path[1],path[4],isBand?path[6]:path[1]],ys=[path[2],path[5],isBand?path[7]:path[2]],x=arrayMin(xs),y=arrayMin(ys),label.align(optionsLabel,!1,{x:x,y:y,width:arrayMax(xs)-x,height:arrayMax(ys)-y}),label.show()):label&&label.hide(),plotLine},destroy:function(){erase(this.axis.plotLinesAndBands,this),delete this.axis,destroyObjectProperties(this)}},AxisPlotLineOrBandExtension={getPlotBandPath:function(from,to){var toPath=this.getPlotLinePath(to,null,null,!0),path=this.getPlotLinePath(from,null,null,!0);return path&&toPath&&path.toString()!==toPath.toString()?path.push(toPath[4],toPath[5],toPath[1],toPath[2]):path=null,path},addPlotBand:function(options){return this.addPlotBandOrLine(options,"plotBands")},addPlotLine:function(options){return this.addPlotBandOrLine(options,"plotLines")},addPlotBandOrLine:function(options,coll){var obj=new Highcharts.PlotLineOrBand(this,options).render(),userOptions=this.userOptions;return obj&&(coll&&(userOptions[coll]=userOptions[coll]||[],userOptions[coll].push(options)),this.plotLinesAndBands.push(obj)),obj},removePlotBandOrLine:function(id){for(var plotLinesAndBands=this.plotLinesAndBands,options=this.options,userOptions=this.userOptions,i=plotLinesAndBands.length;i--;)plotLinesAndBands[i].id===id&&plotLinesAndBands[i].destroy();

each([options.plotLines||[],userOptions.plotLines||[],options.plotBands||[],userOptions.plotBands||[]],function(arr){for(i=arr.length;i--;)arr[i].id===id&&erase(arr,arr[i])})}};var Axis=Highcharts.Axis=function(){this.init.apply(this,arguments)};Axis.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return Highcharts.numberFormat(this.total,-1)},style:merge(defaultPlotOptions.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(chart,userOptions){var isXAxis=userOptions.isX,axis=this;axis.horiz=chart.inverted?!isXAxis:isXAxis,axis.isXAxis=isXAxis,axis.coll=isXAxis?"xAxis":"yAxis",axis.opposite=userOptions.opposite,axis.side=userOptions.side||(axis.horiz?axis.opposite?0:2:axis.opposite?1:3),axis.setOptions(userOptions);var options=this.options,type=options.type,isDatetimeAxis="datetime"===type;axis.labelFormatter=options.labels.formatter||axis.defaultLabelFormatter,axis.userOptions=userOptions,axis.minPixelPadding=0,axis.chart=chart,axis.reversed=options.reversed,axis.zoomEnabled=options.zoomEnabled!==!1,axis.categories=options.categories||"category"===type,axis.names=axis.names||[],axis.isLog="logarithmic"===type,axis.isDatetimeAxis=isDatetimeAxis,axis.isLinked=defined(options.linkedTo),axis.ticks={},axis.labelEdge=[],axis.minorTicks={},axis.plotLinesAndBands=[],axis.alternateBands={},axis.len=0,axis.minRange=axis.userMinRange=options.minRange||options.maxZoom,axis.range=options.range,axis.offset=options.offset||0,axis.stacks={},axis.oldStacks={},axis.max=null,axis.min=null,axis.crosshair=pick(options.crosshair,splat(chart.options.tooltip.crosshairs)[isXAxis?0:1],!1);var eventType,events=axis.options.events;-1===inArray(axis,chart.axes)&&(isXAxis&&!this.isColorAxis?chart.axes.splice(chart.xAxis.length,0,axis):chart.axes.push(axis),chart[axis.coll].push(axis)),axis.series=axis.series||[],chart.inverted&&isXAxis&&axis.reversed===UNDEFINED&&(axis.reversed=!0),axis.removePlotBand=axis.removePlotBandOrLine,axis.removePlotLine=axis.removePlotBandOrLine;for(eventType in events)addEvent(axis,eventType,events[eventType]);axis.isLog&&(axis.val2lin=log2lin,axis.lin2val=lin2log)},setOptions:function(userOptions){this.options=merge(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],merge(defaultOptions[this.coll],userOptions))},defaultLabelFormatter:function(){var multi,ret,axis=this.axis,value=this.value,categories=axis.categories,dateTimeLabelFormat=this.dateTimeLabelFormat,numericSymbols=defaultOptions.lang.numericSymbols,i=numericSymbols&&numericSymbols.length,formatOption=axis.options.labels.format,numericSymbolDetector=axis.isLog?value:axis.tickInterval;if(formatOption)ret=format(formatOption,this);else if(categories)ret=value;else if(dateTimeLabelFormat)ret=dateFormat(dateTimeLabelFormat,value);else if(i&&numericSymbolDetector>=1e3)for(;i--&&ret===UNDEFINED;)multi=Math.pow(1e3,i+1),numericSymbolDetector>=multi&&null!==numericSymbols[i]&&(ret=Highcharts.numberFormat(value/multi,-1)+numericSymbols[i]);return ret===UNDEFINED&&(ret=mathAbs(value)>=1e4?Highcharts.numberFormat(value,0):Highcharts.numberFormat(value,-1,UNDEFINED,"")),ret},getSeriesExtremes:function(){var axis=this,chart=axis.chart;axis.hasVisibleSeries=!1,axis.dataMin=axis.dataMax=axis.ignoreMinPadding=axis.ignoreMaxPadding=null,axis.buildStacks&&axis.buildStacks(),each(axis.series,function(series){if(series.visible||!chart.options.chart.ignoreHiddenSeries){var xData,seriesDataMin,seriesDataMax,seriesOptions=series.options,threshold=seriesOptions.threshold;axis.hasVisibleSeries=!0,axis.isLog&&0>=threshold&&(threshold=null),axis.isXAxis?(xData=series.xData,xData.length&&(axis.dataMin=mathMin(pick(axis.dataMin,xData[0]),arrayMin(xData)),axis.dataMax=mathMax(pick(axis.dataMax,xData[0]),arrayMax(xData)))):(series.getExtremes(),seriesDataMax=series.dataMax,seriesDataMin=series.dataMin,defined(seriesDataMin)&&defined(seriesDataMax)&&(axis.dataMin=mathMin(pick(axis.dataMin,seriesDataMin),seriesDataMin),axis.dataMax=mathMax(pick(axis.dataMax,seriesDataMax),seriesDataMax)),defined(threshold)&&(axis.dataMin>=threshold?(axis.dataMin=threshold,axis.ignoreMinPadding=!0):axis.dataMax<threshold&&(axis.dataMax=threshold,axis.ignoreMaxPadding=!0)))}})},translate:function(val,backwards,cvsCoord,old,handleLog,pointPlacement){var returnValue,axis=this.linkedParent||this,sign=1,cvsOffset=0,localA=old?axis.oldTransA:axis.transA,localMin=old?axis.oldMin:axis.min,minPixelPadding=axis.minPixelPadding,doPostTranslate=(axis.doPostTranslate||axis.isLog&&handleLog)&&axis.lin2val;return localA||(localA=axis.transA),cvsCoord&&(sign*=-1,cvsOffset=axis.len),axis.reversed&&(sign*=-1,cvsOffset-=sign*(axis.sector||axis.len)),backwards?(val=val*sign+cvsOffset,val-=minPixelPadding,returnValue=val/localA+localMin,doPostTranslate&&(returnValue=axis.lin2val(returnValue))):(doPostTranslate&&(val=axis.val2lin(val)),"between"===pointPlacement&&(pointPlacement=.5),returnValue=sign*(val-localMin)*localA+cvsOffset+sign*minPixelPadding+(isNumber(pointPlacement)?localA*pointPlacement*axis.pointRange:0)),returnValue},toPixels:function(value,paneCoordinates){return this.translate(value,!1,!this.horiz,null,!0)+(paneCoordinates?0:this.pos)},toValue:function(pixel,paneCoordinates){return this.translate(pixel-(paneCoordinates?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(value,lineWidth,old,force,translatedValue){var x1,y1,x2,y2,skip,axis=this,chart=axis.chart,axisLeft=axis.left,axisTop=axis.top,cHeight=old&&chart.oldChartHeight||chart.chartHeight,cWidth=old&&chart.oldChartWidth||chart.chartWidth,transB=axis.transB,between=function(x,a,b){return(a>x||x>b)&&(force?x=mathMin(mathMax(a,x),b):skip=!0),x};return translatedValue=pick(translatedValue,axis.translate(value,null,null,old)),x1=x2=mathRound(translatedValue+transB),y1=y2=mathRound(cHeight-translatedValue-transB),isNaN(translatedValue)?skip=!0:axis.horiz?(y1=axisTop,y2=cHeight-axis.bottom,x1=x2=between(x1,axisLeft,axisLeft+axis.width)):(x1=axisLeft,x2=cWidth-axis.right,y1=y2=between(y1,axisTop,axisTop+axis.height)),skip&&!force?null:chart.renderer.crispLine([M,x1,y1,L,x2,y2],lineWidth||1)},getLinearTickPositions:function(tickInterval,min,max){var pos,lastPos,roundedMin=correctFloat(mathFloor(min/tickInterval)*tickInterval),roundedMax=correctFloat(mathCeil(max/tickInterval)*tickInterval),tickPositions=[];if(min===max&&isNumber(min))return[min];for(pos=roundedMin;roundedMax>=pos&&(tickPositions.push(pos),pos=correctFloat(pos+tickInterval),pos!==lastPos);)lastPos=pos;return tickPositions},getMinorTickPositions:function(){var pos,i,len,axis=this,options=axis.options,tickPositions=axis.tickPositions,minorTickInterval=axis.minorTickInterval,minorTickPositions=[],min=axis.min,max=axis.max,range=max-min;if(range&&range/minorTickInterval<axis.len/3)if(axis.isLog)for(len=tickPositions.length,i=1;len>i;i++)minorTickPositions=minorTickPositions.concat(axis.getLogTickPositions(minorTickInterval,tickPositions[i-1],tickPositions[i],!0));else if(axis.isDatetimeAxis&&"auto"===options.minorTickInterval)minorTickPositions=minorTickPositions.concat(axis.getTimeTicks(axis.normalizeTimeTickInterval(minorTickInterval),min,max,options.startOfWeek));else for(pos=min+(tickPositions[0]-min)%minorTickInterval;max>=pos;pos+=minorTickInterval)minorTickPositions.push(pos);return axis.trimTicks(minorTickPositions),minorTickPositions},adjustForMinRange:function(){var zoomOffset,closestDataRange,i,distance,xData,loopLength,minArgs,maxArgs,axis=this,options=axis.options,min=axis.min,max=axis.max,spaceAvailable=axis.dataMax-axis.dataMin>=axis.minRange;if(axis.isXAxis&&axis.minRange===UNDEFINED&&!axis.isLog&&(defined(options.min)||defined(options.max)?axis.minRange=null:(each(axis.series,function(series){for(xData=series.xData,loopLength=series.xIncrement?1:xData.length-1,i=loopLength;i>0;i--)distance=xData[i]-xData[i-1],(closestDataRange===UNDEFINED||closestDataRange>distance)&&(closestDataRange=distance)}),axis.minRange=mathMin(5*closestDataRange,axis.dataMax-axis.dataMin))),max-min<axis.minRange){var minRange=axis.minRange;zoomOffset=(minRange-max+min)/2,minArgs=[min-zoomOffset,pick(options.min,min-zoomOffset)],spaceAvailable&&(minArgs[2]=axis.dataMin),min=arrayMax(minArgs),maxArgs=[min+minRange,pick(options.max,min+minRange)],spaceAvailable&&(maxArgs[2]=axis.dataMax),max=arrayMin(maxArgs),minRange>max-min&&(minArgs[0]=max-minRange,minArgs[1]=pick(options.min,max-minRange),min=arrayMax(minArgs))}axis.min=min,axis.max=max},setAxisTranslation:function(saveOld){var closestPointRange,ordinalCorrection,axis=this,range=axis.max-axis.min,pointRange=axis.axisPointRange||0,minPointOffset=0,pointRangePadding=0,linkedParent=axis.linkedParent,hasCategories=!!axis.categories,transA=axis.transA,isXAxis=axis.isXAxis;(isXAxis||hasCategories||pointRange)&&(linkedParent?(minPointOffset=linkedParent.minPointOffset,pointRangePadding=linkedParent.pointRangePadding):each(axis.series,function(series){var seriesPointRange=hasCategories?1:isXAxis?series.pointRange:axis.axisPointRange||0,pointPlacement=series.options.pointPlacement,seriesClosestPointRange=series.closestPointRange;seriesPointRange>range&&(seriesPointRange=0),pointRange=mathMax(pointRange,seriesPointRange),axis.single||(minPointOffset=mathMax(minPointOffset,isString(pointPlacement)?0:seriesPointRange/2),pointRangePadding=mathMax(pointRangePadding,"on"===pointPlacement?0:seriesPointRange)),!series.noSharedTooltip&&defined(seriesClosestPointRange)&&(closestPointRange=defined(closestPointRange)?mathMin(closestPointRange,seriesClosestPointRange):seriesClosestPointRange)}),ordinalCorrection=axis.ordinalSlope&&closestPointRange?axis.ordinalSlope/closestPointRange:1,axis.minPointOffset=minPointOffset*=ordinalCorrection,axis.pointRangePadding=pointRangePadding*=ordinalCorrection,axis.pointRange=mathMin(pointRange,range),isXAxis&&(axis.closestPointRange=closestPointRange)),saveOld&&(axis.oldTransA=transA),axis.translationSlope=axis.transA=transA=axis.len/(range+pointRangePadding||1),axis.transB=axis.horiz?axis.left:axis.bottom,axis.minPixelPadding=transA*minPointOffset},setTickInterval:function(secondPass){var length,linkedParentExtremes,minTickInterval,axis=this,chart=axis.chart,options=axis.options,isLog=axis.isLog,isDatetimeAxis=axis.isDatetimeAxis,isXAxis=axis.isXAxis,isLinked=axis.isLinked,maxPadding=options.maxPadding,minPadding=options.minPadding,tickIntervalOption=options.tickInterval,tickPixelIntervalOption=options.tickPixelInterval,categories=axis.categories;isDatetimeAxis||categories||isLinked||this.getTickAmount(),isLinked?(axis.linkedParent=chart[axis.coll][options.linkedTo],linkedParentExtremes=axis.linkedParent.getExtremes(),axis.min=pick(linkedParentExtremes.min,linkedParentExtremes.dataMin),axis.max=pick(linkedParentExtremes.max,linkedParentExtremes.dataMax),options.type!==axis.linkedParent.options.type&&error(11,1)):(axis.min=pick(axis.userMin,options.min,axis.dataMin),axis.max=pick(axis.userMax,options.max,axis.dataMax)),isLog&&(!secondPass&&mathMin(axis.min,pick(axis.dataMin,axis.min))<=0&&error(10,1),axis.min=correctFloat(log2lin(axis.min)),axis.max=correctFloat(log2lin(axis.max))),axis.range&&defined(axis.max)&&(axis.userMin=axis.min=mathMax(axis.min,axis.max-axis.range),axis.userMax=axis.max,axis.range=null),axis.beforePadding&&axis.beforePadding(),axis.adjustForMinRange(),categories||axis.axisPointRange||axis.usePercentage||isLinked||!defined(axis.min)||!defined(axis.max)||(length=axis.max-axis.min,length&&(defined(options.min)||defined(axis.userMin)||!minPadding||!(axis.dataMin<0)&&axis.ignoreMinPadding||(axis.min-=length*minPadding),defined(options.max)||defined(axis.userMax)||!maxPadding||!(axis.dataMax>0)&&axis.ignoreMaxPadding||(axis.max+=length*maxPadding))),isNumber(options.floor)&&(axis.min=mathMax(axis.min,options.floor)),isNumber(options.ceiling)&&(axis.max=mathMin(axis.max,options.ceiling)),axis.tickInterval=axis.min===axis.max||void 0===axis.min||void 0===axis.max?1:isLinked&&!tickIntervalOption&&tickPixelIntervalOption===axis.linkedParent.options.tickPixelInterval?tickIntervalOption=axis.linkedParent.tickInterval:pick(tickIntervalOption,this.tickAmount?(axis.max-axis.min)/mathMax(this.tickAmount-1,1):void 0,categories?1:(axis.max-axis.min)*tickPixelIntervalOption/mathMax(axis.len,tickPixelIntervalOption)),isXAxis&&!secondPass&&each(axis.series,function(series){series.processData(axis.min!==axis.oldMin||axis.max!==axis.oldMax)}),axis.setAxisTranslation(!0),axis.beforeSetTickPositions&&axis.beforeSetTickPositions(),axis.postProcessTickInterval&&(axis.tickInterval=axis.postProcessTickInterval(axis.tickInterval)),axis.pointRange&&(axis.tickInterval=mathMax(axis.pointRange,axis.tickInterval)),minTickInterval=pick(options.minTickInterval,axis.isDatetimeAxis&&axis.closestPointRange),!tickIntervalOption&&axis.tickInterval<minTickInterval&&(axis.tickInterval=minTickInterval),isDatetimeAxis||isLog||tickIntervalOption||(axis.tickInterval=normalizeTickInterval(axis.tickInterval,null,getMagnitude(axis.tickInterval),pick(options.allowDecimals,!(axis.tickInterval>.5&&axis.tickInterval<5&&axis.max>1e3&&axis.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(axis.tickInterval=axis.unsquish()),this.setTickPositions()},setTickPositions:function(){var tickPositions,single,options=this.options,tickPositionsOption=options.tickPositions,tickPositioner=options.tickPositioner,startOnTick=options.startOnTick,endOnTick=options.endOnTick;this.tickmarkOffset=this.categories&&"between"===options.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===options.minorTickInterval&&this.tickInterval?this.tickInterval/5:options.minorTickInterval,this.tickPositions=tickPositions=tickPositionsOption&&tickPositionsOption.slice(),tickPositions||(tickPositions=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,options.units),this.min,this.max,options.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickPositions=tickPositions,tickPositioner&&(tickPositioner=tickPositioner.apply(this,[this.min,this.max]),tickPositioner&&(this.tickPositions=tickPositions=tickPositioner))),this.isLinked||(this.trimTicks(tickPositions,startOnTick,endOnTick),this.min===this.max&&defined(this.min)&&!this.tickAmount&&(single=!0,this.min-=.5,this.max+=.5),this.single=single,tickPositionsOption||tickPositioner||this.adjustTickAmount())},trimTicks:function(tickPositions,startOnTick,endOnTick){var roundedMin=tickPositions[0],roundedMax=tickPositions[tickPositions.length-1],minPointOffset=this.minPointOffset||0;startOnTick?this.min=roundedMin:this.min-minPointOffset>roundedMin&&tickPositions.shift(),endOnTick?this.max=roundedMax:this.max+minPointOffset<roundedMax&&tickPositions.pop(),0===tickPositions.length&&defined(roundedMin)&&tickPositions.push((roundedMax+roundedMin)/2)},getTickAmount:function(){var hasOther,others={},options=this.options,tickAmount=options.tickAmount,tickPixelInterval=options.tickPixelInterval;!defined(options.tickInterval)&&this.len<tickPixelInterval&&!this.isRadial&&!this.isLog&&options.startOnTick&&options.endOnTick&&(tickAmount=2),tickAmount||this.chart.options.chart.alignTicks===!1||options.alignTicks===!1||(each(this.chart[this.coll],function(axis){var options=axis.options,horiz=axis.horiz,key=[horiz?options.left:options.top,horiz?options.width:options.height,options.pane].join(",");others[key]?axis.series.length&&(hasOther=!0):others[key]=1}),hasOther&&(tickAmount=mathCeil(this.len/tickPixelInterval)+1)),4>tickAmount&&(this.finalTickAmt=tickAmount,tickAmount=5),this.tickAmount=tickAmount},adjustTickAmount:function(){var i,len,tickInterval=this.tickInterval,tickPositions=this.tickPositions,tickAmount=this.tickAmount,finalTickAmt=this.finalTickAmt,currentTickAmount=tickPositions&&tickPositions.length;if(tickAmount>currentTickAmount){for(;tickPositions.length<tickAmount;)tickPositions.push(correctFloat(tickPositions[tickPositions.length-1]+tickInterval));this.transA*=(currentTickAmount-1)/(tickAmount-1),this.max=tickPositions[tickPositions.length-1]}else currentTickAmount>tickAmount&&(this.tickInterval*=2,this.setTickPositions());if(defined(finalTickAmt)){for(i=len=tickPositions.length;i--;)(3===finalTickAmt&&i%2===1||2>=finalTickAmt&&i>0&&len-1>i)&&tickPositions.splice(i,1);this.finalTickAmt=UNDEFINED}},setScale:function(){var type,i,isDirtyData,isDirtyAxisLength,axis=this,stacks=axis.stacks;if(axis.oldMin=axis.min,axis.oldMax=axis.max,axis.oldAxisLength=axis.len,axis.setAxisSize(),isDirtyAxisLength=axis.len!==axis.oldAxisLength,each(axis.series,function(series){(series.isDirtyData||series.isDirty||series.xAxis.isDirty)&&(isDirtyData=!0)}),isDirtyAxisLength||isDirtyData||axis.isLinked||axis.forceRedraw||axis.userMin!==axis.oldUserMin||axis.userMax!==axis.oldUserMax){if(!axis.isXAxis)for(type in stacks)for(i in stacks[type])stacks[type][i].total=null,stacks[type][i].cum=0;axis.forceRedraw=!1,axis.getSeriesExtremes(),axis.setTickInterval(),axis.oldUserMin=axis.userMin,axis.oldUserMax=axis.userMax,axis.isDirty||(axis.isDirty=isDirtyAxisLength||axis.min!==axis.oldMin||axis.max!==axis.oldMax)}else if(!axis.isXAxis){axis.oldStacks&&(stacks=axis.stacks=axis.oldStacks);for(type in stacks)for(i in stacks[type])stacks[type][i].cum=stacks[type][i].total}},setExtremes:function(newMin,newMax,redraw,animation,eventArguments){var axis=this,chart=axis.chart;redraw=pick(redraw,!0),each(axis.series,function(serie){delete serie.kdTree}),eventArguments=extend(eventArguments,{min:newMin,max:newMax}),fireEvent(axis,"setExtremes",eventArguments,function(){axis.userMin=newMin,axis.userMax=newMax,axis.eventArgs=eventArguments,axis.isDirtyExtremes=!0,redraw&&chart.redraw(animation)})},zoom:function(newMin,newMax){var dataMin=this.dataMin,dataMax=this.dataMax,options=this.options;return this.allowZoomOutside||(defined(dataMin)&&newMin<=mathMin(dataMin,pick(options.min,dataMin))&&(newMin=UNDEFINED),defined(dataMax)&&newMax>=mathMax(dataMax,pick(options.max,dataMax))&&(newMax=UNDEFINED)),this.displayBtn=newMin!==UNDEFINED||newMax!==UNDEFINED,this.setExtremes(newMin,newMax,!1,UNDEFINED,{trigger:"zoom"}),!0},setAxisSize:function(){var chart=this.chart,options=this.options,offsetLeft=options.offsetLeft||0,offsetRight=options.offsetRight||0,horiz=this.horiz,width=pick(options.width,chart.plotWidth-offsetLeft+offsetRight),height=pick(options.height,chart.plotHeight),top=pick(options.top,chart.plotTop),left=pick(options.left,chart.plotLeft+offsetLeft),percentRegex=/%$/;percentRegex.test(height)&&(height=parseFloat(height)/100*chart.plotHeight),percentRegex.test(top)&&(top=parseFloat(top)/100*chart.plotHeight+chart.plotTop),this.left=left,this.top=top,this.width=width,this.height=height,this.bottom=chart.chartHeight-height-top,this.right=chart.chartWidth-width-left,this.len=mathMax(horiz?width:height,0),this.pos=horiz?left:top},getExtremes:function(){var axis=this,isLog=axis.isLog;return{min:isLog?correctFloat(lin2log(axis.min)):axis.min,max:isLog?correctFloat(lin2log(axis.max)):axis.max,dataMin:axis.dataMin,dataMax:axis.dataMax,userMin:axis.userMin,userMax:axis.userMax}},getThreshold:function(threshold){var axis=this,isLog=axis.isLog,realMin=isLog?lin2log(axis.min):axis.min,realMax=isLog?lin2log(axis.max):axis.max;return realMin>threshold||null===threshold?threshold=realMin:threshold>realMax&&(threshold=realMax),axis.translate(threshold,0,1,0,1)},autoLabelAlign:function(rotation){var ret,angle=(pick(rotation,0)-90*this.side+720)%360;return ret=angle>15&&165>angle?"right":angle>195&&345>angle?"left":"center"},unsquish:function(){var rotation,step,autoRotation,chart=this.chart,ticks=this.ticks,labelOptions=this.options.labels,horiz=this.horiz,tickInterval=this.tickInterval,newTickInterval=tickInterval,slotSize=this.len/(((this.categories?1:0)+this.max-this.min)/tickInterval),rotationOption=labelOptions.rotation,labelMetrics=chart.renderer.fontMetrics(labelOptions.style.fontSize,ticks[0]&&ticks[0].label),bestScore=Number.MAX_VALUE,getStep=function(spaceNeeded){var step=spaceNeeded/(slotSize||1);return step=step>1?mathCeil(step):1,step*tickInterval};return horiz?(autoRotation=defined(rotationOption)?[rotationOption]:slotSize<pick(labelOptions.autoRotationLimit,80)&&!labelOptions.staggerLines&&!labelOptions.step&&labelOptions.autoRotation,autoRotation&&each(autoRotation,function(rot){var score;(rot===rotationOption||rot&&rot>=-90&&90>=rot)&&(step=getStep(mathAbs(labelMetrics.h/mathSin(deg2rad*rot))),score=step+mathAbs(rot/360),bestScore>score&&(bestScore=score,rotation=rot,newTickInterval=step))})):newTickInterval=getStep(labelMetrics.h),this.autoRotation=autoRotation,this.labelRotation=rotation,newTickInterval},renderUnsquish:function(){var css,label,i,pos,chart=this.chart,renderer=chart.renderer,tickPositions=this.tickPositions,ticks=this.ticks,labelOptions=this.options.labels,horiz=this.horiz,margin=chart.margin,slotCount=this.categories?tickPositions.length:tickPositions.length-1,slotWidth=this.slotWidth=horiz&&!labelOptions.step&&!labelOptions.rotation&&(this.staggerLines||1)*chart.plotWidth/slotCount||!horiz&&(margin[3]&&margin[3]-chart.spacing[3]||.33*chart.chartWidth),innerWidth=mathMax(1,mathRound(slotWidth-2*(labelOptions.padding||5))),attr={},labelMetrics=renderer.fontMetrics(labelOptions.style.fontSize,ticks[0]&&ticks[0].label),labelLength=0;if(isString(labelOptions.rotation)||(attr.rotation=labelOptions.rotation),this.autoRotation)each(tickPositions,function(tick){tick=ticks[tick],tick&&tick.labelLength>labelLength&&(labelLength=tick.labelLength)}),labelLength>innerWidth&&labelLength>labelMetrics.h?attr.rotation=this.labelRotation:this.labelRotation=0;else if(slotWidth)for(css={width:innerWidth+PX,textOverflow:"clip"},i=tickPositions.length;!horiz&&i--;)pos=tickPositions[i],label=ticks[pos].label,label&&("ellipsis"===label.styles.textOverflow&&label.css({textOverflow:"clip"}),label.getBBox().height>this.len/tickPositions.length-(labelMetrics.h-labelMetrics.f)&&(label.specCss={textOverflow:"ellipsis"}));attr.rotation&&(css={width:(labelLength>.5*chart.chartHeight?.33*chart.chartHeight:chart.chartHeight)+PX,textOverflow:"ellipsis"}),this.labelAlign=attr.align=labelOptions.align||this.autoLabelAlign(this.labelRotation),each(tickPositions,function(pos){var tick=ticks[pos],label=tick&&tick.label;label&&(css&&label.css(merge(css,label.specCss)),delete label.specCss,label.attr(attr),tick.rotation=attr.rotation)}),this.tickRotCorr=renderer.rotCorr(labelMetrics.b,this.labelRotation||0,2===this.side)},getOffset:function(){var hasData,showAxis,titleOffsetOption,labelOffsetPadded,n,lineHeightCorrection,axis=this,chart=axis.chart,renderer=chart.renderer,options=axis.options,tickPositions=axis.tickPositions,ticks=axis.ticks,horiz=axis.horiz,side=axis.side,invertedSide=chart.inverted?[1,0,3,2][side]:side,titleOffset=0,titleMargin=0,axisTitleOptions=options.title,labelOptions=options.labels,labelOffset=0,axisOffset=chart.axisOffset,clipOffset=chart.clipOffset,directionFactor=[-1,1,1,-1][side];if(axis.hasData=hasData=axis.hasVisibleSeries||defined(axis.min)&&defined(axis.max)&&!!tickPositions,axis.showAxis=showAxis=hasData||pick(options.showEmpty,!0),axis.staggerLines=axis.horiz&&labelOptions.staggerLines,axis.axisGroup||(axis.gridGroup=renderer.g("grid").attr({zIndex:options.gridZIndex||1}).add(),axis.axisGroup=renderer.g("axis").attr({zIndex:options.zIndex||2}).add(),axis.labelGroup=renderer.g("axis-labels").attr({zIndex:labelOptions.zIndex||7}).addClass(PREFIX+axis.coll.toLowerCase()+"-labels").add()),hasData||axis.isLinked)each(tickPositions,function(pos){ticks[pos]?ticks[pos].addLabel():ticks[pos]=new Tick(axis,pos)}),axis.renderUnsquish(),each(tickPositions,function(pos){(0===side||2===side||{1:"left",3:"right"}[side]===axis.labelAlign)&&(labelOffset=mathMax(ticks[pos].getLabelSize(),labelOffset))}),axis.staggerLines&&(labelOffset*=axis.staggerLines,axis.labelOffset=labelOffset);else for(n in ticks)ticks[n].destroy(),delete ticks[n];axisTitleOptions&&axisTitleOptions.text&&axisTitleOptions.enabled!==!1&&(axis.axisTitle||(axis.axisTitle=renderer.text(axisTitleOptions.text,0,0,axisTitleOptions.useHTML).attr({zIndex:7,rotation:axisTitleOptions.rotation||0,align:axisTitleOptions.textAlign||{low:"left",middle:"center",high:"right"}[axisTitleOptions.align]}).addClass(PREFIX+this.coll.toLowerCase()+"-title").css(axisTitleOptions.style).add(axis.axisGroup),axis.axisTitle.isNew=!0),showAxis&&(titleOffset=axis.axisTitle.getBBox()[horiz?"height":"width"],titleOffsetOption=axisTitleOptions.offset,titleMargin=defined(titleOffsetOption)?0:pick(axisTitleOptions.margin,horiz?5:10)),axis.axisTitle[showAxis?"show":"hide"]()),axis.offset=directionFactor*pick(options.offset,axisOffset[side]),axis.tickRotCorr=axis.tickRotCorr||{x:0,y:0},lineHeightCorrection=2===side?axis.tickRotCorr.y:0,labelOffsetPadded=labelOffset+titleMargin+(labelOffset&&directionFactor*(horiz?pick(labelOptions.y,axis.tickRotCorr.y+8):labelOptions.x)-lineHeightCorrection),axis.axisTitleMargin=pick(titleOffsetOption,labelOffsetPadded),axisOffset[side]=mathMax(axisOffset[side],axis.axisTitleMargin+titleOffset+directionFactor*axis.offset,labelOffsetPadded),clipOffset[invertedSide]=mathMax(clipOffset[invertedSide],2*mathFloor(options.lineWidth/2))},getLinePath:function(lineWidth){var chart=this.chart,opposite=this.opposite,offset=this.offset,horiz=this.horiz,lineLeft=this.left+(opposite?this.width:0)+offset,lineTop=chart.chartHeight-this.bottom-(opposite?this.height:0)+offset;return opposite&&(lineWidth*=-1),chart.renderer.crispLine([M,horiz?this.left:lineLeft,horiz?lineTop:this.top,L,horiz?chart.chartWidth-this.right:lineLeft,horiz?lineTop:chart.chartHeight-this.bottom],lineWidth)},getTitlePosition:function(){var horiz=this.horiz,axisLeft=this.left,axisTop=this.top,axisLength=this.len,axisTitleOptions=this.options.title,margin=horiz?axisLeft:axisTop,opposite=this.opposite,offset=this.offset,xOption=axisTitleOptions.x||0,yOption=axisTitleOptions.y||0,fontSize=pInt(axisTitleOptions.style.fontSize||12),alongAxis={low:margin+(horiz?0:axisLength),middle:margin+axisLength/2,high:margin+(horiz?axisLength:0)}[axisTitleOptions.align],offAxis=(horiz?axisTop+this.height:axisLeft)+(horiz?1:-1)*(opposite?-1:1)*this.axisTitleMargin+(2===this.side?fontSize:0);return{x:horiz?alongAxis+xOption:offAxis+(opposite?this.width:0)+offset+xOption,y:horiz?offAxis+yOption-(opposite?this.height:0)+offset:alongAxis+yOption}},render:function(){var linePath,from,to,axis=this,chart=axis.chart,renderer=chart.renderer,options=axis.options,isLog=axis.isLog,isLinked=axis.isLinked,tickPositions=axis.tickPositions,axisTitle=axis.axisTitle,ticks=axis.ticks,minorTicks=axis.minorTicks,alternateBands=axis.alternateBands,stackLabelOptions=options.stackLabels,alternateGridColor=options.alternateGridColor,tickmarkOffset=axis.tickmarkOffset,lineWidth=options.lineWidth,hasRendered=chart.hasRendered,slideInTicks=hasRendered&&defined(axis.oldMin)&&!isNaN(axis.oldMin),hasData=axis.hasData,showAxis=axis.showAxis;axis.labelEdge.length=0,axis.overlap=!1,each([ticks,minorTicks,alternateBands],function(coll){var pos;for(pos in coll)coll[pos].isActive=!1}),(hasData||isLinked)&&(axis.minorTickInterval&&!axis.categories&&each(axis.getMinorTickPositions(),function(pos){minorTicks[pos]||(minorTicks[pos]=new Tick(axis,pos,"minor")),slideInTicks&&minorTicks[pos].isNew&&minorTicks[pos].render(null,!0),minorTicks[pos].render(null,!1,1)}),tickPositions.length&&(each(tickPositions,function(pos,i){(!isLinked||pos>=axis.min&&pos<=axis.max)&&(ticks[pos]||(ticks[pos]=new Tick(axis,pos)),slideInTicks&&ticks[pos].isNew&&ticks[pos].render(i,!0,.1),ticks[pos].render(i))}),tickmarkOffset&&(0===axis.min||axis.single)&&(ticks[-1]||(ticks[-1]=new Tick(axis,-1,null,!0)),ticks[-1].render(-1))),alternateGridColor&&each(tickPositions,function(pos,i){i%2===0&&pos<axis.max&&(alternateBands[pos]||(alternateBands[pos]=new Highcharts.PlotLineOrBand(axis)),from=pos+tickmarkOffset,to=tickPositions[i+1]!==UNDEFINED?tickPositions[i+1]+tickmarkOffset:axis.max,alternateBands[pos].options={from:isLog?lin2log(from):from,to:isLog?lin2log(to):to,color:alternateGridColor},alternateBands[pos].render(),alternateBands[pos].isActive=!0)}),axis._addedPlotLB||(each((options.plotLines||[]).concat(options.plotBands||[]),function(plotLineOptions){axis.addPlotBandOrLine(plotLineOptions)}),axis._addedPlotLB=!0)),each([ticks,minorTicks,alternateBands],function(coll){var pos,i,forDestruction=[],delay=globalAnimation?globalAnimation.duration||500:0,destroyInactiveItems=function(){for(i=forDestruction.length;i--;)coll[forDestruction[i]]&&!coll[forDestruction[i]].isActive&&(coll[forDestruction[i]].destroy(),delete coll[forDestruction[i]])};for(pos in coll)coll[pos].isActive||(coll[pos].render(pos,!1,0),coll[pos].isActive=!1,forDestruction.push(pos));coll!==alternateBands&&chart.hasRendered&&delay?delay&&setTimeout(destroyInactiveItems,delay):destroyInactiveItems()}),lineWidth&&(linePath=axis.getLinePath(lineWidth),axis.axisLine?axis.axisLine.animate({d:linePath}):axis.axisLine=renderer.path(linePath).attr({stroke:options.lineColor,"stroke-width":lineWidth,zIndex:7}).add(axis.axisGroup),axis.axisLine[showAxis?"show":"hide"]()),axisTitle&&showAxis&&(axisTitle[axisTitle.isNew?"attr":"animate"](axis.getTitlePosition()),axisTitle.isNew=!1),stackLabelOptions&&stackLabelOptions.enabled&&axis.renderStackTotals(),axis.isDirty=!1},redraw:function(){this.render(),each(this.plotLinesAndBands,function(plotLine){plotLine.render()}),each(this.series,function(series){series.isDirty=!0})},destroy:function(keepEvents){var stackKey,i,axis=this,stacks=axis.stacks,plotLinesAndBands=axis.plotLinesAndBands;keepEvents||removeEvent(axis);for(stackKey in stacks)destroyObjectProperties(stacks[stackKey]),stacks[stackKey]=null;for(each([axis.ticks,axis.minorTicks,axis.alternateBands],function(coll){destroyObjectProperties(coll)}),i=plotLinesAndBands.length;i--;)plotLinesAndBands[i].destroy();each(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(prop){axis[prop]&&(axis[prop]=axis[prop].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(e,point){var path,pos,attribs,categorized,options=this.crosshair,animation=options.animation;if(!this.crosshair||(defined(point)||!pick(this.crosshair.snap,!0))===!1||point&&point.series&&point.series[this.coll]!==this)this.hideCrosshair();else{if(pick(options.snap,!0)?defined(point)&&(pos=this.isXAxis?point.plotX:this.len-point.plotY):pos=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,path=this.isRadial?this.getPlotLinePath(this.isXAxis?point.x:pick(point.stackY,point.y))||null:this.getPlotLinePath(null,null,null,null,pos)||null,
null===path)return void this.hideCrosshair();this.cross?this.cross.attr({visibility:VISIBLE})[animation?"animate":"attr"]({d:path},animation):(categorized=this.categories&&!this.isRadial,attribs={"stroke-width":options.width||(categorized?this.transA:1),stroke:options.color||(categorized?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:options.zIndex||2},options.dashStyle&&(attribs.dashstyle=options.dashStyle),this.cross=this.chart.renderer.path(path).attr(attribs).add())}},hideCrosshair:function(){this.cross&&this.cross.hide()}},extend(Axis.prototype,AxisPlotLineOrBandExtension),Axis.prototype.getTimeTicks=function(normalizedInterval,min,max,startOfWeek){var i,minYear,tickPositions=[],higherRanks={},useUTC=defaultOptions.global.useUTC,minDate=new Date(min-getTZOffset(min)),interval=normalizedInterval.unitRange,count=normalizedInterval.count;if(defined(min)){minDate[setMilliseconds](interval>=timeUnits.second?0:count*mathFloor(minDate.getMilliseconds()/count)),interval>=timeUnits.second&&minDate[setSeconds](interval>=timeUnits.minute?0:count*mathFloor(minDate.getSeconds()/count)),interval>=timeUnits.minute&&minDate[setMinutes](interval>=timeUnits.hour?0:count*mathFloor(minDate[getMinutes]()/count)),interval>=timeUnits.hour&&minDate[setHours](interval>=timeUnits.day?0:count*mathFloor(minDate[getHours]()/count)),interval>=timeUnits.day&&minDate[setDate](interval>=timeUnits.month?1:count*mathFloor(minDate[getDate]()/count)),interval>=timeUnits.month&&(minDate[setMonth](interval>=timeUnits.year?0:count*mathFloor(minDate[getMonth]()/count)),minYear=minDate[getFullYear]()),interval>=timeUnits.year&&(minYear-=minYear%count,minDate[setFullYear](minYear)),interval===timeUnits.week&&minDate[setDate](minDate[getDate]()-minDate[getDay]()+pick(startOfWeek,1)),i=1,(timezoneOffset||getTimezoneOffset)&&(minDate=minDate.getTime(),minDate=new Date(minDate+getTZOffset(minDate))),minYear=minDate[getFullYear]();for(var time=minDate.getTime(),minMonth=minDate[getMonth](),minDateDate=minDate[getDate](),localTimezoneOffset=(timeUnits.day+(useUTC?getTZOffset(minDate):60*minDate.getTimezoneOffset()*1e3))%timeUnits.day;max>time;)tickPositions.push(time),interval===timeUnits.year?time=makeTime(minYear+i*count,0):interval===timeUnits.month?time=makeTime(minYear,minMonth+i*count):useUTC||interval!==timeUnits.day&&interval!==timeUnits.week?time+=interval*count:time=makeTime(minYear,minMonth,minDateDate+i*count*(interval===timeUnits.day?1:7)),i++;tickPositions.push(time),each(grep(tickPositions,function(time){return interval<=timeUnits.hour&&time%timeUnits.day===localTimezoneOffset}),function(time){higherRanks[time]="day"})}return tickPositions.info=extend(normalizedInterval,{higherRanks:higherRanks,totalRange:interval*count}),tickPositions},Axis.prototype.normalizeTimeTickInterval=function(tickInterval,unitsOption){var count,i,units=unitsOption||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],unit=units[units.length-1],interval=timeUnits[unit[0]],multiples=unit[1];for(i=0;i<units.length;i++)if(unit=units[i],interval=timeUnits[unit[0]],multiples=unit[1],units[i+1]){var lessThan=(interval*multiples[multiples.length-1]+timeUnits[units[i+1][0]])/2;if(lessThan>=tickInterval)break}return interval===timeUnits.year&&5*interval>tickInterval&&(multiples=[1,2,5]),count=normalizeTickInterval(tickInterval/interval,multiples,"year"===unit[0]?mathMax(getMagnitude(tickInterval/interval),1):1),{unitRange:interval,count:count,unitName:unit[0]}},Axis.prototype.getLogTickPositions=function(interval,min,max,minor){var axis=this,options=axis.options,axisLength=axis.len,positions=[];if(minor||(axis._minorAutoInterval=null),interval>=.5)interval=mathRound(interval),positions=axis.getLinearTickPositions(interval,min,max);else if(interval>=.08){var intermediate,i,j,len,pos,lastPos,break2,roundedMin=mathFloor(min);for(intermediate=interval>.3?[1,2,4]:interval>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],i=roundedMin;max+1>i&&!break2;i++)for(len=intermediate.length,j=0;len>j&&!break2;j++)pos=log2lin(lin2log(i)*intermediate[j]),pos>min&&(!minor||max>=lastPos)&&lastPos!==UNDEFINED&&positions.push(lastPos),lastPos>max&&(break2=!0),lastPos=pos}else{var realMin=lin2log(min),realMax=lin2log(max),tickIntervalOption=options[minor?"minorTickInterval":"tickInterval"],filteredTickIntervalOption="auto"===tickIntervalOption?null:tickIntervalOption,tickPixelIntervalOption=options.tickPixelInterval/(minor?5:1),totalPixelLength=minor?axisLength/axis.tickPositions.length:axisLength;interval=pick(filteredTickIntervalOption,axis._minorAutoInterval,(realMax-realMin)*tickPixelIntervalOption/(totalPixelLength||1)),interval=normalizeTickInterval(interval,null,getMagnitude(interval)),positions=map(axis.getLinearTickPositions(interval,realMin,realMax),log2lin),minor||(axis._minorAutoInterval=interval/5)}return minor||(axis.tickInterval=interval),positions};var Tooltip=Highcharts.Tooltip=function(){this.init.apply(this,arguments)};Tooltip.prototype={init:function(chart,options){var borderWidth=options.borderWidth,style=options.style,padding=pInt(style.padding);this.chart=chart,this.options=options,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=chart.renderer.label("",0,0,options.shape||"callout",null,null,options.useHTML,null,"tooltip").attr({padding:padding,fill:options.backgroundColor,"stroke-width":borderWidth,r:options.borderRadius,zIndex:8}).css(style).css({padding:0}).add().attr({y:-9999}),useCanVG||this.label.shadow(options.shadow),this.shared=options.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(x,y,anchorX,anchorY){var tooltip=this,now=tooltip.now,animate=tooltip.options.animation!==!1&&!tooltip.isHidden&&(mathAbs(x-now.x)>1||mathAbs(y-now.y)>1),skipAnchor=tooltip.followPointer||tooltip.len>1;extend(now,{x:animate?(2*now.x+x)/3:x,y:animate?(now.y+y)/2:y,anchorX:skipAnchor?UNDEFINED:animate?(2*now.anchorX+anchorX)/3:anchorX,anchorY:skipAnchor?UNDEFINED:animate?(now.anchorY+anchorY)/2:anchorY}),tooltip.label.attr(now),animate&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){tooltip&&tooltip.move(x,y,anchorX,anchorY)},32))},hide:function(delay){var hoverPoints,tooltip=this;clearTimeout(this.hideTimer),this.isHidden||(hoverPoints=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){tooltip.label.fadeOut(),tooltip.isHidden=!0},pick(delay,this.options.hideDelay,500)))},getAnchor:function(points,mouseEvent){var ret,yAxis,xAxis,chart=this.chart,inverted=chart.inverted,plotTop=chart.plotTop,plotLeft=chart.plotLeft,plotX=0,plotY=0;return points=splat(points),ret=points[0].tooltipPos,this.followPointer&&mouseEvent&&(mouseEvent.chartX===UNDEFINED&&(mouseEvent=chart.pointer.normalize(mouseEvent)),ret=[mouseEvent.chartX-chart.plotLeft,mouseEvent.chartY-plotTop]),ret||(each(points,function(point){yAxis=point.series.yAxis,xAxis=point.series.xAxis,plotX+=point.plotX+(!inverted&&xAxis?xAxis.left-plotLeft:0),plotY+=(point.plotLow?(point.plotLow+point.plotHigh)/2:point.plotY)+(!inverted&&yAxis?yAxis.top-plotTop:0)}),plotX/=points.length,plotY/=points.length,ret=[inverted?chart.plotWidth-plotY:plotX,this.shared&&!inverted&&points.length>1&&mouseEvent?mouseEvent.chartY-plotTop:inverted?chart.plotHeight-plotX:plotY]),map(ret,mathRound)},getPosition:function(boxWidth,boxHeight,point){var swapped,chart=this.chart,distance=this.distance,ret={},h=point.h||0,first=["y",chart.chartHeight,boxHeight,point.plotY+chart.plotTop],second=["x",chart.chartWidth,boxWidth,point.plotX+chart.plotLeft],preferFarSide=pick(point.ttBelow,chart.inverted&&!point.negative||!chart.inverted&&point.negative),firstDimension=function(dim,outerSize,innerSize,point){var roomLeft=point-distance>innerSize,roomRight=outerSize>point+distance+innerSize,alignedLeft=point-distance-innerSize,alignedRight=point+distance;if(preferFarSide&&roomRight)ret[dim]=alignedRight;else if(!preferFarSide&&roomLeft)ret[dim]=alignedLeft;else if(roomLeft)ret[dim]=0>alignedLeft-h?alignedLeft:alignedLeft-h;else{if(!roomRight)return!1;ret[dim]=alignedRight+h+innerSize>outerSize?alignedRight:alignedRight+h}},secondDimension=function(dim,outerSize,innerSize,point){return distance>point||point>outerSize-distance?!1:void(ret[dim]=innerSize/2>point?1:point>outerSize-innerSize/2?outerSize-innerSize-2:point-innerSize/2)},swap=function(count){var temp=first;first=second,second=temp,swapped=count},run=function(){firstDimension.apply(0,first)!==!1?secondDimension.apply(0,second)!==!1||swapped||(swap(!0),run()):swapped?ret.x=ret.y=0:(swap(!0),run())};return(chart.inverted||this.len>1)&&swap(),run(),ret},defaultFormatter:function(tooltip){var s,items=this.points||splat(this);return s=[tooltip.tooltipFooterHeaderFormatter(items[0])],s=s.concat(tooltip.bodyFormatter(items)),s.push(tooltip.tooltipFooterHeaderFormatter(items[0],!0)),s.join("")},refresh:function(point,mouseEvent){var x,y,anchor,text,borderColor,currentSeries,tooltip=this,chart=tooltip.chart,label=tooltip.label,options=tooltip.options,textConfig={},pointConfig=[],formatter=options.formatter||tooltip.defaultFormatter,hoverPoints=chart.hoverPoints,shared=tooltip.shared;clearTimeout(this.hideTimer),tooltip.followPointer=splat(point)[0].series.tooltipOptions.followPointer,anchor=tooltip.getAnchor(point,mouseEvent),x=anchor[0],y=anchor[1],!shared||point.series&&point.series.noSharedTooltip?textConfig=point.getLabelConfig():(chart.hoverPoints=point,hoverPoints&&each(hoverPoints,function(point){point.setState()}),each(point,function(item){item.setState(HOVER_STATE),pointConfig.push(item.getLabelConfig())}),textConfig={x:point[0].category,y:point[0].y},textConfig.points=pointConfig,this.len=pointConfig.length,point=point[0]),text=formatter.call(textConfig,tooltip),currentSeries=point.series,this.distance=pick(currentSeries.tooltipOptions.distance,16),text===!1?this.hide():(tooltip.isHidden&&(stop(label),label.attr("opacity",1).show()),label.attr({text:text}),borderColor=options.borderColor||point.color||currentSeries.color||"#606060",label.attr({stroke:borderColor}),tooltip.updatePosition({plotX:x,plotY:y,negative:point.negative,ttBelow:point.ttBelow,h:anchor[2]||0}),this.isHidden=!1),fireEvent(chart,"tooltipRefresh",{text:text,x:x+chart.plotLeft,y:y+chart.plotTop,borderColor:borderColor})},updatePosition:function(point){var chart=this.chart,label=this.label,pos=(this.options.positioner||this.getPosition).call(this,label.width,label.height,point);this.move(mathRound(pos.x),mathRound(pos.y||0),point.plotX+chart.plotLeft,point.plotY+chart.plotTop)},getXDateFormat:function(point,options,xAxis){var xDateFormat,n,date,dateTimeLabelFormats=options.dateTimeLabelFormats,closestPointRange=xAxis&&xAxis.closestPointRange,blank="01-01 00:00:00.000",strpos={millisecond:15,second:12,minute:9,hour:6,day:3},lastN="millisecond";if(closestPointRange){date=dateFormat("%m-%d %H:%M:%S.%L",point.x);for(n in timeUnits){if(closestPointRange===timeUnits.week&&+dateFormat("%w",point.x)===xAxis.options.startOfWeek&&date.substr(6)===blank.substr(6)){n="week";break}if(timeUnits[n]>closestPointRange){n=lastN;break}if(strpos[n]&&date.substr(strpos[n])!==blank.substr(strpos[n]))break;"week"!==n&&(lastN=n)}n&&(xDateFormat=dateTimeLabelFormats[n])}else xDateFormat=dateTimeLabelFormats.day;return xDateFormat||dateTimeLabelFormats.year},tooltipFooterHeaderFormatter:function(point,isFooter){var footOrHead=isFooter?"footer":"header",series=point.series,tooltipOptions=series.tooltipOptions,xDateFormat=tooltipOptions.xDateFormat,xAxis=series.xAxis,isDateTime=xAxis&&"datetime"===xAxis.options.type&&isNumber(point.key),formatString=tooltipOptions[footOrHead+"Format"];return isDateTime&&!xDateFormat&&(xDateFormat=this.getXDateFormat(point,tooltipOptions,xAxis)),isDateTime&&xDateFormat&&(formatString=formatString.replace("{point.key}","{point.key:"+xDateFormat+"}")),format(formatString,{point:point,series:series})},bodyFormatter:function(items){return map(items,function(item){var tooltipOptions=item.series.tooltipOptions;return(tooltipOptions.pointFormatter||item.point.tooltipFormatter).call(item.point,tooltipOptions.pointFormat)})}};var hoverChartIndex;hasTouch=doc.documentElement.ontouchstart!==UNDEFINED;var Pointer=Highcharts.Pointer=function(chart,options){this.init(chart,options)};if(Pointer.prototype={init:function(chart,options){var zoomX,zoomY,chartOptions=options.chart,chartEvents=chartOptions.events,zoomType=useCanVG?"":chartOptions.zoomType,inverted=chart.inverted;this.options=options,this.chart=chart,this.zoomX=zoomX=/x/.test(zoomType),this.zoomY=zoomY=/y/.test(zoomType),this.zoomHor=zoomX&&!inverted||zoomY&&inverted,this.zoomVert=zoomY&&!inverted||zoomX&&inverted,this.hasZoom=zoomX||zoomY,this.runChartClick=chartEvents&&!!chartEvents.click,this.pinchDown=[],this.lastValidTouch={},Highcharts.Tooltip&&options.tooltip.enabled&&(chart.tooltip=new Tooltip(chart,options.tooltip),this.followTouchMove=pick(options.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(e,chartPosition){var chartX,chartY,ePos;return e=e||window.event,e=washMouseEvent(e),e.target||(e.target=e.srcElement),ePos=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,chartPosition||(this.chartPosition=chartPosition=offset(this.chart.container)),ePos.pageX===UNDEFINED?(chartX=mathMax(e.x,e.clientX-chartPosition.left),chartY=e.y):(chartX=ePos.pageX-chartPosition.left,chartY=ePos.pageY-chartPosition.top),extend(e,{chartX:mathRound(chartX),chartY:mathRound(chartY)})},getCoordinates:function(e){var coordinates={xAxis:[],yAxis:[]};return each(this.chart.axes,function(axis){coordinates[axis.isXAxis?"xAxis":"yAxis"].push({axis:axis,value:axis.toValue(e[axis.horiz?"chartX":"chartY"])})}),coordinates},runPointActions:function(e){var followPointer,i,anchor,noSharedTooltip,directTouch,kdpoint,kdpointT,pointer=this,chart=pointer.chart,series=chart.series,tooltip=chart.tooltip,shared=tooltip?tooltip.shared:!1,hoverPoint=chart.hoverPoint,hoverSeries=chart.hoverSeries,distance=chart.chartWidth,kdpoints=[];if(!shared&&!hoverSeries)for(i=0;i<series.length;i++)(series[i].directTouch||!series[i].options.stickyTracking)&&(series=[]);if(!shared&&hoverSeries&&hoverSeries.directTouch&&hoverPoint?kdpoint=hoverPoint:(each(series,function(s){noSharedTooltip=s.noSharedTooltip&&shared,directTouch=!shared&&s.directTouch,s.visible&&!noSharedTooltip&&!directTouch&&pick(s.options.enableMouseTracking,!0)&&(kdpointT=s.searchPoint(e,!noSharedTooltip&&1===s.kdDimensions),kdpointT&&kdpoints.push(kdpointT))}),each(kdpoints,function(p){p&&"number"==typeof p.dist&&p.dist<distance&&(distance=p.dist,kdpoint=p)})),kdpoint&&(kdpoint!==this.prevKDPoint||tooltip&&tooltip.isHidden)){if(shared&&!kdpoint.series.noSharedTooltip){for(i=kdpoints.length;i--;)(kdpoints[i].clientX!==kdpoint.clientX||kdpoints[i].series.noSharedTooltip)&&kdpoints.splice(i,1);kdpoints.length&&tooltip&&tooltip.refresh(kdpoints,e),each(kdpoints,function(point){point!==kdpoint&&point.onMouseOver(e)}),(hoverSeries&&hoverSeries.directTouch&&hoverPoint||kdpoint).onMouseOver(e)}else tooltip&&tooltip.refresh(kdpoint,e),kdpoint.onMouseOver(e);this.prevKDPoint=kdpoint}else followPointer=hoverSeries&&hoverSeries.tooltipOptions.followPointer,tooltip&&followPointer&&!tooltip.isHidden&&(anchor=tooltip.getAnchor([{}],e),tooltip.updatePosition({plotX:anchor[0],plotY:anchor[1]}));tooltip&&!pointer._onDocumentMouseMove&&(pointer._onDocumentMouseMove=function(e){charts[hoverChartIndex]&&charts[hoverChartIndex].pointer.onDocumentMouseMove(e)},addEvent(doc,"mousemove",pointer._onDocumentMouseMove)),each(chart.axes,function(axis){axis.drawCrosshair(e,pick(kdpoint,hoverPoint))})},reset:function(allowMove,delay){var pointer=this,chart=pointer.chart,hoverSeries=chart.hoverSeries,hoverPoint=chart.hoverPoint,hoverPoints=chart.hoverPoints,tooltip=chart.tooltip,tooltipPoints=tooltip&&tooltip.shared?hoverPoints:hoverPoint;allowMove=allowMove&&tooltip&&tooltipPoints,allowMove&&splat(tooltipPoints)[0].plotX===UNDEFINED&&(allowMove=!1),allowMove?(tooltip.refresh(tooltipPoints),hoverPoint&&(hoverPoint.setState(hoverPoint.state,!0),each(chart.axes,function(axis){pick(axis.options.crosshair&&axis.options.crosshair.snap,!0)?axis.drawCrosshair(null,hoverPoint):axis.hideCrosshair()}))):(hoverPoint&&hoverPoint.onMouseOut(),hoverPoints&&each(hoverPoints,function(point){point.setState()}),hoverSeries&&hoverSeries.onMouseOut(),tooltip&&tooltip.hide(delay),pointer._onDocumentMouseMove&&(removeEvent(doc,"mousemove",pointer._onDocumentMouseMove),pointer._onDocumentMouseMove=null),each(chart.axes,function(axis){axis.hideCrosshair()}),pointer.hoverX=chart.hoverPoints=chart.hoverPoint=null)},scaleGroups:function(attribs,clip){var seriesAttribs,chart=this.chart;each(chart.series,function(series){seriesAttribs=attribs||series.getPlotBox(),series.xAxis&&series.xAxis.zoomEnabled&&(series.group.attr(seriesAttribs),series.markerGroup&&(series.markerGroup.attr(seriesAttribs),series.markerGroup.clip(clip?chart.clipRect:null)),series.dataLabelsGroup&&series.dataLabelsGroup.attr(seriesAttribs))}),chart.clipRect.attr(clip||chart.clipBox)},dragStart:function(e){var chart=this.chart;chart.mouseIsDown=e.type,chart.cancelClick=!1,chart.mouseDownX=this.mouseDownX=e.chartX,chart.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var clickedInside,size,chart=this.chart,chartOptions=chart.options.chart,chartX=e.chartX,chartY=e.chartY,zoomHor=this.zoomHor,zoomVert=this.zoomVert,plotLeft=chart.plotLeft,plotTop=chart.plotTop,plotWidth=chart.plotWidth,plotHeight=chart.plotHeight,mouseDownX=this.mouseDownX,mouseDownY=this.mouseDownY,panKey=chartOptions.panKey&&e[chartOptions.panKey+"Key"];plotLeft>chartX?chartX=plotLeft:chartX>plotLeft+plotWidth&&(chartX=plotLeft+plotWidth),plotTop>chartY?chartY=plotTop:chartY>plotTop+plotHeight&&(chartY=plotTop+plotHeight),this.hasDragged=Math.sqrt(Math.pow(mouseDownX-chartX,2)+Math.pow(mouseDownY-chartY,2)),this.hasDragged>10&&(clickedInside=chart.isInsidePlot(mouseDownX-plotLeft,mouseDownY-plotTop),chart.hasCartesianSeries&&(this.zoomX||this.zoomY)&&clickedInside&&!panKey&&(this.selectionMarker||(this.selectionMarker=chart.renderer.rect(plotLeft,plotTop,zoomHor?1:plotWidth,zoomVert?1:plotHeight,0).attr({fill:chartOptions.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),this.selectionMarker&&zoomHor&&(size=chartX-mouseDownX,this.selectionMarker.attr({width:mathAbs(size),x:(size>0?0:size)+mouseDownX})),this.selectionMarker&&zoomVert&&(size=chartY-mouseDownY,this.selectionMarker.attr({height:mathAbs(size),y:(size>0?0:size)+mouseDownY})),clickedInside&&!this.selectionMarker&&chartOptions.panning&&chart.pan(e,chartOptions.panning))},drop:function(e){var pointer=this,chart=this.chart,hasPinched=this.hasPinched;if(this.selectionMarker){var runZoom,selectionData={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},selectionBox=this.selectionMarker,selectionLeft=selectionBox.attr?selectionBox.attr("x"):selectionBox.x,selectionTop=selectionBox.attr?selectionBox.attr("y"):selectionBox.y,selectionWidth=selectionBox.attr?selectionBox.attr("width"):selectionBox.width,selectionHeight=selectionBox.attr?selectionBox.attr("height"):selectionBox.height;(this.hasDragged||hasPinched)&&(each(chart.axes,function(axis){if(axis.zoomEnabled&&defined(axis.min)&&(hasPinched||pointer[{xAxis:"zoomX",yAxis:"zoomY"}[axis.coll]])){var horiz=axis.horiz,minPixelPadding="touchend"===e.type?axis.minPixelPadding:0,selectionMin=axis.toValue((horiz?selectionLeft:selectionTop)+minPixelPadding),selectionMax=axis.toValue((horiz?selectionLeft+selectionWidth:selectionTop+selectionHeight)-minPixelPadding);selectionData[axis.coll].push({axis:axis,min:mathMin(selectionMin,selectionMax),max:mathMax(selectionMin,selectionMax)}),runZoom=!0}}),runZoom&&fireEvent(chart,"selection",selectionData,function(args){chart.zoom(extend(args,hasPinched?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),hasPinched&&this.scaleGroups()}chart&&(css(chart.container,{cursor:chart._cursor}),chart.cancelClick=this.hasDragged>10,chart.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){charts[hoverChartIndex]&&charts[hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(e){var chart=this.chart,chartPosition=this.chartPosition;e=this.normalize(e,chartPosition),!chartPosition||this.inClass(e.target,"highcharts-tracker")||chart.isInsidePlot(e.chartX-chart.plotLeft,e.chartY-chart.plotTop)||this.reset()},onContainerMouseLeave:function(){var chart=charts[hoverChartIndex];chart&&(chart.pointer.reset(),chart.pointer.chartPosition=null)},onContainerMouseMove:function(e){var chart=this.chart;hoverChartIndex=chart.index,e=this.normalize(e),e.returnValue=!1,"mousedown"===chart.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!chart.isInsidePlot(e.chartX-chart.plotLeft,e.chartY-chart.plotTop)||chart.openMenu||this.runPointActions(e)},inClass:function(element,className){for(var elemClassName;element;){if(elemClassName=attr(element,"class")){if(-1!==elemClassName.indexOf(className))return!0;if(-1!==elemClassName.indexOf(PREFIX+"container"))return!1}element=element.parentNode}},onTrackerMouseOut:function(e){var series=this.chart.hoverSeries,relatedTarget=e.relatedTarget||e.toElement,relatedSeries=relatedTarget&&relatedTarget.point&&relatedTarget.point.series;!series||series.options.stickyTracking||this.inClass(relatedTarget,PREFIX+"tooltip")||relatedSeries===series||series.onMouseOut()},onContainerClick:function(e){var chart=this.chart,hoverPoint=chart.hoverPoint,plotLeft=chart.plotLeft,plotTop=chart.plotTop;e=this.normalize(e),e.originalEvent=e,chart.cancelClick||(hoverPoint&&this.inClass(e.target,PREFIX+"tracker")?(fireEvent(hoverPoint.series,"click",extend(e,{point:hoverPoint})),chart.hoverPoint&&hoverPoint.firePointEvent("click",e)):(extend(e,this.getCoordinates(e)),chart.isInsidePlot(e.chartX-plotLeft,e.chartY-plotTop)&&fireEvent(chart,"click",e)))},setDOMEvents:function(){var pointer=this,container=pointer.chart.container;container.onmousedown=function(e){pointer.onContainerMouseDown(e)},container.onmousemove=function(e){pointer.onContainerMouseMove(e)},container.onclick=function(e){pointer.onContainerClick(e)},addEvent(container,"mouseleave",pointer.onContainerMouseLeave),1===chartCount&&addEvent(doc,"mouseup",pointer.onDocumentMouseUp),hasTouch&&(container.ontouchstart=function(e){pointer.onContainerTouchStart(e)},container.ontouchmove=function(e){pointer.onContainerTouchMove(e)},1===chartCount&&addEvent(doc,"touchend",pointer.onDocumentTouchEnd))},destroy:function(){var prop;removeEvent(this.chart.container,"mouseleave",this.onContainerMouseLeave),chartCount||(removeEvent(doc,"mouseup",this.onDocumentMouseUp),removeEvent(doc,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(prop in this)this[prop]=null}},extend(Highcharts.Pointer.prototype,{pinchTranslate:function(pinchDown,touches,transform,selectionMarker,clip,lastValidTouch){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,pinchDown,touches,transform,selectionMarker,clip,lastValidTouch),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,pinchDown,touches,transform,selectionMarker,clip,lastValidTouch)},pinchTranslateDirection:function(horiz,pinchDown,touches,transform,selectionMarker,clip,lastValidTouch,forcedScale){var selectionWH,selectionXY,clipXY,outOfBounds,transformScale,scaleKey,chart=this.chart,xy=horiz?"x":"y",XY=horiz?"X":"Y",sChartXY="chart"+XY,wh=horiz?"width":"height",plotLeftTop=chart["plot"+(horiz?"Left":"Top")],scale=forcedScale||1,inverted=chart.inverted,bounds=chart.bounds[horiz?"h":"v"],singleTouch=1===pinchDown.length,touch0Start=pinchDown[0][sChartXY],touch0Now=touches[0][sChartXY],touch1Start=!singleTouch&&pinchDown[1][sChartXY],touch1Now=!singleTouch&&touches[1][sChartXY],setScale=function(){!singleTouch&&mathAbs(touch0Start-touch1Start)>20&&(scale=forcedScale||mathAbs(touch0Now-touch1Now)/mathAbs(touch0Start-touch1Start)),clipXY=(plotLeftTop-touch0Now)/scale+touch0Start,selectionWH=chart["plot"+(horiz?"Width":"Height")]/scale};setScale(),selectionXY=clipXY,selectionXY<bounds.min?(selectionXY=bounds.min,outOfBounds=!0):selectionXY+selectionWH>bounds.max&&(selectionXY=bounds.max-selectionWH,outOfBounds=!0),outOfBounds?(touch0Now-=.8*(touch0Now-lastValidTouch[xy][0]),singleTouch||(touch1Now-=.8*(touch1Now-lastValidTouch[xy][1])),setScale()):lastValidTouch[xy]=[touch0Now,touch1Now],inverted||(clip[xy]=clipXY-plotLeftTop,clip[wh]=selectionWH),scaleKey=inverted?horiz?"scaleY":"scaleX":"scale"+XY,transformScale=inverted?1/scale:scale,selectionMarker[wh]=selectionWH,selectionMarker[xy]=selectionXY,transform[scaleKey]=scale,transform["translate"+XY]=transformScale*plotLeftTop+(touch0Now-transformScale*touch0Start)},pinch:function(e){var self=this,chart=self.chart,pinchDown=self.pinchDown,touches=e.touches,touchesLength=touches.length,lastValidTouch=self.lastValidTouch,hasZoom=self.hasZoom,selectionMarker=self.selectionMarker,transform={},fireClickEvent=1===touchesLength&&(self.inClass(e.target,PREFIX+"tracker")&&chart.runTrackerClick||self.runChartClick),clip={};touchesLength>1&&(self.initiated=!0),hasZoom&&self.initiated&&!fireClickEvent&&e.preventDefault(),map(touches,function(e){return self.normalize(e)}),"touchstart"===e.type?(each(touches,function(e,i){pinchDown[i]={chartX:e.chartX,chartY:e.chartY}}),lastValidTouch.x=[pinchDown[0].chartX,pinchDown[1]&&pinchDown[1].chartX],lastValidTouch.y=[pinchDown[0].chartY,pinchDown[1]&&pinchDown[1].chartY],each(chart.axes,function(axis){if(axis.zoomEnabled){var bounds=chart.bounds[axis.horiz?"h":"v"],minPixelPadding=axis.minPixelPadding,min=axis.toPixels(pick(axis.options.min,axis.dataMin)),max=axis.toPixels(pick(axis.options.max,axis.dataMax)),absMin=mathMin(min,max),absMax=mathMax(min,max);bounds.min=mathMin(axis.pos,absMin-minPixelPadding),bounds.max=mathMax(axis.pos+axis.len,absMax+minPixelPadding)}}),self.res=!0):pinchDown.length&&(selectionMarker||(self.selectionMarker=selectionMarker=extend({destroy:noop},chart.plotBox)),self.pinchTranslate(pinchDown,touches,transform,selectionMarker,clip,lastValidTouch),self.hasPinched=hasZoom,self.scaleGroups(transform,clip),!hasZoom&&self.followTouchMove&&1===touchesLength?this.runPointActions(self.normalize(e)):self.res&&(self.res=!1,this.reset(!1,0)))},touch:function(e,start){var chart=this.chart;hoverChartIndex=chart.index,1===e.touches.length?(e=this.normalize(e),chart.isInsidePlot(e.chartX-chart.plotLeft,e.chartY-chart.plotTop)&&!chart.openMenu?(start&&this.runPointActions(e),this.pinch(e)):start&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(e){this.touch(e,!0)},onContainerTouchMove:function(e){this.touch(e)},onDocumentTouchEnd:function(e){charts[hoverChartIndex]&&charts[hoverChartIndex].pointer.drop(e)}}),win.PointerEvent||win.MSPointerEvent){var touches={},hasPointerEvent=!!win.PointerEvent,getWebkitTouches=function(){var key,fake=[];fake.item=function(i){return this[i]};for(key in touches)touches.hasOwnProperty(key)&&fake.push({pageX:touches[key].pageX,pageY:touches[key].pageY,target:touches[key].target});return fake},translateMSPointer=function(e,method,wktype,callback){var p;e=e.originalEvent||e,"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!charts[hoverChartIndex]||(callback(e),p=charts[hoverChartIndex].pointer,p[method]({type:wktype,target:e.currentTarget,preventDefault:noop,touches:getWebkitTouches()}))};extend(Pointer.prototype,{onContainerPointerDown:function(e){translateMSPointer(e,"onContainerTouchStart","touchstart",function(e){touches[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){translateMSPointer(e,"onContainerTouchMove","touchmove",function(e){touches[e.pointerId]={pageX:e.pageX,pageY:e.pageY},touches[e.pointerId].target||(touches[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){translateMSPointer(e,"onDocumentTouchEnd","touchend",function(e){delete touches[e.pointerId]})},batchMSEvents:function(fn){fn(this.chart.container,hasPointerEvent?"pointerdown":"MSPointerDown",this.onContainerPointerDown),fn(this.chart.container,hasPointerEvent?"pointermove":"MSPointerMove",this.onContainerPointerMove),fn(doc,hasPointerEvent?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),wrap(Pointer.prototype,"init",function(proceed,chart,options){proceed.call(this,chart,options),this.hasZoom&&css(chart.container,{"-ms-touch-action":NONE,"touch-action":NONE})}),wrap(Pointer.prototype,"setDOMEvents",function(proceed){proceed.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(addEvent)}),wrap(Pointer.prototype,"destroy",function(proceed){this.batchMSEvents(removeEvent),proceed.call(this)})}var Legend=Highcharts.Legend=function(chart,options){this.init(chart,options)};Legend.prototype={init:function(chart,options){var padding,legend=this,itemStyle=options.itemStyle,itemMarginTop=options.itemMarginTop||0;this.options=options,options.enabled&&(legend.itemStyle=itemStyle,legend.itemHiddenStyle=merge(itemStyle,options.itemHiddenStyle),legend.itemMarginTop=itemMarginTop,legend.padding=padding=pick(options.padding,8),legend.initialItemX=padding,legend.initialItemY=padding-5,legend.maxItemWidth=0,legend.chart=chart,legend.itemHeight=0,legend.symbolWidth=pick(options.symbolWidth,16),legend.pages=[],legend.render(),addEvent(legend.chart,"endResize",function(){legend.positionCheckboxes()}))},colorizeItem:function(item,visible){var key,val,legend=this,options=legend.options,legendItem=item.legendItem,legendLine=item.legendLine,legendSymbol=item.legendSymbol,hiddenColor=legend.itemHiddenStyle.color,textColor=visible?options.itemStyle.color:hiddenColor,symbolColor=visible?item.legendColor||item.color||"#CCC":hiddenColor,markerOptions=item.options&&item.options.marker,symbolAttr={fill:symbolColor};if(legendItem&&legendItem.css({fill:textColor,color:textColor}),legendLine&&legendLine.attr({stroke:symbolColor}),legendSymbol){if(markerOptions&&legendSymbol.isMarker){symbolAttr.stroke=symbolColor,markerOptions=item.convertAttribs(markerOptions);for(key in markerOptions)val=markerOptions[key],val!==UNDEFINED&&(symbolAttr[key]=val)}legendSymbol.attr(symbolAttr)}},positionItem:function(item){var legend=this,options=legend.options,symbolPadding=options.symbolPadding,ltr=!options.rtl,legendItemPos=item._legendItemPos,itemX=legendItemPos[0],itemY=legendItemPos[1],checkbox=item.checkbox,legendGroup=item.legendGroup;legendGroup&&legendGroup.element&&legendGroup.translate(ltr?itemX:legend.legendWidth-itemX-2*symbolPadding-4,itemY),checkbox&&(checkbox.x=itemX,checkbox.y=itemY)},destroyItem:function(item){var checkbox=item.checkbox;each(["legendItem","legendLine","legendSymbol","legendGroup"],function(key){item[key]&&(item[key]=item[key].destroy())}),checkbox&&discardElement(item.checkbox)},destroy:function(){var legend=this,legendGroup=legend.group,box=legend.box;box&&(legend.box=box.destroy()),legendGroup&&(legend.group=legendGroup.destroy())},positionCheckboxes:function(scrollOffset){var translateY,alignAttr=this.group.alignAttr,clipHeight=this.clipHeight||this.legendHeight;alignAttr&&(translateY=alignAttr.translateY,each(this.allItems,function(item){var top,checkbox=item.checkbox;checkbox&&(top=translateY+checkbox.y+(scrollOffset||0)+3,css(checkbox,{left:alignAttr.translateX+item.checkboxOffset+checkbox.x-20+PX,top:top+PX,display:top>translateY-6&&translateY+clipHeight-6>top?"":NONE}))}))},renderTitle:function(){var bBox,options=this.options,padding=this.padding,titleOptions=options.title,titleHeight=0;titleOptions.text&&(this.title||(this.title=this.chart.renderer.label(titleOptions.text,padding-3,padding-4,null,null,null,null,null,"legend-title").attr({
zIndex:1}).css(titleOptions.style).add(this.group)),bBox=this.title.getBBox(),titleHeight=bBox.height,this.offsetWidth=bBox.width,this.contentGroup.attr({translateY:titleHeight})),this.titleHeight=titleHeight},setText:function(item){var options=this.options;item.legendItem.attr({text:options.labelFormat?format(options.labelFormat,item):options.labelFormatter.call(item)})},renderItem:function(item){var itemHeight,bBox,itemWidth,legend=this,chart=legend.chart,renderer=chart.renderer,options=legend.options,horizontal="horizontal"===options.layout,symbolWidth=legend.symbolWidth,symbolPadding=options.symbolPadding,itemStyle=legend.itemStyle,itemHiddenStyle=legend.itemHiddenStyle,padding=legend.padding,itemDistance=horizontal?pick(options.itemDistance,20):0,ltr=!options.rtl,widthOption=options.width,itemMarginBottom=options.itemMarginBottom||0,itemMarginTop=legend.itemMarginTop,initialItemX=legend.initialItemX,li=item.legendItem,series=item.series&&item.series.drawLegendSymbol?item.series:item,seriesOptions=series.options,showCheckbox=legend.createCheckboxForItem&&seriesOptions&&seriesOptions.showCheckbox,useHTML=options.useHTML;li||(item.legendGroup=renderer.g("legend-item").attr({zIndex:1}).add(legend.scrollGroup),item.legendItem=li=renderer.text("",ltr?symbolWidth+symbolPadding:-symbolPadding,legend.baseline||0,useHTML).css(merge(item.visible?itemStyle:itemHiddenStyle)).attr({align:ltr?"left":"right",zIndex:2}).add(item.legendGroup),legend.baseline||(legend.fontMetrics=renderer.fontMetrics(itemStyle.fontSize,li),legend.baseline=legend.fontMetrics.f+3+itemMarginTop,li.attr("y",legend.baseline)),series.drawLegendSymbol(legend,item),legend.setItemEvents&&legend.setItemEvents(item,li,useHTML,itemStyle,itemHiddenStyle),legend.colorizeItem(item,item.visible),showCheckbox&&legend.createCheckboxForItem(item)),legend.setText(item),bBox=li.getBBox(),itemWidth=item.checkboxOffset=options.itemWidth||item.legendItemWidth||symbolWidth+symbolPadding+bBox.width+itemDistance+(showCheckbox?20:0),legend.itemHeight=itemHeight=mathRound(item.legendItemHeight||bBox.height),horizontal&&legend.itemX-initialItemX+itemWidth>(widthOption||chart.chartWidth-2*padding-initialItemX-options.x)&&(legend.itemX=initialItemX,legend.itemY+=itemMarginTop+legend.lastLineHeight+itemMarginBottom,legend.lastLineHeight=0),legend.maxItemWidth=mathMax(legend.maxItemWidth,itemWidth),legend.lastItemY=itemMarginTop+legend.itemY+itemMarginBottom,legend.lastLineHeight=mathMax(itemHeight,legend.lastLineHeight),item._legendItemPos=[legend.itemX,legend.itemY],horizontal?legend.itemX+=itemWidth:(legend.itemY+=itemMarginTop+itemHeight+itemMarginBottom,legend.lastLineHeight=itemHeight),legend.offsetWidth=widthOption||mathMax((horizontal?legend.itemX-initialItemX-itemDistance:itemWidth)+padding,legend.offsetWidth)},getAllItems:function(){var allItems=[];return each(this.chart.series,function(series){var seriesOptions=series.options;pick(seriesOptions.showInLegend,defined(seriesOptions.linkedTo)?!1:UNDEFINED,!0)&&(allItems=allItems.concat(series.legendItems||("point"===seriesOptions.legendType?series.data:series)))}),allItems},adjustMargins:function(margin,spacing){var chart=this.chart,options=this.options,alignment=options.align[0]+options.verticalAlign[0]+options.layout[0];this.display&&!options.floating&&each([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(alignments,side){alignments.test(alignment)&&!defined(margin[side])&&(chart[marginNames[side]]=mathMax(chart[marginNames[side]],chart.legend[(side+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][side]*options[side%2?"x":"y"]+pick(options.margin,12)+spacing[side]))})},render:function(){var allItems,display,legendWidth,legendHeight,legend=this,chart=legend.chart,renderer=chart.renderer,legendGroup=legend.group,box=legend.box,options=legend.options,padding=legend.padding,legendBorderWidth=options.borderWidth,legendBackgroundColor=options.backgroundColor;legend.itemX=legend.initialItemX,legend.itemY=legend.initialItemY,legend.offsetWidth=0,legend.lastItemY=0,legendGroup||(legend.group=legendGroup=renderer.g("legend").attr({zIndex:7}).add(),legend.contentGroup=renderer.g().attr({zIndex:1}).add(legendGroup),legend.scrollGroup=renderer.g().add(legend.contentGroup)),legend.renderTitle(),allItems=legend.getAllItems(),stableSort(allItems,function(a,b){return(a.options&&a.options.legendIndex||0)-(b.options&&b.options.legendIndex||0)}),options.reversed&&allItems.reverse(),legend.allItems=allItems,legend.display=display=!!allItems.length,legend.lastLineHeight=0,each(allItems,function(item){legend.renderItem(item)}),legendWidth=(options.width||legend.offsetWidth)+padding,legendHeight=legend.lastItemY+legend.lastLineHeight+legend.titleHeight,legendHeight=legend.handleOverflow(legendHeight),legendHeight+=padding,(legendBorderWidth||legendBackgroundColor)&&(box?legendWidth>0&&legendHeight>0&&(box[box.isNew?"attr":"animate"](box.crisp({width:legendWidth,height:legendHeight})),box.isNew=!1):(legend.box=box=renderer.rect(0,0,legendWidth,legendHeight,options.borderRadius,legendBorderWidth||0).attr({stroke:options.borderColor,"stroke-width":legendBorderWidth||0,fill:legendBackgroundColor||NONE}).add(legendGroup).shadow(options.shadow),box.isNew=!0),box[display?"show":"hide"]()),legend.legendWidth=legendWidth,legend.legendHeight=legendHeight,each(allItems,function(item){legend.positionItem(item)}),display&&legendGroup.align(extend({width:legendWidth,height:legendHeight},options),!0,"spacingBox"),chart.isResizing||this.positionCheckboxes()},handleOverflow:function(legendHeight){var clipHeight,lastY,legend=this,chart=this.chart,renderer=chart.renderer,options=this.options,optionsY=options.y,alignTop="top"===options.verticalAlign,spaceHeight=chart.spacingBox.height+(alignTop?-optionsY:optionsY)-this.padding,maxHeight=options.maxHeight,clipRect=this.clipRect,navOptions=options.navigation,animation=pick(navOptions.animation,!0),arrowSize=navOptions.arrowSize||12,nav=this.nav,pages=this.pages,allItems=this.allItems;return"horizontal"===options.layout&&(spaceHeight/=2),maxHeight&&(spaceHeight=mathMin(spaceHeight,maxHeight)),pages.length=0,legendHeight>spaceHeight&&!options.useHTML?(this.clipHeight=clipHeight=mathMax(spaceHeight-20-this.titleHeight-this.padding,0),this.currentPage=pick(this.currentPage,1),this.fullHeight=legendHeight,each(allItems,function(item,i){var y=item._legendItemPos[1],h=mathRound(item.legendItem.getBBox().height),len=pages.length;(!len||y-pages[len-1]>clipHeight&&(lastY||y)!==pages[len-1])&&(pages.push(lastY||y),len++),i===allItems.length-1&&y+h-pages[len-1]>clipHeight&&pages.push(y),y!==lastY&&(lastY=y)}),clipRect||(clipRect=legend.clipRect=renderer.clipRect(0,this.padding,9999,0),legend.contentGroup.clip(clipRect)),clipRect.attr({height:clipHeight}),nav||(this.nav=nav=renderer.g().attr({zIndex:1}).add(this.group),this.up=renderer.symbol("triangle",0,0,arrowSize,arrowSize).on("click",function(){legend.scroll(-1,animation)}).add(nav),this.pager=renderer.text("",15,10).css(navOptions.style).add(nav),this.down=renderer.symbol("triangle-down",0,0,arrowSize,arrowSize).on("click",function(){legend.scroll(1,animation)}).add(nav)),legend.scroll(0),legendHeight=spaceHeight):nav&&(clipRect.attr({height:chart.chartHeight}),nav.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),legendHeight},scroll:function(scrollBy,animation){var scrollOffset,pages=this.pages,pageCount=pages.length,currentPage=this.currentPage+scrollBy,clipHeight=this.clipHeight,navOptions=this.options.navigation,activeColor=navOptions.activeColor,inactiveColor=navOptions.inactiveColor,pager=this.pager,padding=this.padding;currentPage>pageCount&&(currentPage=pageCount),currentPage>0&&(animation!==UNDEFINED&&setAnimation(animation,this.chart),this.nav.attr({translateX:padding,translateY:clipHeight+this.padding+7+this.titleHeight,visibility:VISIBLE}),this.up.attr({fill:1===currentPage?inactiveColor:activeColor}).css({cursor:1===currentPage?"default":"pointer"}),pager.attr({text:currentPage+"/"+pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:currentPage===pageCount?inactiveColor:activeColor}).css({cursor:currentPage===pageCount?"default":"pointer"}),scrollOffset=-pages[currentPage-1]+this.initialItemY,this.scrollGroup.animate({translateY:scrollOffset}),this.currentPage=currentPage,this.positionCheckboxes(scrollOffset))}};var LegendSymbolMixin=Highcharts.LegendSymbolMixin={drawRectangle:function(legend,item){var symbolHeight=legend.options.symbolHeight||legend.fontMetrics.f;item.legendSymbol=this.chart.renderer.rect(0,legend.baseline-symbolHeight+1,legend.symbolWidth,symbolHeight,legend.options.symbolRadius||0).attr({zIndex:3}).add(item.legendGroup)},drawLineMarker:function(legend){var radius,legendSymbol,attr,options=this.options,markerOptions=options.marker,symbolWidth=legend.symbolWidth,renderer=this.chart.renderer,legendItemGroup=this.legendGroup,verticalCenter=legend.baseline-mathRound(.3*legend.fontMetrics.b);options.lineWidth&&(attr={"stroke-width":options.lineWidth},options.dashStyle&&(attr.dashstyle=options.dashStyle),this.legendLine=renderer.path([M,0,verticalCenter,L,symbolWidth,verticalCenter]).attr(attr).add(legendItemGroup)),markerOptions&&markerOptions.enabled!==!1&&(radius=markerOptions.radius,this.legendSymbol=legendSymbol=renderer.symbol(this.symbol,symbolWidth/2-radius,verticalCenter-radius,2*radius,2*radius).add(legendItemGroup),legendSymbol.isMarker=!0)}};(/Trident\/7\.0/.test(userAgent)||isFirefox)&&wrap(Legend.prototype,"positionItem",function(proceed,item){var legend=this,runPositionItem=function(){item._legendItemPos&&proceed.call(legend,item)};runPositionItem(),setTimeout(runPositionItem)});var Chart=Highcharts.Chart=function(){this.init.apply(this,arguments)};Chart.prototype={callbacks:[],init:function(userOptions,callback){var options,seriesOptions=userOptions.series;userOptions.series=null,options=merge(defaultOptions,userOptions),options.series=userOptions.series=seriesOptions,this.userOptions=userOptions;var optionsChart=options.chart;this.margin=this.splashArray("margin",optionsChart),this.spacing=this.splashArray("spacing",optionsChart);var chartEvents=optionsChart.events;this.bounds={h:{},v:{}},this.callback=callback,this.isResizing=0,this.options=options,this.axes=[],this.series=[],this.hasCartesianSeries=optionsChart.showAxes;var eventType,chart=this;if(chart.index=charts.length,charts.push(chart),chartCount++,optionsChart.reflow!==!1&&addEvent(chart,"load",function(){chart.initReflow()}),chartEvents)for(eventType in chartEvents)addEvent(chart,eventType,chartEvents[eventType]);chart.xAxis=[],chart.yAxis=[],chart.animation=useCanVG?!1:pick(optionsChart.animation,!0),chart.pointCount=chart.colorCounter=chart.symbolCounter=0,chart.firstRender()},initSeries:function(options){var series,chart=this,optionsChart=chart.options.chart,type=options.type||optionsChart.type||optionsChart.defaultSeriesType,constr=seriesTypes[type];return constr||error(17,!0),series=new constr,series.init(this,options),series},isInsidePlot:function(plotX,plotY,inverted){var x=inverted?plotY:plotX,y=inverted?plotX:plotY;return x>=0&&x<=this.plotWidth&&y>=0&&y<=this.plotHeight},redraw:function(animation){var hasStackedSeries,hasDirtyStacks,serie,chart=this,axes=chart.axes,series=chart.series,pointer=chart.pointer,legend=chart.legend,redrawLegend=chart.isDirtyLegend,hasCartesianSeries=chart.hasCartesianSeries,isDirtyBox=chart.isDirtyBox,seriesLength=series.length,i=seriesLength,renderer=chart.renderer,isHiddenChart=renderer.isHidden(),afterRedraw=[];for(setAnimation(animation,chart),isHiddenChart&&chart.cloneRenderTo(),chart.layOutTitles();i--;)if(serie=series[i],serie.options.stacking&&(hasStackedSeries=!0,serie.isDirty)){hasDirtyStacks=!0;break}if(hasDirtyStacks)for(i=seriesLength;i--;)serie=series[i],serie.options.stacking&&(serie.isDirty=!0);each(series,function(serie){serie.isDirty&&"point"===serie.options.legendType&&(serie.updateTotals&&serie.updateTotals(),redrawLegend=!0)}),redrawLegend&&legend.options.enabled&&(legend.render(),chart.isDirtyLegend=!1),hasStackedSeries&&chart.getStacks(),hasCartesianSeries&&(chart.isResizing||(chart.maxTicks=null,each(axes,function(axis){axis.setScale()}))),chart.getMargins(),hasCartesianSeries&&(each(axes,function(axis){axis.isDirty&&(isDirtyBox=!0)}),each(axes,function(axis){axis.isDirtyExtremes&&(axis.isDirtyExtremes=!1,afterRedraw.push(function(){fireEvent(axis,"afterSetExtremes",extend(axis.eventArgs,axis.getExtremes())),delete axis.eventArgs})),(isDirtyBox||hasStackedSeries)&&axis.redraw()})),isDirtyBox&&chart.drawChartBox(),each(series,function(serie){serie.isDirty&&serie.visible&&(!serie.isCartesian||serie.xAxis)&&serie.redraw()}),pointer&&pointer.reset(!0),renderer.draw(),fireEvent(chart,"redraw"),isHiddenChart&&chart.cloneRenderTo(!0),each(afterRedraw,function(callback){callback.call()})},get:function(id){var i,j,points,chart=this,axes=chart.axes,series=chart.series;for(i=0;i<axes.length;i++)if(axes[i].options.id===id)return axes[i];for(i=0;i<series.length;i++)if(series[i].options.id===id)return series[i];for(i=0;i<series.length;i++)for(points=series[i].points||[],j=0;j<points.length;j++)if(points[j].id===id)return points[j];return null},getAxes:function(){var optionsArray,axis,chart=this,options=this.options,xAxisOptions=options.xAxis=splat(options.xAxis||{}),yAxisOptions=options.yAxis=splat(options.yAxis||{});each(xAxisOptions,function(axis,i){axis.index=i,axis.isX=!0}),each(yAxisOptions,function(axis,i){axis.index=i}),optionsArray=xAxisOptions.concat(yAxisOptions),each(optionsArray,function(axisOptions){axis=new Axis(chart,axisOptions)})},getSelectedPoints:function(){var points=[];return each(this.series,function(serie){points=points.concat(grep(serie.points||[],function(point){return point.selected}))}),points},getSelectedSeries:function(){return grep(this.series,function(serie){return serie.selected})},getStacks:function(){var chart=this;each(chart.yAxis,function(axis){axis.stacks&&axis.hasVisibleSeries&&(axis.oldStacks=axis.stacks)}),each(chart.series,function(series){!series.options.stacking||series.visible!==!0&&chart.options.chart.ignoreHiddenSeries!==!1||(series.stackKey=series.type+pick(series.options.stack,""))})},setTitle:function(titleOptions,subtitleOptions,redraw){var chartTitleOptions,chartSubtitleOptions,chart=this,options=chart.options;chartTitleOptions=options.title=merge(options.title,titleOptions),chartSubtitleOptions=options.subtitle=merge(options.subtitle,subtitleOptions),each([["title",titleOptions,chartTitleOptions],["subtitle",subtitleOptions,chartSubtitleOptions]],function(arr){var name=arr[0],title=chart[name],titleOptions=arr[1],chartTitleOptions=arr[2];title&&titleOptions&&(chart[name]=title=title.destroy()),chartTitleOptions&&chartTitleOptions.text&&!title&&(chart[name]=chart.renderer.text(chartTitleOptions.text,0,0,chartTitleOptions.useHTML).attr({align:chartTitleOptions.align,"class":PREFIX+name,zIndex:chartTitleOptions.zIndex||4}).css(chartTitleOptions.style).add())}),chart.layOutTitles(redraw)},layOutTitles:function(redraw){var requiresDirtyBox,titleOffset=0,title=this.title,subtitle=this.subtitle,options=this.options,titleOptions=options.title,subtitleOptions=options.subtitle,renderer=this.renderer,autoWidth=this.spacingBox.width-44;title&&(title.css({width:(titleOptions.width||autoWidth)+PX}).align(extend({y:renderer.fontMetrics(titleOptions.style.fontSize,title).b-3},titleOptions),!1,"spacingBox"),titleOptions.floating||titleOptions.verticalAlign||(titleOffset=title.getBBox().height)),subtitle&&(subtitle.css({width:(subtitleOptions.width||autoWidth)+PX}).align(extend({y:titleOffset+(titleOptions.margin-13)+renderer.fontMetrics(titleOptions.style.fontSize,subtitle).b},subtitleOptions),!1,"spacingBox"),subtitleOptions.floating||subtitleOptions.verticalAlign||(titleOffset=mathCeil(titleOffset+subtitle.getBBox().height))),requiresDirtyBox=this.titleOffset!==titleOffset,this.titleOffset=titleOffset,!this.isDirtyBox&&requiresDirtyBox&&(this.isDirtyBox=requiresDirtyBox,this.hasRendered&&pick(redraw,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var chart=this,optionsChart=chart.options.chart,widthOption=optionsChart.width,heightOption=optionsChart.height,renderTo=chart.renderToClone||chart.renderTo;defined(widthOption)||(chart.containerWidth=adapterRun(renderTo,"width")),defined(heightOption)||(chart.containerHeight=adapterRun(renderTo,"height")),chart.chartWidth=mathMax(0,widthOption||chart.containerWidth||600),chart.chartHeight=mathMax(0,pick(heightOption,chart.containerHeight>19?chart.containerHeight:400))},cloneRenderTo:function(revert){var clone=this.renderToClone,container=this.container;revert?clone&&(this.renderTo.appendChild(container),discardElement(clone),delete this.renderToClone):(container&&container.parentNode===this.renderTo&&this.renderTo.removeChild(container),this.renderToClone=clone=this.renderTo.cloneNode(0),css(clone,{position:ABSOLUTE,top:"-9999px",display:"block"}),clone.style.setProperty&&clone.style.setProperty("display","block","important"),doc.body.appendChild(clone),container&&clone.appendChild(container))},getContainer:function(){var container,chartWidth,chartHeight,renderTo,oldChartIndex,containerId,chart=this,optionsChart=chart.options.chart,indexAttrName="data-highcharts-chart";chart.renderTo=renderTo=optionsChart.renderTo,containerId=PREFIX+idCounter++,isString(renderTo)&&(chart.renderTo=renderTo=doc.getElementById(renderTo)),renderTo||error(13,!0),oldChartIndex=pInt(attr(renderTo,indexAttrName)),!isNaN(oldChartIndex)&&charts[oldChartIndex]&&charts[oldChartIndex].hasRendered&&charts[oldChartIndex].destroy(),attr(renderTo,indexAttrName,chart.index),renderTo.innerHTML="",optionsChart.skipClone||renderTo.offsetWidth||chart.cloneRenderTo(),chart.getChartSize(),chartWidth=chart.chartWidth,chartHeight=chart.chartHeight,chart.container=container=createElement(DIV,{className:PREFIX+"container"+(optionsChart.className?" "+optionsChart.className:""),id:containerId},extend({position:RELATIVE,overflow:HIDDEN,width:chartWidth+PX,height:chartHeight+PX,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},optionsChart.style),chart.renderToClone||renderTo),chart._cursor=container.style.cursor,chart.renderer=optionsChart.forExport?new SVGRenderer(container,chartWidth,chartHeight,optionsChart.style,!0):new Renderer(container,chartWidth,chartHeight,optionsChart.style),useCanVG&&chart.renderer.create(chart,container,chartWidth,chartHeight),chart.renderer.chartIndex=chart.index},getMargins:function(skipAxes){var chart=this,spacing=chart.spacing,margin=chart.margin,titleOffset=chart.titleOffset;chart.resetMargins(),titleOffset&&!defined(margin[0])&&(chart.plotTop=mathMax(chart.plotTop,titleOffset+chart.options.title.margin+spacing[0])),chart.legend.adjustMargins(margin,spacing),chart.extraBottomMargin&&(chart.marginBottom+=chart.extraBottomMargin),chart.extraTopMargin&&(chart.plotTop+=chart.extraTopMargin),skipAxes||this.getAxisMargins()},getAxisMargins:function(){var chart=this,axisOffset=chart.axisOffset=[0,0,0,0],margin=chart.margin;chart.hasCartesianSeries&&each(chart.axes,function(axis){axis.getOffset()}),each(marginNames,function(m,side){defined(margin[side])||(chart[m]+=axisOffset[side])}),chart.setChartSize()},reflow:function(e){var chart=this,optionsChart=chart.options.chart,renderTo=chart.renderTo,width=optionsChart.width||adapterRun(renderTo,"width"),height=optionsChart.height||adapterRun(renderTo,"height"),target=e?e.target:win,doReflow=function(){chart.container&&(chart.setSize(width,height,!1),chart.hasUserSize=null)};chart.hasUserSize||chart.isPrinting||!width||!height||target!==win&&target!==doc||((width!==chart.containerWidth||height!==chart.containerHeight)&&(clearTimeout(chart.reflowTimeout),e?chart.reflowTimeout=setTimeout(doReflow,100):doReflow()),chart.containerWidth=width,chart.containerHeight=height)},initReflow:function(){var chart=this,reflow=function(e){chart.reflow(e)};addEvent(win,"resize",reflow),addEvent(chart,"destroy",function(){removeEvent(win,"resize",reflow)})},setSize:function(width,height,animation){var chartWidth,chartHeight,fireEndResize,chart=this;chart.isResizing+=1,fireEndResize=function(){chart&&fireEvent(chart,"endResize",null,function(){chart.isResizing-=1})},setAnimation(animation,chart),chart.oldChartHeight=chart.chartHeight,chart.oldChartWidth=chart.chartWidth,defined(width)&&(chart.chartWidth=chartWidth=mathMax(0,mathRound(width)),chart.hasUserSize=!!chartWidth),defined(height)&&(chart.chartHeight=chartHeight=mathMax(0,mathRound(height))),(globalAnimation?animate:css)(chart.container,{width:chartWidth+PX,height:chartHeight+PX},globalAnimation),chart.setChartSize(!0),chart.renderer.setSize(chartWidth,chartHeight,animation),chart.maxTicks=null,each(chart.axes,function(axis){axis.isDirty=!0,axis.setScale()}),each(chart.series,function(serie){serie.isDirty=!0}),chart.isDirtyLegend=!0,chart.isDirtyBox=!0,chart.layOutTitles(),chart.getMargins(),chart.redraw(animation),chart.oldChartHeight=null,fireEvent(chart,"resize"),globalAnimation===!1?fireEndResize():setTimeout(fireEndResize,globalAnimation&&globalAnimation.duration||500)},setChartSize:function(skipAxes){var clipX,clipY,plotLeft,plotTop,plotWidth,plotHeight,plotBorderWidth,chart=this,inverted=chart.inverted,renderer=chart.renderer,chartWidth=chart.chartWidth,chartHeight=chart.chartHeight,optionsChart=chart.options.chart,spacing=chart.spacing,clipOffset=chart.clipOffset;chart.plotLeft=plotLeft=mathRound(chart.plotLeft),chart.plotTop=plotTop=mathRound(chart.plotTop),chart.plotWidth=plotWidth=mathMax(0,mathRound(chartWidth-plotLeft-chart.marginRight)),chart.plotHeight=plotHeight=mathMax(0,mathRound(chartHeight-plotTop-chart.marginBottom)),chart.plotSizeX=inverted?plotHeight:plotWidth,chart.plotSizeY=inverted?plotWidth:plotHeight,chart.plotBorderWidth=optionsChart.plotBorderWidth||0,chart.spacingBox=renderer.spacingBox={x:spacing[3],y:spacing[0],width:chartWidth-spacing[3]-spacing[1],height:chartHeight-spacing[0]-spacing[2]},chart.plotBox=renderer.plotBox={x:plotLeft,y:plotTop,width:plotWidth,height:plotHeight},plotBorderWidth=2*mathFloor(chart.plotBorderWidth/2),clipX=mathCeil(mathMax(plotBorderWidth,clipOffset[3])/2),clipY=mathCeil(mathMax(plotBorderWidth,clipOffset[0])/2),chart.clipBox={x:clipX,y:clipY,width:mathFloor(chart.plotSizeX-mathMax(plotBorderWidth,clipOffset[1])/2-clipX),height:mathMax(0,mathFloor(chart.plotSizeY-mathMax(plotBorderWidth,clipOffset[2])/2-clipY))},skipAxes||each(chart.axes,function(axis){axis.setAxisSize(),axis.setAxisTranslation()})},resetMargins:function(){var chart=this;each(marginNames,function(m,side){chart[m]=pick(chart.margin[side],chart.spacing[side])}),chart.axisOffset=[0,0,0,0],chart.clipOffset=[0,0,0,0]},drawChartBox:function(){var mgn,bgAttr,chart=this,optionsChart=chart.options.chart,renderer=chart.renderer,chartWidth=chart.chartWidth,chartHeight=chart.chartHeight,chartBackground=chart.chartBackground,plotBackground=chart.plotBackground,plotBorder=chart.plotBorder,plotBGImage=chart.plotBGImage,chartBorderWidth=optionsChart.borderWidth||0,chartBackgroundColor=optionsChart.backgroundColor,plotBackgroundColor=optionsChart.plotBackgroundColor,plotBackgroundImage=optionsChart.plotBackgroundImage,plotBorderWidth=optionsChart.plotBorderWidth||0,plotLeft=chart.plotLeft,plotTop=chart.plotTop,plotWidth=chart.plotWidth,plotHeight=chart.plotHeight,plotBox=chart.plotBox,clipRect=chart.clipRect,clipBox=chart.clipBox;mgn=chartBorderWidth+(optionsChart.shadow?8:0),(chartBorderWidth||chartBackgroundColor)&&(chartBackground?chartBackground.animate(chartBackground.crisp({width:chartWidth-mgn,height:chartHeight-mgn})):(bgAttr={fill:chartBackgroundColor||NONE},chartBorderWidth&&(bgAttr.stroke=optionsChart.borderColor,bgAttr["stroke-width"]=chartBorderWidth),chart.chartBackground=renderer.rect(mgn/2,mgn/2,chartWidth-mgn,chartHeight-mgn,optionsChart.borderRadius,chartBorderWidth).attr(bgAttr).addClass(PREFIX+"background").add().shadow(optionsChart.shadow))),plotBackgroundColor&&(plotBackground?plotBackground.animate(plotBox):chart.plotBackground=renderer.rect(plotLeft,plotTop,plotWidth,plotHeight,0).attr({fill:plotBackgroundColor}).add().shadow(optionsChart.plotShadow)),plotBackgroundImage&&(plotBGImage?plotBGImage.animate(plotBox):chart.plotBGImage=renderer.image(plotBackgroundImage,plotLeft,plotTop,plotWidth,plotHeight).add()),clipRect?clipRect.animate({width:clipBox.width,height:clipBox.height}):chart.clipRect=renderer.clipRect(clipBox),plotBorderWidth&&(plotBorder?plotBorder.animate(plotBorder.crisp({x:plotLeft,y:plotTop,width:plotWidth,height:plotHeight,strokeWidth:-plotBorderWidth})):chart.plotBorder=renderer.rect(plotLeft,plotTop,plotWidth,plotHeight,0,-plotBorderWidth).attr({stroke:optionsChart.plotBorderColor,"stroke-width":plotBorderWidth,fill:NONE,zIndex:1}).add()),chart.isDirtyBox=!1},propFromSeries:function(){var klass,i,value,chart=this,optionsChart=chart.options.chart,seriesOptions=chart.options.series;each(["inverted","angular","polar"],function(key){for(klass=seriesTypes[optionsChart.type||optionsChart.defaultSeriesType],value=chart[key]||optionsChart[key]||klass&&klass.prototype[key],i=seriesOptions&&seriesOptions.length;!value&&i--;)klass=seriesTypes[seriesOptions[i].type],klass&&klass.prototype[key]&&(value=!0);chart[key]=value})},linkSeries:function(){var chart=this,chartSeries=chart.series;each(chartSeries,function(series){series.linkedSeries.length=0}),each(chartSeries,function(series){var linkedTo=series.options.linkedTo;isString(linkedTo)&&(linkedTo=":previous"===linkedTo?chart.series[series.index-1]:chart.get(linkedTo),linkedTo&&(linkedTo.linkedSeries.push(series),series.linkedParent=linkedTo))})},renderSeries:function(){each(this.series,function(serie){serie.translate(),serie.render()})},renderLabels:function(){var chart=this,labels=chart.options.labels;labels.items&&each(labels.items,function(label){var style=extend(labels.style,label.style),x=pInt(style.left)+chart.plotLeft,y=pInt(style.top)+chart.plotTop+12;delete style.left,delete style.top,chart.renderer.text(label.html,x,y).attr({zIndex:2}).css(style).add()})},render:function(){var tempWidth,tempHeight,redoHorizontal,redoVertical,chart=this,axes=chart.axes,renderer=chart.renderer,options=chart.options;chart.setTitle(),chart.legend=new Legend(chart,options.legend),chart.getStacks(),chart.getMargins(!0),chart.setChartSize(),tempWidth=chart.plotWidth,tempHeight=chart.plotHeight=chart.plotHeight-13,each(axes,function(axis){axis.setScale()}),chart.getAxisMargins(),redoHorizontal=tempWidth/chart.plotWidth>1.1,redoVertical=tempHeight/chart.plotHeight>1.1,(redoHorizontal||redoVertical)&&(chart.maxTicks=null,each(axes,function(axis){(axis.horiz&&redoHorizontal||!axis.horiz&&redoVertical)&&axis.setTickInterval(!0)}),chart.getMargins()),chart.drawChartBox(),chart.hasCartesianSeries&&each(axes,function(axis){axis.render()}),chart.seriesGroup||(chart.seriesGroup=renderer.g("series-group").attr({zIndex:3}).add()),chart.renderSeries(),chart.renderLabels(),chart.showCredits(options.credits),chart.hasRendered=!0},showCredits:function(credits){credits.enabled&&!this.credits&&(this.credits=this.renderer.text(credits.text,0,0).on("click",function(){credits.href&&(location.href=credits.href)}).attr({align:credits.position.align,zIndex:8}).css(credits.style).add().align(credits.position))},destroy:function(){var i,chart=this,axes=chart.axes,series=chart.series,container=chart.container,parentNode=container&&container.parentNode;for(fireEvent(chart,"destroy"),charts[chart.index]=UNDEFINED,chartCount--,chart.renderTo.removeAttribute("data-highcharts-chart"),removeEvent(chart),i=axes.length;i--;)axes[i]=axes[i].destroy();for(i=series.length;i--;)series[i]=series[i].destroy();each(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(name){var prop=chart[name];prop&&prop.destroy&&(chart[name]=prop.destroy())}),container&&(container.innerHTML="",removeEvent(container),parentNode&&discardElement(container));for(i in chart)delete chart[i]},isReadyToRender:function(){var chart=this;return!hasSVG&&win==win.top&&"complete"!==doc.readyState||useCanVG&&!win.canvg?(useCanVG?CanVGController.push(function(){chart.firstRender()},chart.options.global.canvasToolsURL):doc.attachEvent("onreadystatechange",function(){doc.detachEvent("onreadystatechange",chart.firstRender),"complete"===doc.readyState&&chart.firstRender()}),!1):!0},firstRender:function(){var chart=this,options=chart.options,callback=chart.callback;chart.isReadyToRender()&&(chart.getContainer(),fireEvent(chart,"init"),chart.resetMargins(),chart.setChartSize(),chart.propFromSeries(),chart.getAxes(),each(options.series||[],function(serieOptions){chart.initSeries(serieOptions)}),chart.linkSeries(),fireEvent(chart,"beforeRender"),Highcharts.Pointer&&(chart.pointer=new Pointer(chart,options)),chart.render(),chart.renderer.draw(),callback&&callback.apply(chart,[chart]),each(chart.callbacks,function(fn){chart.index!==UNDEFINED&&fn.apply(chart,[chart])}),fireEvent(chart,"load"),chart.cloneRenderTo(!0))},splashArray:function(target,options){var oVar=options[target],tArray=isObject(oVar)?oVar:[oVar,oVar,oVar,oVar];return[pick(options[target+"Top"],tArray[0]),pick(options[target+"Right"],tArray[1]),pick(options[target+"Bottom"],tArray[2]),pick(options[target+"Left"],tArray[3])]}};var CenteredSeriesMixin=Highcharts.CenteredSeriesMixin={getCenter:function(){var handleSlicingRoom,i,value,options=this.options,chart=this.chart,slicingRoom=2*(options.slicedOffset||0),plotWidth=chart.plotWidth-2*slicingRoom,plotHeight=chart.plotHeight-2*slicingRoom,centerOption=options.center,positions=[pick(centerOption[0],"50%"),pick(centerOption[1],"50%"),options.size||"100%",options.innerSize||0],smallestSize=mathMin(plotWidth,plotHeight);for(i=0;4>i;++i)value=positions[i],handleSlicingRoom=2>i||2===i&&/%$/.test(value),positions[i]=relativeLength(value,[plotWidth,plotHeight,smallestSize,positions[2]][i])+(handleSlicingRoom?slicingRoom:0);return positions}},Point=function(){};Point.prototype={init:function(series,options,x){var colors,point=this;return point.series=series,point.color=series.color,point.applyOptions(options,x),point.pointAttr={},series.options.colorByPoint&&(colors=series.options.colors||series.chart.options.colors,point.color=point.color||colors[series.colorCounter++],series.colorCounter===colors.length&&(series.colorCounter=0)),series.chart.pointCount++,point},applyOptions:function(options,x){var point=this,series=point.series,pointValKey=series.options.pointValKey||series.pointValKey;return options=Point.prototype.optionsToObject.call(this,options),extend(point,options),point.options=point.options?extend(point.options,options):options,pointValKey&&(point.y=point[pointValKey]),point.x===UNDEFINED&&series&&(point.x=x===UNDEFINED?series.autoIncrement():x),point},optionsToObject:function(options){var firstItemType,ret={},series=this.series,keys=series.options.keys,pointArrayMap=keys||series.pointArrayMap||["y"],valueCount=pointArrayMap.length,i=0,j=0;if("number"==typeof options||null===options)ret[pointArrayMap[0]]=options;else if(isArray(options))for(!keys&&options.length>valueCount&&(firstItemType=typeof options[0],"string"===firstItemType?ret.name=options[0]:"number"===firstItemType&&(ret.x=options[0]),i++);valueCount>j;)ret[pointArrayMap[j++]]=options[i++];else"object"==typeof options&&(ret=options,options.dataLabels&&(series._hasPointLabels=!0),options.marker&&(series._hasPointMarkers=!0));return ret},destroy:function(){var prop,point=this,series=point.series,chart=series.chart,hoverPoints=chart.hoverPoints;chart.pointCount--,hoverPoints&&(point.setState(),erase(hoverPoints,point),hoverPoints.length||(chart.hoverPoints=null)),point===chart.hoverPoint&&point.onMouseOut(),(point.graphic||point.dataLabel)&&(removeEvent(point),
point.destroyElements()),point.legendItem&&chart.legend.destroyItem(point);for(prop in point)point[prop]=null},destroyElements:function(){for(var prop,point=this,props=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],i=6;i--;)prop=props[i],point[prop]&&(point[prop]=point[prop].destroy())},getLabelConfig:function(){var point=this;return{x:point.category,y:point.y,key:point.name||point.category,series:point.series,point:point,percentage:point.percentage,total:point.total||point.stackTotal}},tooltipFormatter:function(pointFormat){var series=this.series,seriesTooltipOptions=series.tooltipOptions,valueDecimals=pick(seriesTooltipOptions.valueDecimals,""),valuePrefix=seriesTooltipOptions.valuePrefix||"",valueSuffix=seriesTooltipOptions.valueSuffix||"";return each(series.pointArrayMap||["y"],function(key){key="{point."+key,(valuePrefix||valueSuffix)&&(pointFormat=pointFormat.replace(key+"}",valuePrefix+key+"}"+valueSuffix)),pointFormat=pointFormat.replace(key+"}",key+":,."+valueDecimals+"f}")}),format(pointFormat,{point:this,series:this.series})},firePointEvent:function(eventType,eventArgs,defaultFunction){var point=this,series=this.series,seriesOptions=series.options;(seriesOptions.point.events[eventType]||point.options&&point.options.events&&point.options.events[eventType])&&this.importEvents(),"click"===eventType&&seriesOptions.allowPointSelect&&(defaultFunction=function(event){point.select(null,event.ctrlKey||event.metaKey||event.shiftKey)}),fireEvent(this,eventType,eventArgs,defaultFunction)}};var Series=Highcharts.Series=function(){};Series.prototype={isCartesian:!0,type:"line",pointClass:Point,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(chart,options){var eventType,events,series=this,chartSeries=chart.series,sortByIndex=function(a,b){return pick(a.options.index,a._i)-pick(b.options.index,b._i)};series.chart=chart,series.options=options=series.setOptions(options),series.linkedSeries=[],series.bindAxes(),extend(series,{name:options.name,state:NORMAL_STATE,pointAttr:{},visible:options.visible!==!1,selected:options.selected===!0}),useCanVG&&(options.animation=!1),events=options.events;for(eventType in events)addEvent(series,eventType,events[eventType]);(events&&events.click||options.point&&options.point.events&&options.point.events.click||options.allowPointSelect)&&(chart.runTrackerClick=!0),series.getColor(),series.getSymbol(),each(series.parallelArrays,function(key){series[key+"Data"]=[]}),series.setData(options.data,!1),series.isCartesian&&(chart.hasCartesianSeries=!0),chartSeries.push(series),series._i=chartSeries.length-1,stableSort(chartSeries,sortByIndex),this.yAxis&&stableSort(this.yAxis.series,sortByIndex),each(chartSeries,function(series,i){series.index=i,series.name=series.name||"Series "+(i+1)})},bindAxes:function(){var axisOptions,series=this,seriesOptions=series.options,chart=series.chart;each(series.axisTypes||[],function(AXIS){each(chart[AXIS],function(axis){axisOptions=axis.options,(seriesOptions[AXIS]===axisOptions.index||seriesOptions[AXIS]!==UNDEFINED&&seriesOptions[AXIS]===axisOptions.id||seriesOptions[AXIS]===UNDEFINED&&0===axisOptions.index)&&(axis.series.push(series),series[AXIS]=axis,axis.isDirty=!0)}),series[AXIS]||series.optionalAxis===AXIS||error(18,!0)})},updateParallelArrays:function(point,i){var series=point.series,args=arguments,fn="number"==typeof i?function(key){var val="y"===key&&series.toYData?series.toYData(point):point[key];series[key+"Data"][i]=val}:function(key){Array.prototype[i].apply(series[key+"Data"],Array.prototype.slice.call(args,2))};each(series.parallelArrays,fn)},autoIncrement:function(){var date,pointInterval,options=this.options,xIncrement=this.xIncrement,pointIntervalUnit=options.pointIntervalUnit;return xIncrement=pick(xIncrement,options.pointStart,0),this.pointInterval=pointInterval=pick(this.pointInterval,options.pointInterval,1),("month"===pointIntervalUnit||"year"===pointIntervalUnit)&&(date=new Date(xIncrement),date="month"===pointIntervalUnit?+date[setMonth](date[getMonth]()+pointInterval):+date[setFullYear](date[getFullYear]()+pointInterval),pointInterval=date-xIncrement),this.xIncrement=xIncrement+pointInterval,xIncrement},getSegments:function(){var i,series=this,lastNull=-1,segments=[],points=series.points,pointsLength=points.length;if(pointsLength)if(series.options.connectNulls){for(i=pointsLength;i--;)null===points[i].y&&points.splice(i,1);points.length&&(segments=[points])}else each(points,function(point,i){null===point.y?(i>lastNull+1&&segments.push(points.slice(lastNull+1,i)),lastNull=i):i===pointsLength-1&&segments.push(points.slice(lastNull+1,i+1))});series.segments=segments},setOptions:function(itemOptions){var options,zones,chart=this.chart,chartOptions=chart.options,plotOptions=chartOptions.plotOptions,userOptions=chart.userOptions||{},userPlotOptions=userOptions.plotOptions||{},typeOptions=plotOptions[this.type];return this.userOptions=itemOptions,options=merge(typeOptions,plotOptions.series,itemOptions),this.tooltipOptions=merge(defaultOptions.tooltip,defaultOptions.plotOptions[this.type].tooltip,userOptions.tooltip,userPlotOptions.series&&userPlotOptions.series.tooltip,userPlotOptions[this.type]&&userPlotOptions[this.type].tooltip,itemOptions.tooltip),null===typeOptions.marker&&delete options.marker,this.zoneAxis=options.zoneAxis,zones=this.zones=(options.zones||[]).slice(),!options.negativeColor&&!options.negativeFillColor||options.zones||zones.push({value:options[this.zoneAxis+"Threshold"]||options.threshold||0,color:options.negativeColor,fillColor:options.negativeFillColor}),zones.length&&defined(zones[zones.length-1].value)&&zones.push({color:this.color,fillColor:this.fillColor}),options},getCyclic:function(prop,value,defaults){var i,userOptions=this.userOptions,indexName="_"+prop+"Index",counterName=prop+"Counter";value||(defined(userOptions[indexName])?i=userOptions[indexName]:(userOptions[indexName]=i=this.chart[counterName]%defaults.length,this.chart[counterName]+=1),value=defaults[i]),this[prop]=value},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||defaultPlotOptions[this.type].color,this.chart.options.colors)},getSymbol:function(){var seriesMarkerOption=this.options.marker;this.getCyclic("symbol",seriesMarkerOption.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(seriesMarkerOption.radius=0)},drawLegendSymbol:LegendSymbolMixin.drawLineMarker,setData:function(data,redraw,animation,updatePoints){var dataLength,i,pt,series=this,oldData=series.points,oldDataLength=oldData&&oldData.length||0,options=series.options,chart=series.chart,firstPoint=null,xAxis=series.xAxis,hasCategories=xAxis&&!!xAxis.categories,turboThreshold=options.turboThreshold,xData=this.xData,yData=this.yData,pointArrayMap=series.pointArrayMap,valueCount=pointArrayMap&&pointArrayMap.length;if(data=data||[],dataLength=data.length,redraw=pick(redraw,!0),updatePoints!==!1&&dataLength&&oldDataLength===dataLength&&!series.cropped&&!series.hasGroupedData&&series.visible)each(data,function(point,i){oldData[i].update(point,!1,null,!1)});else{if(series.xIncrement=null,series.pointRange=hasCategories?1:options.pointRange,series.colorCounter=0,each(this.parallelArrays,function(key){series[key+"Data"].length=0}),turboThreshold&&dataLength>turboThreshold){for(i=0;null===firstPoint&&dataLength>i;)firstPoint=data[i],i++;if(isNumber(firstPoint)){var x=pick(options.pointStart,0),pointInterval=pick(options.pointInterval,1);for(i=0;dataLength>i;i++)xData[i]=x,yData[i]=data[i],x+=pointInterval;series.xIncrement=x}else if(isArray(firstPoint))if(valueCount)for(i=0;dataLength>i;i++)pt=data[i],xData[i]=pt[0],yData[i]=pt.slice(1,valueCount+1);else for(i=0;dataLength>i;i++)pt=data[i],xData[i]=pt[0],yData[i]=pt[1];else error(12)}else for(i=0;dataLength>i;i++)data[i]!==UNDEFINED&&(pt={series:series},series.pointClass.prototype.applyOptions.apply(pt,[data[i]]),series.updateParallelArrays(pt,i),hasCategories&&pt.name&&(xAxis.names[pt.x]=pt.name));for(isString(yData[0])&&error(14,!0),series.data=[],series.options.data=data,i=oldDataLength;i--;)oldData[i]&&oldData[i].destroy&&oldData[i].destroy();xAxis&&(xAxis.minRange=xAxis.userMinRange),series.isDirty=series.isDirtyData=chart.isDirtyBox=!0,animation=!1}redraw&&chart.redraw(animation)},processData:function(force){var croppedData,cropped,distance,closestPointRange,i,xExtremes,min,max,series=this,processedXData=series.xData,processedYData=series.yData,dataLength=processedXData.length,cropStart=0,xAxis=series.xAxis,options=series.options,cropThreshold=options.cropThreshold,isCartesian=series.isCartesian;if(isCartesian&&!series.isDirty&&!xAxis.isDirty&&!series.yAxis.isDirty&&!force)return!1;for(xAxis&&(xExtremes=xAxis.getExtremes(),min=xExtremes.min,max=xExtremes.max),isCartesian&&series.sorted&&(!cropThreshold||dataLength>cropThreshold||series.forceCrop)&&(processedXData[dataLength-1]<min||processedXData[0]>max?(processedXData=[],processedYData=[]):(processedXData[0]<min||processedXData[dataLength-1]>max)&&(croppedData=this.cropData(series.xData,series.yData,min,max),processedXData=croppedData.xData,processedYData=croppedData.yData,cropStart=croppedData.start,cropped=!0)),i=processedXData.length-1;i>=0;i--)distance=processedXData[i]-processedXData[i-1],distance>0&&(closestPointRange===UNDEFINED||closestPointRange>distance)?closestPointRange=distance:0>distance&&series.requireSorting&&error(15);series.cropped=cropped,series.cropStart=cropStart,series.processedXData=processedXData,series.processedYData=processedYData,null===options.pointRange&&(series.pointRange=closestPointRange||1),series.closestPointRange=closestPointRange},cropData:function(xData,yData,min,max){var i,dataLength=xData.length,cropStart=0,cropEnd=dataLength,cropShoulder=pick(this.cropShoulder,1);for(i=0;dataLength>i;i++)if(xData[i]>=min){cropStart=mathMax(0,i-cropShoulder);break}for(;dataLength>i;i++)if(xData[i]>max){cropEnd=i+cropShoulder;break}return{xData:xData.slice(cropStart,cropEnd),yData:yData.slice(cropStart,cropEnd),start:cropStart,end:cropEnd}},generatePoints:function(){var dataLength,cursor,point,i,series=this,options=series.options,dataOptions=options.data,data=series.data,processedXData=series.processedXData,processedYData=series.processedYData,pointClass=series.pointClass,processedDataLength=processedXData.length,cropStart=series.cropStart||0,hasGroupedData=series.hasGroupedData,points=[];if(!data&&!hasGroupedData){var arr=[];arr.length=dataOptions.length,data=series.data=arr}for(i=0;processedDataLength>i;i++)cursor=cropStart+i,hasGroupedData?points[i]=(new pointClass).init(series,[processedXData[i]].concat(splat(processedYData[i]))):(data[cursor]?point=data[cursor]:dataOptions[cursor]!==UNDEFINED&&(data[cursor]=point=(new pointClass).init(series,dataOptions[cursor],processedXData[i])),points[i]=point),points[i].index=cursor;if(data&&(processedDataLength!==(dataLength=data.length)||hasGroupedData))for(i=0;dataLength>i;i++)i!==cropStart||hasGroupedData||(i+=processedDataLength),data[i]&&(data[i].destroyElements(),data[i].plotX=UNDEFINED);series.data=data,series.points=points},getExtremes:function(yData){var yDataLength,validValue,withinRange,x,y,i,j,xAxis=this.xAxis,yAxis=this.yAxis,xData=this.processedXData,activeYData=[],activeCounter=0,xExtremes=xAxis.getExtremes(),xMin=xExtremes.min,xMax=xExtremes.max;for(yData=yData||this.stackedYData||this.processedYData,yDataLength=yData.length,i=0;yDataLength>i;i++)if(x=xData[i],y=yData[i],validValue=null!==y&&y!==UNDEFINED&&(!yAxis.isLog||y.length||y>0),withinRange=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(xData[i+1]||x)>=xMin&&(xData[i-1]||x)<=xMax,validValue&&withinRange)if(j=y.length)for(;j--;)null!==y[j]&&(activeYData[activeCounter++]=y[j]);else activeYData[activeCounter++]=y;this.dataMin=arrayMin(activeYData),this.dataMax=arrayMax(activeYData)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var i,plotX,plotY,lastPlotX,series=this,options=series.options,stacking=options.stacking,xAxis=series.xAxis,categories=xAxis.categories,yAxis=series.yAxis,points=series.points,dataLength=points.length,hasModifyValue=!!series.modifyValue,pointPlacement=options.pointPlacement,dynamicallyPlaced="between"===pointPlacement||isNumber(pointPlacement),threshold=options.threshold,stackThreshold=options.startFromThreshold?threshold:0,closestPointRangePx=Number.MAX_VALUE;for(i=0;dataLength>i;i++){var pointStack,stackValues,point=points[i],xValue=point.x,yValue=point.y,yBottom=point.low,stack=stacking&&yAxis.stacks[(series.negStacks&&(stackThreshold?0:threshold)>yValue?"-":"")+series.stackKey];yAxis.isLog&&null!==yValue&&0>=yValue&&(point.y=yValue=null,error(10)),point.plotX=plotX=mathMin(mathMax(-1e5,xAxis.translate(xValue,0,0,0,1,pointPlacement,"flags"===this.type)),1e5),stacking&&series.visible&&stack&&stack[xValue]&&(pointStack=stack[xValue],stackValues=pointStack.points[series.index+","+i],yBottom=stackValues[0],yValue=stackValues[1],yBottom===stackThreshold&&(yBottom=pick(threshold,yAxis.min)),yAxis.isLog&&0>=yBottom&&(yBottom=null),point.total=point.stackTotal=pointStack.total,point.percentage=pointStack.total&&point.y/pointStack.total*100,point.stackY=yValue,pointStack.setOffset(series.pointXOffset||0,series.barW||0)),point.yBottom=defined(yBottom)?yAxis.translate(yBottom,0,1,0,1):null,hasModifyValue&&(yValue=series.modifyValue(yValue,point)),point.plotY=plotY="number"==typeof yValue&&yValue!==1/0?mathMin(mathMax(-1e5,yAxis.translate(yValue,0,1,0,1)),1e5):UNDEFINED,point.isInside=plotY!==UNDEFINED&&plotY>=0&&plotY<=yAxis.len&&plotX>=0&&plotX<=xAxis.len,point.clientX=dynamicallyPlaced?xAxis.translate(xValue,0,0,0,1):plotX,point.negative=point.y<(threshold||0),point.category=categories&&categories[point.x]!==UNDEFINED?categories[point.x]:point.x,i&&(closestPointRangePx=mathMin(closestPointRangePx,mathAbs(plotX-lastPlotX))),lastPlotX=plotX}series.closestPointRangePx=closestPointRangePx,series.getSegments()},setClip:function(animation){var chart=this.chart,renderer=chart.renderer,inverted=chart.inverted,seriesClipBox=this.clipBox,clipBox=seriesClipBox||chart.clipBox,sharedClipKey=this.sharedClipKey||["_sharedClip",animation&&animation.duration,animation&&animation.easing,clipBox.height].join(","),clipRect=chart[sharedClipKey],markerClipRect=chart[sharedClipKey+"m"];clipRect||(animation&&(clipBox.width=0,chart[sharedClipKey+"m"]=markerClipRect=renderer.clipRect(-99,inverted?-chart.plotLeft:-chart.plotTop,99,inverted?chart.chartWidth:chart.chartHeight)),chart[sharedClipKey]=clipRect=renderer.clipRect(clipBox)),animation&&(clipRect.count+=1),this.options.clip!==!1&&(this.group.clip(animation||seriesClipBox?clipRect:chart.clipRect),this.markerGroup.clip(markerClipRect),this.sharedClipKey=sharedClipKey),animation||(clipRect.count-=1,clipRect.count<=0&&sharedClipKey&&chart[sharedClipKey]&&(seriesClipBox||(chart[sharedClipKey]=chart[sharedClipKey].destroy()),chart[sharedClipKey+"m"]&&(chart[sharedClipKey+"m"]=chart[sharedClipKey+"m"].destroy())))},animate:function(init){var clipRect,sharedClipKey,series=this,chart=series.chart,animation=series.options.animation;animation&&!isObject(animation)&&(animation=defaultPlotOptions[series.type].animation),init?series.setClip(animation):(sharedClipKey=this.sharedClipKey,clipRect=chart[sharedClipKey],clipRect&&clipRect.animate({width:chart.plotSizeX},animation),chart[sharedClipKey+"m"]&&chart[sharedClipKey+"m"].animate({width:chart.plotSizeX+99},animation),series.animate=null)},afterAnimate:function(){this.setClip(),fireEvent(this,"afterAnimate")},drawPoints:function(){var pointAttr,plotX,plotY,i,point,radius,symbol,isImage,graphic,pointMarkerOptions,hasPointMarker,enabled,isInside,series=this,points=series.points,chart=series.chart,options=series.options,seriesMarkerOptions=options.marker,seriesPointAttr=series.pointAttr[""],markerGroup=series.markerGroup,xAxis=series.xAxis,globallyEnabled=pick(seriesMarkerOptions.enabled,xAxis.isRadial,series.closestPointRangePx>2*seriesMarkerOptions.radius);if(seriesMarkerOptions.enabled!==!1||series._hasPointMarkers)for(i=points.length;i--;)point=points[i],plotX=mathFloor(point.plotX),plotY=point.plotY,graphic=point.graphic,pointMarkerOptions=point.marker||{},hasPointMarker=!!point.marker,enabled=globallyEnabled&&pointMarkerOptions.enabled===UNDEFINED||pointMarkerOptions.enabled,isInside=point.isInside,enabled&&plotY!==UNDEFINED&&!isNaN(plotY)&&null!==point.y?(pointAttr=point.pointAttr[point.selected?SELECT_STATE:NORMAL_STATE]||seriesPointAttr,radius=pointAttr.r,symbol=pick(pointMarkerOptions.symbol,series.symbol),isImage=0===symbol.indexOf("url"),graphic?graphic[isInside?"show":"hide"](!0).animate(extend({x:plotX-radius,y:plotY-radius},graphic.symbolName?{width:2*radius,height:2*radius}:{})):isInside&&(radius>0||isImage)&&(point.graphic=graphic=chart.renderer.symbol(symbol,plotX-radius,plotY-radius,2*radius,2*radius,hasPointMarker?pointMarkerOptions:seriesMarkerOptions).attr(pointAttr).add(markerGroup))):graphic&&(point.graphic=graphic.destroy())},convertAttribs:function(options,base1,base2,base3){var attr,option,conversion=this.pointAttrToOptions,obj={};options=options||{},base1=base1||{},base2=base2||{},base3=base3||{};for(attr in conversion)option=conversion[attr],obj[attr]=pick(options[option],base1[attr],base2[attr],base3[attr]);return obj},getAttribs:function(){var pointStateOptionsHover,i,point,pointAttr,attr,key,series=this,seriesOptions=series.options,normalOptions=defaultPlotOptions[series.type].marker?seriesOptions.marker:seriesOptions,stateOptions=normalOptions.states,stateOptionsHover=stateOptions[HOVER_STATE],seriesColor=series.color,seriesNegativeColor=series.options.negativeColor,normalDefaults={stroke:seriesColor,fill:seriesColor},points=series.points||[],seriesPointAttr=[],pointAttrToOptions=series.pointAttrToOptions,hasPointSpecificOptions=series.hasPointSpecificOptions,defaultLineColor=normalOptions.lineColor,defaultFillColor=normalOptions.fillColor,turboThreshold=seriesOptions.turboThreshold,zones=series.zones,zoneAxis=series.zoneAxis||"y";if(seriesOptions.marker?(stateOptionsHover.radius=stateOptionsHover.radius||normalOptions.radius+stateOptionsHover.radiusPlus,stateOptionsHover.lineWidth=stateOptionsHover.lineWidth||normalOptions.lineWidth+stateOptionsHover.lineWidthPlus):(stateOptionsHover.color=stateOptionsHover.color||Color(stateOptionsHover.color||seriesColor).brighten(stateOptionsHover.brightness).get(),stateOptionsHover.negativeColor=stateOptionsHover.negativeColor||Color(stateOptionsHover.negativeColor||seriesNegativeColor).brighten(stateOptionsHover.brightness).get()),seriesPointAttr[NORMAL_STATE]=series.convertAttribs(normalOptions,normalDefaults),each([HOVER_STATE,SELECT_STATE],function(state){seriesPointAttr[state]=series.convertAttribs(stateOptions[state],seriesPointAttr[NORMAL_STATE])}),series.pointAttr=seriesPointAttr,i=points.length,!turboThreshold||turboThreshold>i||hasPointSpecificOptions)for(;i--;){if(point=points[i],normalOptions=point.options&&point.options.marker||point.options,normalOptions&&normalOptions.enabled===!1&&(normalOptions.radius=0),zones.length){for(var j=0,threshold=zones[j];point[zoneAxis]>=threshold.value;)threshold=zones[++j];point.color=point.fillColor=threshold.color}if(hasPointSpecificOptions=seriesOptions.colorByPoint||point.color,point.options)for(key in pointAttrToOptions)defined(normalOptions[pointAttrToOptions[key]])&&(hasPointSpecificOptions=!0);hasPointSpecificOptions?(normalOptions=normalOptions||{},pointAttr=[],stateOptions=normalOptions.states||{},pointStateOptionsHover=stateOptions[HOVER_STATE]=stateOptions[HOVER_STATE]||{},seriesOptions.marker||(pointStateOptionsHover.color=pointStateOptionsHover.color||!point.options.color&&stateOptionsHover[point.negative&&seriesNegativeColor?"negativeColor":"color"]||Color(point.color).brighten(pointStateOptionsHover.brightness||stateOptionsHover.brightness).get()),attr={color:point.color},defaultFillColor||(attr.fillColor=point.color),defaultLineColor||(attr.lineColor=point.color),normalOptions.hasOwnProperty("color")&&!normalOptions.color&&delete normalOptions.color,pointAttr[NORMAL_STATE]=series.convertAttribs(extend(attr,normalOptions),seriesPointAttr[NORMAL_STATE]),pointAttr[HOVER_STATE]=series.convertAttribs(stateOptions[HOVER_STATE],seriesPointAttr[HOVER_STATE],pointAttr[NORMAL_STATE]),pointAttr[SELECT_STATE]=series.convertAttribs(stateOptions[SELECT_STATE],seriesPointAttr[SELECT_STATE],pointAttr[NORMAL_STATE])):pointAttr=seriesPointAttr,point.pointAttr=pointAttr}},destroy:function(){var destroy,i,point,prop,axis,series=this,chart=series.chart,issue134=/AppleWebKit\/533/.test(userAgent),data=series.data||[];for(fireEvent(series,"destroy"),removeEvent(series),each(series.axisTypes||[],function(AXIS){axis=series[AXIS],axis&&(erase(axis.series,series),axis.isDirty=axis.forceRedraw=!0)}),series.legendItem&&series.chart.legend.destroyItem(series),i=data.length;i--;)point=data[i],point&&point.destroy&&point.destroy();series.points=null,clearTimeout(series.animationTimeout);for(prop in series)series[prop]instanceof SVGElement&&!series[prop].survive&&(destroy=issue134&&"group"===prop?"hide":"destroy",series[prop][destroy]());chart.hoverSeries===series&&(chart.hoverSeries=null),erase(chart.series,series);for(prop in series)delete series[prop]},getSegmentPath:function(segment){var series=this,segmentPath=[],step=series.options.step;return each(segment,function(point,i){var lastPoint,plotX=point.plotX,plotY=point.plotY;series.getPointSpline?segmentPath.push.apply(segmentPath,series.getPointSpline(segment,point,i)):(segmentPath.push(i?L:M),step&&i&&(lastPoint=segment[i-1],"right"===step?segmentPath.push(lastPoint.plotX,plotY):"center"===step?segmentPath.push((lastPoint.plotX+plotX)/2,lastPoint.plotY,(lastPoint.plotX+plotX)/2,plotY):segmentPath.push(plotX,lastPoint.plotY)),segmentPath.push(point.plotX,point.plotY))}),segmentPath},getGraphPath:function(){var segmentPath,series=this,graphPath=[],singlePoints=[];return each(series.segments,function(segment){segmentPath=series.getSegmentPath(segment),segment.length>1?graphPath=graphPath.concat(segmentPath):singlePoints.push(segment[0])}),series.singlePoints=singlePoints,series.graphPath=graphPath,graphPath},drawGraph:function(){var series=this,options=this.options,props=[["graph",options.lineColor||this.color,options.dashStyle]],lineWidth=options.lineWidth,roundCap="square"!==options.linecap,graphPath=this.getGraphPath(),fillColor=this.fillGraph&&this.color||NONE,zones=this.zones;each(zones,function(threshold,i){props.push(["zoneGraph"+i,threshold.color||series.color,threshold.dashStyle||options.dashStyle])}),each(props,function(prop,i){var attribs,graphKey=prop[0],graph=series[graphKey];graph?(stop(graph),graph.animate({d:graphPath})):(lineWidth||fillColor)&&graphPath.length&&(attribs={stroke:prop[1],"stroke-width":lineWidth,fill:fillColor,zIndex:1},prop[2]?attribs.dashstyle=prop[2]:roundCap&&(attribs["stroke-linecap"]=attribs["stroke-linejoin"]="round"),series[graphKey]=series.chart.renderer.path(graphPath).attr(attribs).add(series.group).shadow(2>i&&options.shadow))})},applyZones:function(){var translatedFrom,translatedTo,clipAttr,extremes,pxRange,pxPosMin,pxPosMax,series=this,chart=this.chart,renderer=chart.renderer,zones=this.zones,clips=this.clips||[],graph=this.graph,area=this.area,chartSizeMax=mathMax(chart.chartWidth,chart.chartHeight),zoneAxis=this.zoneAxis||"y",axis=this[zoneAxis+"Axis"],reversed=axis.reversed,inverted=chart.inverted,horiz=axis.horiz,ignoreZones=!1;zones.length&&(graph||area)&&(graph&&graph.hide(),area&&area.hide(),extremes=axis.getExtremes(),each(zones,function(threshold,i){translatedFrom=reversed?horiz?chart.plotWidth:0:horiz?0:axis.toPixels(extremes.min),translatedFrom=mathMin(mathMax(pick(translatedTo,translatedFrom),0),chartSizeMax),translatedTo=mathMin(mathMax(mathRound(axis.toPixels(pick(threshold.value,extremes.max),!0)),0),chartSizeMax),ignoreZones&&(translatedFrom=translatedTo=axis.toPixels(extremes.max)),pxRange=Math.abs(translatedFrom-translatedTo),pxPosMin=mathMin(translatedFrom,translatedTo),pxPosMax=mathMax(translatedFrom,translatedTo),axis.isXAxis?(clipAttr={x:inverted?pxPosMax:pxPosMin,y:0,width:pxRange,height:chartSizeMax},horiz||(clipAttr.x=chart.plotHeight-clipAttr.x)):(clipAttr={x:0,y:inverted?pxPosMax:pxPosMin,width:chartSizeMax,height:pxRange},horiz&&(clipAttr.y=chart.plotWidth-clipAttr.y)),chart.inverted&&renderer.isVML&&(clipAttr=axis.isXAxis?{x:0,y:reversed?pxPosMin:pxPosMax,height:clipAttr.width,width:chart.chartWidth}:{x:clipAttr.y-chart.plotLeft-chart.spacingBox.x,y:0,width:clipAttr.height,height:chart.chartHeight}),clips[i]?clips[i].animate(clipAttr):(clips[i]=renderer.clipRect(clipAttr),graph&&series["zoneGraph"+i].clip(clips[i]),area&&series["zoneArea"+i].clip(clips[i])),ignoreZones=threshold.value>extremes.max}),this.clips=clips)},invertGroups:function(){function setInvert(){var size={width:series.yAxis.len,height:series.xAxis.len};each(["group","markerGroup"],function(groupName){series[groupName]&&series[groupName].attr(size).invert()})}var series=this,chart=series.chart;series.xAxis&&(addEvent(chart,"resize",setInvert),addEvent(series,"destroy",function(){removeEvent(chart,"resize",setInvert)}),setInvert(),series.invertGroups=setInvert)},plotGroup:function(prop,name,visibility,zIndex,parent){var group=this[prop],isNew=!group;return isNew&&(this[prop]=group=this.chart.renderer.g(name).attr({visibility:visibility,zIndex:zIndex||.1}).add(parent)),group[isNew?"attr":"animate"](this.getPlotBox()),group},getPlotBox:function(){var chart=this.chart,xAxis=this.xAxis,yAxis=this.yAxis;return chart.inverted&&(xAxis=yAxis,yAxis=this.xAxis),{translateX:xAxis?xAxis.left:chart.plotLeft,translateY:yAxis?yAxis.top:chart.plotTop,scaleX:1,scaleY:1}},render:function(){var group,series=this,chart=series.chart,options=series.options,animation=options.animation,animDuration=animation&&!!series.animate&&chart.renderer.isSVG&&pick(animation.duration,500)||0,visibility=series.visible?VISIBLE:HIDDEN,zIndex=options.zIndex,hasRendered=series.hasRendered,chartSeriesGroup=chart.seriesGroup;group=series.plotGroup("group","series",visibility,zIndex,chartSeriesGroup),series.markerGroup=series.plotGroup("markerGroup","markers",visibility,zIndex,chartSeriesGroup),animDuration&&series.animate(!0),series.getAttribs(),group.inverted=series.isCartesian?chart.inverted:!1,series.drawGraph&&(series.drawGraph(),series.applyZones()),each(series.points,function(point){point.redraw&&point.redraw()}),series.drawDataLabels&&series.drawDataLabels(),series.visible&&series.drawPoints(),series.drawTracker&&series.options.enableMouseTracking!==!1&&series.drawTracker(),chart.inverted&&series.invertGroups(),options.clip===!1||series.sharedClipKey||hasRendered||group.clip(chart.clipRect),animDuration&&series.animate(),hasRendered||(animDuration?series.animationTimeout=setTimeout(function(){series.afterAnimate()},animDuration):series.afterAnimate()),series.isDirty=series.isDirtyData=!1,series.hasRendered=!0},redraw:function(){var series=this,chart=series.chart,wasDirtyData=series.isDirtyData,wasDirty=series.isDirty,group=series.group,xAxis=series.xAxis,yAxis=series.yAxis;group&&(chart.inverted&&group.attr({width:chart.plotWidth,height:chart.plotHeight}),group.animate({translateX:pick(xAxis&&xAxis.left,chart.plotLeft),translateY:pick(yAxis&&yAxis.top,chart.plotTop)})),series.translate(),series.render(),wasDirtyData&&fireEvent(series,"updatedData"),(wasDirty||wasDirtyData)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(e,compareX){var series=this,xAxis=series.xAxis,yAxis=series.yAxis,inverted=series.chart.inverted;return this.searchKDTree({clientX:inverted?xAxis.len-e.chartY+xAxis.pos:e.chartX-xAxis.pos,plotY:inverted?yAxis.len-e.chartX+yAxis.pos:e.chartY-yAxis.pos},compareX)},buildKDTree:function(){function _kdtree(points,depth,dimensions){var axis,median,length=points&&points.length;return length?(axis=series.kdAxisArray[depth%dimensions],points.sort(function(a,b){return a[axis]-b[axis]}),median=Math.floor(length/2),{point:points[median],left:_kdtree(points.slice(0,median),depth+1,dimensions),right:_kdtree(points.slice(median+1),depth+1,dimensions)}):void 0}function startRecursive(){var points=grep(series.points,function(point){return null!==point.y});series.kdTree=_kdtree(points,dimensions,dimensions)}var series=this,dimensions=series.kdDimensions;delete series.kdTree,series.options.kdSync?startRecursive():setTimeout(startRecursive)},searchKDTree:function(point,compareX){function setDistance(p1,p2){var x=defined(p1[kdX])&&defined(p2[kdX])?Math.pow(p1[kdX]-p2[kdX],2):null,y=defined(p1[kdY])&&defined(p2[kdY])?Math.pow(p1[kdY]-p2[kdY],2):null,r=(x||0)+(y||0);p2.dist=defined(r)?Math.sqrt(r):Number.MAX_VALUE,p2.distX=defined(x)?Math.sqrt(x):Number.MAX_VALUE}function _search(search,tree,depth,dimensions){var tdist,sideA,sideB,nPoint1,nPoint2,point=tree.point,axis=series.kdAxisArray[depth%dimensions],ret=point;return setDistance(search,point),tdist=search[axis]-point[axis],sideA=0>tdist?"left":"right",sideB=0>tdist?"right":"left",tree[sideA]&&(nPoint1=_search(search,tree[sideA],depth+1,dimensions),ret=nPoint1[kdComparer]<ret[kdComparer]?nPoint1:point),tree[sideB]&&Math.sqrt(tdist*tdist)<ret[kdComparer]&&(nPoint2=_search(search,tree[sideB],depth+1,dimensions),ret=nPoint2[kdComparer]<ret[kdComparer]?nPoint2:ret),ret}var series=this,kdX=this.kdAxisArray[0],kdY=this.kdAxisArray[1],kdComparer=compareX?"distX":"dist";return this.kdTree||this.buildKDTree(),this.kdTree?_search(point,this.kdTree,this.kdDimensions,this.kdDimensions):void 0}},StackItem.prototype={destroy:function(){destroyObjectProperties(this,this.axis)},render:function(group){var options=this.options,formatOption=options.format,str=formatOption?format(formatOption,this):options.formatter.call(this);this.label?this.label.attr({text:str,visibility:HIDDEN}):this.label=this.axis.chart.renderer.text(str,null,null,options.useHTML).css(options.style).attr({align:this.textAlign,rotation:options.rotation,visibility:HIDDEN}).add(group)},setOffset:function(xOffset,xWidth){var alignAttr,stackItem=this,axis=stackItem.axis,chart=axis.chart,inverted=chart.inverted,reversed=axis.reversed,neg=this.isNegative&&!reversed||!this.isNegative&&reversed,y=axis.translate(axis.usePercentage?100:this.total,0,0,0,1),yZero=axis.translate(0),h=mathAbs(y-yZero),x=chart.xAxis[0].translate(this.x)+xOffset,plotHeight=chart.plotHeight,stackBox={x:inverted?neg?y:y-h:x,y:inverted?plotHeight-x-xWidth:neg?plotHeight-y-h:plotHeight-y,width:inverted?h:xWidth,height:inverted?xWidth:h},label=this.label;label&&(label.align(this.alignOptions,null,stackBox),alignAttr=label.alignAttr,label[this.options.crop===!1||chart.isInsidePlot(alignAttr.x,alignAttr.y)?"show":"hide"](!0))}},Axis.prototype.buildStacks=function(){var series=this.series,reversedStacks=pick(this.options.reversedStacks,!0),i=series.length;if(!this.isXAxis){for(this.usePercentage=!1;i--;)series[reversedStacks?i:series.length-i-1].setStackedPoints();if(this.usePercentage)for(i=0;i<series.length;i++)series[i].setPercentStacks()}},Axis.prototype.renderStackTotals=function(){var stackKey,oneStack,stackCategory,axis=this,chart=axis.chart,renderer=chart.renderer,stacks=axis.stacks,stackTotalGroup=axis.stackTotalGroup;stackTotalGroup||(axis.stackTotalGroup=stackTotalGroup=renderer.g("stack-labels").attr({visibility:VISIBLE,zIndex:6}).add()),stackTotalGroup.translate(chart.plotLeft,chart.plotTop);for(stackKey in stacks){oneStack=stacks[stackKey];for(stackCategory in oneStack)oneStack[stackCategory].render(stackTotalGroup)}},Series.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var isNegative,stack,other,key,pointKey,i,x,y,series=this,xData=series.processedXData,yData=series.processedYData,stackedYData=[],yDataLength=yData.length,seriesOptions=series.options,threshold=seriesOptions.threshold,stackThreshold=seriesOptions.startFromThreshold?threshold:0,stackOption=seriesOptions.stack,stacking=seriesOptions.stacking,stackKey=series.stackKey,negKey="-"+stackKey,negStacks=series.negStacks,yAxis=series.yAxis,stacks=yAxis.stacks,oldStacks=yAxis.oldStacks;

for(i=0;yDataLength>i;i++)x=xData[i],y=yData[i],pointKey=series.index+","+i,isNegative=negStacks&&(stackThreshold?0:threshold)>y,key=isNegative?negKey:stackKey,stacks[key]||(stacks[key]={}),stacks[key][x]||(oldStacks[key]&&oldStacks[key][x]?(stacks[key][x]=oldStacks[key][x],stacks[key][x].total=null):stacks[key][x]=new StackItem(yAxis,yAxis.options.stackLabels,isNegative,x,stackOption)),stack=stacks[key][x],stack.points[pointKey]=[pick(stack.cum,stackThreshold)],"percent"===stacking?(other=isNegative?stackKey:negKey,negStacks&&stacks[other]&&stacks[other][x]?(other=stacks[other][x],stack.total=other.total=mathMax(other.total,stack.total)+mathAbs(y)||0):stack.total=correctFloat(stack.total+(mathAbs(y)||0))):stack.total=correctFloat(stack.total+(y||0)),stack.cum=pick(stack.cum,stackThreshold)+(y||0),stack.points[pointKey].push(stack.cum),stackedYData[i]=stack.cum;"percent"===stacking&&(yAxis.usePercentage=!0),this.stackedYData=stackedYData,yAxis.oldStacks={}}},Series.prototype.setPercentStacks=function(){var series=this,stackKey=series.stackKey,stacks=series.yAxis.stacks,processedXData=series.processedXData;each([stackKey,"-"+stackKey],function(key){for(var x,stack,pointExtremes,totalFactor,i=processedXData.length;i--;)x=processedXData[i],stack=stacks[key]&&stacks[key][x],pointExtremes=stack&&stack.points[series.index+","+i],pointExtremes&&(totalFactor=stack.total?100/stack.total:0,pointExtremes[0]=correctFloat(pointExtremes[0]*totalFactor),pointExtremes[1]=correctFloat(pointExtremes[1]*totalFactor),series.stackedYData[i]=pointExtremes[1])})},extend(Chart.prototype,{addSeries:function(options,redraw,animation){var series,chart=this;return options&&(redraw=pick(redraw,!0),fireEvent(chart,"addSeries",{options:options},function(){series=chart.initSeries(options),chart.isDirtyLegend=!0,chart.linkSeries(),redraw&&chart.redraw(animation)})),series},addAxis:function(options,isX,redraw,animation){var axis,key=isX?"xAxis":"yAxis",chartOptions=this.options;axis=new Axis(this,merge(options,{index:this[key].length,isX:isX})),chartOptions[key]=splat(chartOptions[key]||{}),chartOptions[key].push(options),pick(redraw,!0)&&this.redraw(animation)},showLoading:function(str){var chart=this,options=chart.options,loadingDiv=chart.loadingDiv,loadingOptions=options.loading,setLoadingSize=function(){loadingDiv&&css(loadingDiv,{left:chart.plotLeft+PX,top:chart.plotTop+PX,width:chart.plotWidth+PX,height:chart.plotHeight+PX})};loadingDiv||(chart.loadingDiv=loadingDiv=createElement(DIV,{className:PREFIX+"loading"},extend(loadingOptions.style,{zIndex:10,display:NONE}),chart.container),chart.loadingSpan=createElement("span",null,loadingOptions.labelStyle,loadingDiv),addEvent(chart,"redraw",setLoadingSize)),chart.loadingSpan.innerHTML=str||options.lang.loading,chart.loadingShown||(css(loadingDiv,{opacity:0,display:""}),animate(loadingDiv,{opacity:loadingOptions.style.opacity},{duration:loadingOptions.showDuration||0}),chart.loadingShown=!0),setLoadingSize()},hideLoading:function(){var options=this.options,loadingDiv=this.loadingDiv;loadingDiv&&animate(loadingDiv,{opacity:0},{duration:options.loading.hideDuration||100,complete:function(){css(loadingDiv,{display:NONE})}}),this.loadingShown=!1}}),extend(Point.prototype,{update:function(options,redraw,animation,runEvent){function update(){point.applyOptions(options),null===point.y&&graphic&&(point.graphic=graphic.destroy()),isObject(options)&&!isArray(options)&&(point.redraw=function(){graphic&&(options&&options.marker&&options.marker.symbol?point.graphic=graphic.destroy():graphic.attr(point.pointAttr[point.state||""])[point.visible?"show":"hide"](!0)),options&&options.dataLabels&&point.dataLabel&&(point.dataLabel=point.dataLabel.destroy()),point.redraw=null}),i=point.index,series.updateParallelArrays(point,i),names&&point.name&&(names[point.x]=point.name),seriesOptions.data[i]=point.options,series.isDirty=series.isDirtyData=!0,!series.fixedBox&&series.hasCartesianSeries&&(chart.isDirtyBox=!0),"point"===seriesOptions.legendType&&(chart.isDirtyLegend=!0),redraw&&chart.redraw(animation)}var i,point=this,series=point.series,graphic=point.graphic,chart=series.chart,seriesOptions=series.options,names=series.xAxis&&series.xAxis.names;redraw=pick(redraw,!0),runEvent===!1?update():point.firePointEvent("update",{options:options},update)},remove:function(redraw,animation){this.series.removePoint(inArray(this,this.series.data),redraw,animation)}}),extend(Series.prototype,{addPoint:function(options,redraw,shift,animation){var point,isInTheMiddle,i,x,series=this,seriesOptions=series.options,data=series.data,graph=series.graph,area=series.area,chart=series.chart,names=series.xAxis&&series.xAxis.names,currentShift=graph&&graph.shift||0,shiftShapes=["graph","area"],dataOptions=seriesOptions.data,xData=series.xData;if(setAnimation(animation,chart),shift){for(i=series.zones.length;i--;)shiftShapes.push("zoneGraph"+i,"zoneArea"+i);each(shiftShapes,function(shape){series[shape]&&(series[shape].shift=currentShift+1)})}if(area&&(area.isArea=!0),redraw=pick(redraw,!0),point={series:series},series.pointClass.prototype.applyOptions.apply(point,[options]),x=point.x,i=xData.length,series.requireSorting&&x<xData[i-1])for(isInTheMiddle=!0;i&&xData[i-1]>x;)i--;series.updateParallelArrays(point,"splice",i,0,0),series.updateParallelArrays(point,i),names&&point.name&&(names[x]=point.name),dataOptions.splice(i,0,options),isInTheMiddle&&(series.data.splice(i,0,null),series.processData()),"point"===seriesOptions.legendType&&series.generatePoints(),shift&&(data[0]&&data[0].remove?data[0].remove(!1):(data.shift(),series.updateParallelArrays(point,"shift"),dataOptions.shift())),series.isDirty=!0,series.isDirtyData=!0,redraw&&(series.getAttribs(),chart.redraw())},removePoint:function(i,redraw,animation){var series=this,data=series.data,point=data[i],points=series.points,chart=series.chart,remove=function(){data.length===points.length&&points.splice(i,1),data.splice(i,1),series.options.data.splice(i,1),series.updateParallelArrays(point||{series:series},"splice",i,1),point&&point.destroy(),series.isDirty=!0,series.isDirtyData=!0,redraw&&chart.redraw()};setAnimation(animation,chart),redraw=pick(redraw,!0),point?point.firePointEvent("remove",null,remove):remove()},remove:function(redraw,animation){var series=this,chart=series.chart;redraw=pick(redraw,!0),series.isRemoving||(series.isRemoving=!0,fireEvent(series,"remove",null,function(){series.destroy(),chart.isDirtyLegend=chart.isDirtyBox=!0,chart.linkSeries(),redraw&&chart.redraw(animation)})),series.isRemoving=!1},update:function(newOptions,redraw){var n,series=this,chart=this.chart,oldOptions=this.userOptions,oldType=this.type,proto=seriesTypes[oldType].prototype,preserve=["group","markerGroup","dataLabelsGroup"];(newOptions.type&&newOptions.type!==oldType||void 0!==newOptions.zIndex)&&(preserve.length=0),each(preserve,function(prop){preserve[prop]=series[prop],delete series[prop]}),newOptions=merge(oldOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},newOptions),this.remove(!1);for(n in proto)this[n]=UNDEFINED;extend(this,seriesTypes[newOptions.type||oldType].prototype),each(preserve,function(prop){series[prop]=preserve[prop]}),this.init(chart,newOptions),chart.linkSeries(),pick(redraw,!0)&&chart.redraw(!1)}}),extend(Axis.prototype,{update:function(newOptions,redraw){var chart=this.chart;newOptions=chart.options[this.coll][this.options.index]=merge(this.userOptions,newOptions),this.destroy(!0),this._addedPlotLB=UNDEFINED,this.init(chart,extend(newOptions,{events:UNDEFINED})),chart.isDirtyBox=!0,pick(redraw,!0)&&chart.redraw()},remove:function(redraw){for(var chart=this.chart,key=this.coll,axisSeries=this.series,i=axisSeries.length;i--;)axisSeries[i]&&axisSeries[i].remove(!1);erase(chart.axes,this),erase(chart[key],this),chart.options[key].splice(this.options.index,1),each(chart[key],function(axis,i){axis.options.index=i}),this.destroy(),chart.isDirtyBox=!0,pick(redraw,!0)&&chart.redraw()},setTitle:function(newTitleOptions,redraw){this.update({title:newTitleOptions},redraw)},setCategories:function(categories,redraw){this.update({categories:categories},redraw)}});var LineSeries=extendClass(Series);seriesTypes.line=LineSeries,defaultPlotOptions.area=merge(defaultSeriesOptions,{threshold:0});var AreaSeries=extendClass(Series,{type:"area",getSegments:function(){var plotX,plotY,i,x,series=this,segments=[],segment=[],keys=[],xAxis=this.xAxis,yAxis=this.yAxis,stack=yAxis.stacks[this.stackKey],pointMap={},points=this.points,connectNulls=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(i=0;i<points.length;i++)pointMap[points[i].x]=points[i];for(x in stack)null!==stack[x].total&&keys.push(+x);keys.sort(function(a,b){return a-b}),each(keys,function(x){var stackPoint,y=0;if(!connectNulls||pointMap[x]&&null!==pointMap[x].y)if(pointMap[x])segment.push(pointMap[x]);else{for(i=series.index;i<=yAxis.series.length;i++)if(stackPoint=stack[x].points[i+","+x]){y=stackPoint[1];break}plotX=xAxis.translate(x),plotY=yAxis.toPixels(y,!0),segment.push({y:null,plotX:plotX,clientX:plotX,plotY:plotY,yBottom:plotY,onMouseOver:noop})}}),segment.length&&segments.push(segment)}else Series.prototype.getSegments.call(this),segments=this.segments;this.segments=segments},getSegmentPath:function(segment){var i,yBottom,segmentPath=Series.prototype.getSegmentPath.call(this,segment),areaSegmentPath=[].concat(segmentPath),options=this.options,segLength=segmentPath.length,translatedThreshold=this.yAxis.getThreshold(options.threshold);if(3===segLength&&areaSegmentPath.push(L,segmentPath[1],segmentPath[2]),options.stacking&&!this.closedStacks)for(i=segment.length-1;i>=0;i--)yBottom=pick(segment[i].yBottom,translatedThreshold),i<segment.length-1&&options.step&&areaSegmentPath.push(segment[i+1].plotX,yBottom),areaSegmentPath.push(segment[i].plotX,yBottom);else this.closeSegment(areaSegmentPath,segment,translatedThreshold);return this.areaPath=this.areaPath.concat(areaSegmentPath),segmentPath},closeSegment:function(path,segment,translatedThreshold){path.push(L,segment[segment.length-1].plotX,translatedThreshold,L,segment[0].plotX,translatedThreshold)},drawGraph:function(){this.areaPath=[],Series.prototype.drawGraph.apply(this);var series=this,areaPath=this.areaPath,options=this.options,zones=this.zones,props=[["area",this.color,options.fillColor]];each(zones,function(threshold,i){props.push(["zoneArea"+i,threshold.color||series.color,threshold.fillColor||options.fillColor])}),each(props,function(prop){var areaKey=prop[0],area=series[areaKey];area?area.animate({d:areaPath}):series[areaKey]=series.chart.renderer.path(areaPath).attr({fill:pick(prop[2],Color(prop[1]).setOpacity(pick(options.fillOpacity,.75)).get()),zIndex:0}).add(series.group)})},drawLegendSymbol:LegendSymbolMixin.drawRectangle});seriesTypes.area=AreaSeries,defaultPlotOptions.spline=merge(defaultSeriesOptions);var SplineSeries=extendClass(Series,{type:"spline",getPointSpline:function(segment,point,i){var leftContX,leftContY,rightContX,rightContY,ret,smoothing=1.5,denom=smoothing+1,plotX=point.plotX,plotY=point.plotY,lastPoint=segment[i-1],nextPoint=segment[i+1];if(lastPoint&&nextPoint){var correction,lastX=lastPoint.plotX,lastY=lastPoint.plotY,nextX=nextPoint.plotX,nextY=nextPoint.plotY;leftContX=(smoothing*plotX+lastX)/denom,leftContY=(smoothing*plotY+lastY)/denom,rightContX=(smoothing*plotX+nextX)/denom,rightContY=(smoothing*plotY+nextY)/denom,correction=(rightContY-leftContY)*(rightContX-plotX)/(rightContX-leftContX)+plotY-rightContY,leftContY+=correction,rightContY+=correction,leftContY>lastY&&leftContY>plotY?(leftContY=mathMax(lastY,plotY),rightContY=2*plotY-leftContY):lastY>leftContY&&plotY>leftContY&&(leftContY=mathMin(lastY,plotY),rightContY=2*plotY-leftContY),rightContY>nextY&&rightContY>plotY?(rightContY=mathMax(nextY,plotY),leftContY=2*plotY-rightContY):nextY>rightContY&&plotY>rightContY&&(rightContY=mathMin(nextY,plotY),leftContY=2*plotY-rightContY),point.rightContX=rightContX,point.rightContY=rightContY}return i?(ret=["C",lastPoint.rightContX||lastPoint.plotX,lastPoint.rightContY||lastPoint.plotY,leftContX||plotX,leftContY||plotY,plotX,plotY],lastPoint.rightContX=lastPoint.rightContY=null):ret=[M,plotX,plotY],ret}});seriesTypes.spline=SplineSeries,defaultPlotOptions.areaspline=merge(defaultPlotOptions.area);var areaProto=AreaSeries.prototype,AreaSplineSeries=extendClass(SplineSeries,{type:"areaspline",closedStacks:!0,getSegmentPath:areaProto.getSegmentPath,closeSegment:areaProto.closeSegment,drawGraph:areaProto.drawGraph,drawLegendSymbol:LegendSymbolMixin.drawRectangle});seriesTypes.areaspline=AreaSplineSeries,defaultPlotOptions.column=merge(defaultSeriesOptions,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0});var ColumnSeries=extendClass(Series,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Series.prototype.init.apply(this,arguments);var series=this,chart=series.chart;chart.hasRendered&&each(chart.series,function(otherSeries){otherSeries.type===series.type&&(otherSeries.isDirty=!0)})},getColumnMetrics:function(){var stackKey,columnIndex,series=this,options=series.options,xAxis=series.xAxis,yAxis=series.yAxis,reversedXAxis=xAxis.reversed,stackGroups={},columnCount=0;options.grouping===!1?columnCount=1:each(series.chart.series,function(otherSeries){var otherOptions=otherSeries.options,otherYAxis=otherSeries.yAxis;otherSeries.type===series.type&&otherSeries.visible&&yAxis.len===otherYAxis.len&&yAxis.pos===otherYAxis.pos&&(otherOptions.stacking?(stackKey=otherSeries.stackKey,stackGroups[stackKey]===UNDEFINED&&(stackGroups[stackKey]=columnCount++),columnIndex=stackGroups[stackKey]):otherOptions.grouping!==!1&&(columnIndex=columnCount++),otherSeries.columnIndex=columnIndex)});var categoryWidth=mathMin(mathAbs(xAxis.transA)*(xAxis.ordinalSlope||options.pointRange||xAxis.closestPointRange||xAxis.tickInterval||1),xAxis.len),groupPadding=categoryWidth*options.groupPadding,groupWidth=categoryWidth-2*groupPadding,pointOffsetWidth=groupWidth/columnCount,optionPointWidth=options.pointWidth,pointPadding=defined(optionPointWidth)?(pointOffsetWidth-optionPointWidth)/2:pointOffsetWidth*options.pointPadding,pointWidth=pick(optionPointWidth,pointOffsetWidth-2*pointPadding),colIndex=(reversedXAxis?columnCount-(series.columnIndex||0):series.columnIndex)||0,pointXOffset=pointPadding+(groupPadding+colIndex*pointOffsetWidth-categoryWidth/2)*(reversedXAxis?-1:1);return series.columnMetrics={width:pointWidth,offset:pointXOffset}},translate:function(){var series=this,chart=series.chart,options=series.options,borderWidth=series.borderWidth=pick(options.borderWidth,series.closestPointRange*series.xAxis.transA<2?0:1),yAxis=series.yAxis,threshold=options.threshold,translatedThreshold=series.translatedThreshold=yAxis.getThreshold(threshold),minPointLength=pick(options.minPointLength,5),metrics=series.getColumnMetrics(),pointWidth=metrics.width,seriesBarW=series.barW=mathMax(pointWidth,1+2*borderWidth),pointXOffset=series.pointXOffset=metrics.offset,xCrisp=-(borderWidth%2?.5:0),yCrisp=borderWidth%2?.5:1;chart.inverted&&(translatedThreshold-=.5,chart.renderer.isVML&&(yCrisp+=1)),options.pointPadding&&(seriesBarW=mathCeil(seriesBarW)),Series.prototype.translate.apply(series),each(series.points,function(point){var right,bottom,fromTop,up,yBottom=pick(point.yBottom,translatedThreshold),safeDistance=999+mathAbs(yBottom),plotY=mathMin(mathMax(-safeDistance,point.plotY),yAxis.len+safeDistance),barX=point.plotX+pointXOffset,barW=seriesBarW,barY=mathMin(plotY,yBottom),barH=mathMax(plotY,yBottom)-barY;mathAbs(barH)<minPointLength&&minPointLength&&(barH=minPointLength,up=!yAxis.reversed&&!point.negative||yAxis.reversed&&point.negative,barY=mathRound(mathAbs(barY-translatedThreshold)>minPointLength?yBottom-minPointLength:translatedThreshold-(up?minPointLength:0))),point.barX=barX,point.pointWidth=pointWidth,right=mathRound(barX+barW)+xCrisp,barX=mathRound(barX)+xCrisp,barW=right-barX,fromTop=mathAbs(barY)<.5,bottom=mathMin(mathRound(barY+barH)+yCrisp,9e4),barY=mathRound(barY)+yCrisp,barH=bottom-barY,fromTop&&(barY-=1,barH+=1),point.tooltipPos=chart.inverted?[yAxis.len+yAxis.pos-chart.plotLeft-plotY,series.xAxis.len-barX-barW/2,barH]:[barX+barW/2,plotY+yAxis.pos-chart.plotTop,barH],point.shapeType="rect",point.shapeArgs={x:barX,y:barY,width:barW,height:barH}})},getSymbol:noop,drawLegendSymbol:LegendSymbolMixin.drawRectangle,drawGraph:noop,drawPoints:function(){var shapeArgs,pointAttr,series=this,chart=this.chart,options=series.options,renderer=chart.renderer,animationLimit=options.animationLimit||250;each(series.points,function(point){var borderAttr,plotY=point.plotY,graphic=point.graphic;plotY===UNDEFINED||isNaN(plotY)||null===point.y?graphic&&(point.graphic=graphic.destroy()):(shapeArgs=point.shapeArgs,borderAttr=defined(series.borderWidth)?{"stroke-width":series.borderWidth}:{},pointAttr=point.pointAttr[point.selected?SELECT_STATE:NORMAL_STATE]||series.pointAttr[NORMAL_STATE],graphic?(stop(graphic),graphic.attr(borderAttr)[chart.pointCount<animationLimit?"animate":"attr"](merge(shapeArgs))):point.graphic=graphic=renderer[point.shapeType](shapeArgs).attr(borderAttr).attr(pointAttr).add(series.group).shadow(options.shadow,null,options.stacking&&!options.borderRadius))})},animate:function(init){var translatedThreshold,series=this,yAxis=this.yAxis,options=series.options,inverted=this.chart.inverted,attr={};hasSVG&&(init?(attr.scaleY=.001,translatedThreshold=mathMin(yAxis.pos+yAxis.len,mathMax(yAxis.pos,yAxis.toPixels(options.threshold))),inverted?attr.translateX=translatedThreshold-yAxis.len:attr.translateY=translatedThreshold,series.group.attr(attr)):(attr.scaleY=1,attr[inverted?"translateX":"translateY"]=yAxis.pos,series.group.animate(attr,series.options.animation),series.animate=null))},remove:function(){var series=this,chart=series.chart;chart.hasRendered&&each(chart.series,function(otherSeries){otherSeries.type===series.type&&(otherSeries.isDirty=!0)}),Series.prototype.remove.apply(series,arguments)}});seriesTypes.column=ColumnSeries,defaultPlotOptions.bar=merge(defaultPlotOptions.column);var BarSeries=extendClass(ColumnSeries,{type:"bar",inverted:!0});seriesTypes.bar=BarSeries,defaultPlotOptions.scatter=merge(defaultSeriesOptions,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{series.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});var ScatterSeries=extendClass(Series,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&Series.prototype.drawGraph.call(this)}});seriesTypes.scatter=ScatterSeries,defaultPlotOptions.pie=merge(defaultSeriesOptions,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var PiePoint=extendClass(Point,{init:function(){Point.prototype.init.apply(this,arguments);var toggleSlice,point=this;return extend(point,{visible:point.visible!==!1,name:pick(point.name,"Slice")}),toggleSlice=function(e){point.slice("select"===e.type)},addEvent(point,"select",toggleSlice),addEvent(point,"unselect",toggleSlice),point},setVisible:function(vis,redraw){var point=this,series=point.series,chart=series.chart,ignoreHiddenPoint=series.options.ignoreHiddenPoint;redraw=pick(redraw,ignoreHiddenPoint),vis!==point.visible&&(point.visible=point.options.visible=vis=vis===UNDEFINED?!point.visible:vis,series.options.data[inArray(point,series.data)]=point.options,each(["graphic","dataLabel","connector","shadowGroup"],function(key){point[key]&&point[key][vis?"show":"hide"](!0)}),point.legendItem&&chart.legend.colorizeItem(point,vis),ignoreHiddenPoint&&(series.isDirty=!0),redraw&&chart.redraw())},slice:function(sliced,redraw,animation){var translation,point=this,series=point.series,chart=series.chart;setAnimation(animation,chart),redraw=pick(redraw,!0),point.sliced=point.options.sliced=sliced=defined(sliced)?sliced:!point.sliced,series.options.data[inArray(point,series.data)]=point.options,translation=sliced?point.slicedTranslation:{translateX:0,translateY:0},point.graphic.animate(translation),point.shadowGroup&&point.shadowGroup.animate(translation)},haloPath:function(size){var shapeArgs=this.shapeArgs,chart=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(chart.plotLeft+shapeArgs.x,chart.plotTop+shapeArgs.y,shapeArgs.r+size,shapeArgs.r+size,{innerR:this.shapeArgs.r,start:shapeArgs.start,end:shapeArgs.end})}}),PieSeries={type:"pie",isCartesian:!1,pointClass:PiePoint,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:noop,animate:function(init){var series=this,points=series.points,startAngleRad=series.startAngleRad;init||(each(points,function(point){var graphic=point.graphic,args=point.shapeArgs;graphic&&(graphic.attr({r:point.startR||series.center[3]/2,start:startAngleRad,end:startAngleRad}),graphic.animate({r:args.r,start:args.start,end:args.end},series.options.animation))}),series.animate=null)},setData:function(data,redraw,animation,updatePoints){Series.prototype.setData.call(this,data,!1,animation,updatePoints),this.processData(),this.generatePoints(),pick(redraw,!0)&&this.chart.redraw(animation)},updateTotals:function(){var i,point,total=0,points=this.points,len=points.length,ignoreHiddenPoint=this.options.ignoreHiddenPoint;for(i=0;len>i;i++)point=points[i],total+=ignoreHiddenPoint&&!point.visible?0:point.y;for(this.total=total,i=0;len>i;i++)point=points[i],point.percentage=total>0&&(point.visible||!ignoreHiddenPoint)?point.y/total*100:0,point.total=total},generatePoints:function(){Series.prototype.generatePoints.call(this),this.updateTotals()},translate:function(positions){this.generatePoints();var start,end,angle,radiusX,radiusY,i,point,series=this,cumulative=0,precision=1e3,options=series.options,slicedOffset=options.slicedOffset,connectorOffset=slicedOffset+options.borderWidth,startAngle=options.startAngle||0,startAngleRad=series.startAngleRad=mathPI/180*(startAngle-90),endAngleRad=series.endAngleRad=mathPI/180*(pick(options.endAngle,startAngle+360)-90),circ=endAngleRad-startAngleRad,points=series.points,labelDistance=options.dataLabels.distance,ignoreHiddenPoint=options.ignoreHiddenPoint,len=points.length;for(positions||(series.center=positions=series.getCenter()),series.getX=function(y,left){return angle=math.asin(mathMin((y-positions[1])/(positions[2]/2+labelDistance),1)),positions[0]+(left?-1:1)*mathCos(angle)*(positions[2]/2+labelDistance)},i=0;len>i;i++)point=points[i],start=startAngleRad+cumulative*circ,(!ignoreHiddenPoint||point.visible)&&(cumulative+=point.percentage/100),end=startAngleRad+cumulative*circ,point.shapeType="arc",point.shapeArgs={x:positions[0],y:positions[1],r:positions[2]/2,innerR:positions[3]/2,start:mathRound(start*precision)/precision,end:mathRound(end*precision)/precision},angle=(end+start)/2,angle>1.5*mathPI?angle-=2*mathPI:-mathPI/2>angle&&(angle+=2*mathPI),point.slicedTranslation={translateX:mathRound(mathCos(angle)*slicedOffset),translateY:mathRound(mathSin(angle)*slicedOffset)},radiusX=mathCos(angle)*positions[2]/2,radiusY=mathSin(angle)*positions[2]/2,point.tooltipPos=[positions[0]+.7*radiusX,positions[1]+.7*radiusY],point.half=-mathPI/2>angle||angle>mathPI/2?1:0,point.angle=angle,connectorOffset=mathMin(connectorOffset,labelDistance/2),point.labelPos=[positions[0]+radiusX+mathCos(angle)*labelDistance,positions[1]+radiusY+mathSin(angle)*labelDistance,positions[0]+radiusX+mathCos(angle)*connectorOffset,positions[1]+radiusY+mathSin(angle)*connectorOffset,positions[0]+radiusX,positions[1]+radiusY,0>labelDistance?"center":point.half?"right":"left",angle]},drawGraph:null,drawPoints:function(){var groupTranslation,graphic,shadowGroup,shapeArgs,attr,series=this,chart=series.chart,renderer=chart.renderer,shadow=series.options.shadow;shadow&&!series.shadowGroup&&(series.shadowGroup=renderer.g("shadow").add(series.group)),each(series.points,function(point){graphic=point.graphic,shapeArgs=point.shapeArgs,shadowGroup=point.shadowGroup,shadow&&!shadowGroup&&(shadowGroup=point.shadowGroup=renderer.g("shadow").add(series.shadowGroup)),groupTranslation=point.sliced?point.slicedTranslation:{translateX:0,translateY:0},shadowGroup&&shadowGroup.attr(groupTranslation),graphic?graphic.animate(extend(shapeArgs,groupTranslation)):(attr={"stroke-linejoin":"round"},point.visible||(attr.visibility="hidden"),point.graphic=graphic=renderer[point.shapeType](shapeArgs).setRadialReference(series.center).attr(point.pointAttr[point.selected?SELECT_STATE:NORMAL_STATE]).attr(attr).attr(groupTranslation).add(series.group).shadow(shadow,shadowGroup))})},searchPoint:noop,sortByAngle:function(points,sign){points.sort(function(a,b){return void 0!==a.angle&&(b.angle-a.angle)*sign})},drawLegendSymbol:LegendSymbolMixin.drawRectangle,getCenter:CenteredSeriesMixin.getCenter,getSymbol:noop};PieSeries=extendClass(Series,PieSeries),seriesTypes.pie=PieSeries,Series.prototype.drawDataLabels=function(){var pointOptions,generalOptions,str,dataLabelsGroup,series=this,seriesOptions=series.options,cursor=seriesOptions.cursor,options=seriesOptions.dataLabels,points=series.points,hasRendered=series.hasRendered||0,renderer=series.chart.renderer;(options.enabled||series._hasPointLabels)&&(series.dlProcessOptions&&series.dlProcessOptions(options),dataLabelsGroup=series.plotGroup("dataLabelsGroup","data-labels",options.defer?HIDDEN:VISIBLE,options.zIndex||6),pick(options.defer,!0)&&(dataLabelsGroup.attr({opacity:+hasRendered}),hasRendered||addEvent(series,"afterAnimate",function(){series.visible&&dataLabelsGroup.show(),dataLabelsGroup[seriesOptions.animation?"animate":"attr"]({opacity:1},{duration:200})})),generalOptions=options,each(points,function(point){var enabled,labelConfig,attr,name,rotation,style,dataLabel=point.dataLabel,connector=point.connector,isNew=!0,moreStyle={};if(pointOptions=point.dlOptions||point.options&&point.options.dataLabels,enabled=pick(pointOptions&&pointOptions.enabled,generalOptions.enabled),dataLabel&&!enabled)point.dataLabel=dataLabel.destroy();else if(enabled){if(options=merge(generalOptions,pointOptions),style=options.style,rotation=options.rotation,labelConfig=point.getLabelConfig(),str=options.format?format(options.format,labelConfig):options.formatter.call(labelConfig,options),style.color=pick(options.color,style.color,series.color,"black"),dataLabel)defined(str)?(dataLabel.attr({text:str}),isNew=!1):(point.dataLabel=dataLabel=dataLabel.destroy(),connector&&(point.connector=connector.destroy()));else if(defined(str)){attr={fill:options.backgroundColor,stroke:options.borderColor,"stroke-width":options.borderWidth,r:options.borderRadius||0,rotation:rotation,padding:options.padding,zIndex:1},"contrast"===style.color&&(moreStyle.color=options.inside||options.distance<0||seriesOptions.stacking?renderer.getContrast(point.color||series.color):"#000000"),cursor&&(moreStyle.cursor=cursor);for(name in attr)attr[name]===UNDEFINED&&delete attr[name];dataLabel=point.dataLabel=renderer[rotation?"text":"label"](str,0,-999,options.shape,null,null,options.useHTML).attr(attr).css(extend(style,moreStyle)).add(dataLabelsGroup).shadow(options.shadow)}dataLabel&&series.alignDataLabel(point,dataLabel,options,null,isNew)}}))},Series.prototype.alignDataLabel=function(point,dataLabel,options,alignTo,isNew){var rotCorr,alignAttr,chart=this.chart,inverted=chart.inverted,plotX=pick(point.plotX,-999),plotY=pick(point.plotY,-999),bBox=dataLabel.getBBox(),baseline=chart.renderer.fontMetrics(options.style.fontSize).b,visible=this.visible&&(point.series.forceDL||chart.isInsidePlot(plotX,mathRound(plotY),inverted)||alignTo&&chart.isInsidePlot(plotX,inverted?alignTo.x+1:alignTo.y+alignTo.height-1,inverted));visible&&(alignTo=extend({x:inverted?chart.plotWidth-plotY:plotX,y:mathRound(inverted?chart.plotHeight-plotX:plotY),width:0,height:0},alignTo),extend(options,{width:bBox.width,height:bBox.height}),options.rotation?(rotCorr=chart.renderer.rotCorr(baseline,options.rotation),dataLabel[isNew?"attr":"animate"]({x:alignTo.x+options.x+alignTo.width/2+rotCorr.x,y:alignTo.y+options.y+alignTo.height/2}).attr({align:options.align})):(dataLabel.align(options,null,alignTo),alignAttr=dataLabel.alignAttr,"justify"===pick(options.overflow,"justify")?this.justifyDataLabel(dataLabel,options,alignAttr,bBox,alignTo,isNew):pick(options.crop,!0)&&(visible=chart.isInsidePlot(alignAttr.x,alignAttr.y)&&chart.isInsidePlot(alignAttr.x+bBox.width,alignAttr.y+bBox.height)),options.shape&&dataLabel.attr({anchorX:point.plotX,anchorY:point.plotY}))),visible||(dataLabel.attr({y:-999}),dataLabel.placed=!1)},Series.prototype.justifyDataLabel=function(dataLabel,options,alignAttr,bBox,alignTo,isNew){var off,justified,chart=this.chart,align=options.align,verticalAlign=options.verticalAlign,padding=dataLabel.box?0:dataLabel.padding||0;off=alignAttr.x+padding,0>off&&("right"===align?options.align="left":options.x=-off,justified=!0),off=alignAttr.x+bBox.width-padding,off>chart.plotWidth&&("left"===align?options.align="right":options.x=chart.plotWidth-off,justified=!0),off=alignAttr.y+padding,0>off&&("bottom"===verticalAlign?options.verticalAlign="top":options.y=-off,justified=!0),off=alignAttr.y+bBox.height-padding,off>chart.plotHeight&&("top"===verticalAlign?options.verticalAlign="bottom":options.y=chart.plotHeight-off,justified=!0),justified&&(dataLabel.placed=!isNew,dataLabel.align(options,null,alignTo))},seriesTypes.pie&&(seriesTypes.pie.prototype.drawDataLabels=function(){var point,connector,connectorPath,dataLabel,dataLabelWidth,labelPos,labelHeight,x,y,visibility,rankArr,i,j,series=this,data=series.data,chart=series.chart,options=series.options.dataLabels,connectorPadding=pick(options.connectorPadding,10),connectorWidth=pick(options.connectorWidth,1),plotWidth=chart.plotWidth,plotHeight=chart.plotHeight,softConnector=pick(options.softConnector,!0),distanceOption=options.distance,seriesCenter=series.center,radius=seriesCenter[2]/2,centerY=seriesCenter[1],outside=distanceOption>0,halves=[[],[]],overflow=[0,0,0,0],sort=function(a,b){return b.y-a.y};if(series.visible&&(options.enabled||series._hasPointLabels)){for(Series.prototype.drawDataLabels.apply(series),each(data,function(point){point.dataLabel&&point.visible&&halves[point.half].push(point)}),i=2;i--;){var slotsLength,pos,bottom,slotIndex,slots=[],usedSlots=[],points=halves[i],length=points.length;if(length){for(series.sortByAngle(points,i-.5),j=labelHeight=0;!labelHeight&&points[j];)labelHeight=points[j]&&points[j].dataLabel&&(points[j].dataLabel.getBBox().height||21),j++;if(distanceOption>0){for(bottom=mathMin(centerY+radius+distanceOption,chart.plotHeight),pos=mathMax(0,centerY-radius-distanceOption);bottom>=pos;pos+=labelHeight)slots.push(pos);if(slotsLength=slots.length,length>slotsLength){for(rankArr=[].concat(points),rankArr.sort(sort),j=length;j--;)rankArr[j].rank=j;for(j=length;j--;)points[j].rank>=slotsLength&&points.splice(j,1);length=points.length}for(j=0;length>j;j++){point=points[j],labelPos=point.labelPos;var distance,slotI,closest=9999;

for(slotI=0;slotsLength>slotI;slotI++)distance=mathAbs(slots[slotI]-labelPos[1]),closest>distance&&(closest=distance,slotIndex=slotI);if(j>slotIndex&&null!==slots[j])slotIndex=j;else if(length-j+slotIndex>slotsLength&&null!==slots[j])for(slotIndex=slotsLength-length+j;null===slots[slotIndex];)slotIndex++;else for(;null===slots[slotIndex];)slotIndex++;usedSlots.push({i:slotIndex,y:slots[slotIndex]}),slots[slotIndex]=null}usedSlots.sort(sort)}for(j=0;length>j;j++){var slot,naturalY;point=points[j],labelPos=point.labelPos,dataLabel=point.dataLabel,visibility=point.visible===!1?HIDDEN:"inherit",naturalY=labelPos[1],distanceOption>0?(slot=usedSlots.pop(),slotIndex=slot.i,y=slot.y,(naturalY>y&&null!==slots[slotIndex+1]||y>naturalY&&null!==slots[slotIndex-1])&&(y=mathMin(mathMax(0,naturalY),chart.plotHeight))):y=naturalY,x=options.justify?seriesCenter[0]+(i?-1:1)*(radius+distanceOption):series.getX(y===centerY-radius-distanceOption||y===centerY+radius+distanceOption?naturalY:y,i),dataLabel._attr={visibility:visibility,align:labelPos[6]},dataLabel._pos={x:x+options.x+({left:connectorPadding,right:-connectorPadding}[labelPos[6]]||0),y:y+options.y-10},dataLabel.connX=x,dataLabel.connY=y,null===this.options.size&&(dataLabelWidth=dataLabel.width,connectorPadding>x-dataLabelWidth?overflow[3]=mathMax(mathRound(dataLabelWidth-x+connectorPadding),overflow[3]):x+dataLabelWidth>plotWidth-connectorPadding&&(overflow[1]=mathMax(mathRound(x+dataLabelWidth-plotWidth+connectorPadding),overflow[1])),0>y-labelHeight/2?overflow[0]=mathMax(mathRound(-y+labelHeight/2),overflow[0]):y+labelHeight/2>plotHeight&&(overflow[2]=mathMax(mathRound(y+labelHeight/2-plotHeight),overflow[2])))}}}(0===arrayMax(overflow)||this.verifyDataLabelOverflow(overflow))&&(this.placeDataLabels(),outside&&connectorWidth&&each(this.points,function(point){connector=point.connector,labelPos=point.labelPos,dataLabel=point.dataLabel,dataLabel&&dataLabel._pos&&point.visible?(visibility=dataLabel._attr.visibility,x=dataLabel.connX,y=dataLabel.connY,connectorPath=softConnector?[M,x+("left"===labelPos[6]?5:-5),y,"C",x,y,2*labelPos[2]-labelPos[4],2*labelPos[3]-labelPos[5],labelPos[2],labelPos[3],L,labelPos[4],labelPos[5]]:[M,x+("left"===labelPos[6]?5:-5),y,L,labelPos[2],labelPos[3],L,labelPos[4],labelPos[5]],connector?(connector.animate({d:connectorPath}),connector.attr("visibility",visibility)):point.connector=connector=series.chart.renderer.path(connectorPath).attr({"stroke-width":connectorWidth,stroke:options.connectorColor||point.color||"#606060",visibility:visibility}).add(series.dataLabelsGroup)):connector&&(point.connector=connector.destroy())}))}},seriesTypes.pie.prototype.placeDataLabels=function(){each(this.points,function(point){var _pos,dataLabel=point.dataLabel;dataLabel&&point.visible&&(_pos=dataLabel._pos,_pos?(dataLabel.attr(dataLabel._attr),dataLabel[dataLabel.moved?"animate":"attr"](_pos),dataLabel.moved=!0):dataLabel&&dataLabel.attr({y:-999}))})},seriesTypes.pie.prototype.alignDataLabel=noop,seriesTypes.pie.prototype.verifyDataLabelOverflow=function(overflow){var ret,center=this.center,options=this.options,centerOption=options.center,minSize=options.minSize||80,newSize=minSize;return null!==centerOption[0]?newSize=mathMax(center[2]-mathMax(overflow[1],overflow[3]),minSize):(newSize=mathMax(center[2]-overflow[1]-overflow[3],minSize),center[0]+=(overflow[3]-overflow[1])/2),null!==centerOption[1]?newSize=mathMax(mathMin(newSize,center[2]-mathMax(overflow[0],overflow[2])),minSize):(newSize=mathMax(mathMin(newSize,center[2]-overflow[0]-overflow[2]),minSize),center[1]+=(overflow[0]-overflow[2])/2),newSize<center[2]?(center[2]=newSize,center[3]=relativeLength(options.innerSize||0,newSize),this.translate(center),each(this.points,function(point){point.dataLabel&&(point.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):ret=!0,ret}),seriesTypes.column&&(seriesTypes.column.prototype.alignDataLabel=function(point,dataLabel,options,alignTo,isNew){var inverted=this.chart.inverted,series=point.series,dlBox=point.dlBox||point.shapeArgs,below=pick(point.below,point.plotY>pick(this.translatedThreshold,series.yAxis.len)),inside=pick(options.inside,!!this.options.stacking);dlBox&&(alignTo=merge(dlBox),inverted&&(alignTo={x:series.yAxis.len-alignTo.y-alignTo.height,y:series.xAxis.len-alignTo.x-alignTo.width,width:alignTo.height,height:alignTo.width}),inside||(inverted?(alignTo.x+=below?0:alignTo.width,alignTo.width=0):(alignTo.y+=below?alignTo.height:0,alignTo.height=0))),options.align=pick(options.align,!inverted||inside?"center":below?"right":"left"),options.verticalAlign=pick(options.verticalAlign,inverted||inside?"middle":below?"top":"bottom"),Series.prototype.alignDataLabel.call(this,point,dataLabel,options,alignTo,isNew)}),function(H){var Chart=H.Chart,each=H.each,pick=H.pick,addEvent=HighchartsAdapter.addEvent;Chart.prototype.callbacks.push(function(chart){function collectAndHide(){var labels=[];each(chart.series,function(series){var dlOptions=series.options.dataLabels;(dlOptions.enabled||series._hasPointLabels)&&!dlOptions.allowOverlap&&series.visible&&each(series.points,function(point){point.dataLabel&&(point.dataLabel.labelrank=pick(point.labelrank,point.shapeArgs&&point.shapeArgs.height),labels.push(point.dataLabel))})}),chart.hideOverlappingLabels(labels)}collectAndHide(),addEvent(chart,"redraw",collectAndHide)}),Chart.prototype.hideOverlappingLabels=function(labels){var label,i,j,label1,label2,len=labels.length,intersectRect=function(pos1,pos2,size1,size2){return!(pos2.x>pos1.x+size1.width||pos2.x+size2.width<pos1.x||pos2.y>pos1.y+size1.height||pos2.y+size2.height<pos1.y)};for(i=0;len>i;i++)label=labels[i],label&&(label.oldOpacity=label.opacity,label.newOpacity=1);for(labels.sort(function(a,b){return b.labelrank-a.labelrank}),i=0;len>i;i++)for(label1=labels[i],j=i+1;len>j;++j)label2=labels[j],label1&&label2&&label1.placed&&label2.placed&&0!==label1.newOpacity&&0!==label2.newOpacity&&intersectRect(label1.alignAttr,label2.alignAttr,label1,label2)&&((label1.labelrank<label2.labelrank?label1:label2).newOpacity=0);for(i=0;len>i;i++)label=labels[i],label&&(label.oldOpacity!==label.newOpacity&&label.placed&&(label.alignAttr.opacity=label.newOpacity,label[label.isOld&&label.newOpacity?"animate":"attr"](label.alignAttr)),label.isOld=!0)}}(Highcharts);var TrackerMixin=Highcharts.TrackerMixin={drawTrackerPoint:function(){var series=this,chart=series.chart,pointer=chart.pointer,cursor=series.options.cursor,css=cursor&&{cursor:cursor},onMouseOver=function(e){for(var point,target=e.target;target&&!point;)point=target.point,target=target.parentNode;point!==UNDEFINED&&point!==chart.hoverPoint&&point.onMouseOver(e)};each(series.points,function(point){point.graphic&&(point.graphic.element.point=point),point.dataLabel&&(point.dataLabel.element.point=point)}),series._hasTracking||(each(series.trackerGroups,function(key){series[key]&&(series[key].addClass(PREFIX+"tracker").on("mouseover",onMouseOver).on("mouseout",function(e){pointer.onTrackerMouseOut(e)}).css(css),hasTouch&&series[key].on("touchstart",onMouseOver))}),series._hasTracking=!0)},drawTrackerGraph:function(){var singlePoint,i,series=this,options=series.options,trackByArea=options.trackByArea,trackerPath=[].concat(trackByArea?series.areaPath:series.graphPath),trackerPathLength=trackerPath.length,chart=series.chart,pointer=chart.pointer,renderer=chart.renderer,snap=chart.options.tooltip.snap,tracker=series.tracker,cursor=options.cursor,css=cursor&&{cursor:cursor},singlePoints=series.singlePoints,onMouseOver=function(){chart.hoverSeries!==series&&series.onMouseOver()},TRACKER_FILL="rgba(192,192,192,"+(hasSVG?1e-4:.002)+")";if(trackerPathLength&&!trackByArea)for(i=trackerPathLength+1;i--;)trackerPath[i]===M&&trackerPath.splice(i+1,0,trackerPath[i+1]-snap,trackerPath[i+2],L),(i&&trackerPath[i]===M||i===trackerPathLength)&&trackerPath.splice(i,0,L,trackerPath[i-2]+snap,trackerPath[i-1]);for(i=0;i<singlePoints.length;i++)singlePoint=singlePoints[i],trackerPath.push(M,singlePoint.plotX-snap,singlePoint.plotY,L,singlePoint.plotX+snap,singlePoint.plotY);tracker?tracker.attr({d:trackerPath}):(series.tracker=renderer.path(trackerPath).attr({"stroke-linejoin":"round",visibility:series.visible?VISIBLE:HIDDEN,stroke:TRACKER_FILL,fill:trackByArea?TRACKER_FILL:NONE,"stroke-width":options.lineWidth+(trackByArea?0:2*snap),zIndex:2}).add(series.group),each([series.tracker,series.markerGroup],function(tracker){tracker.addClass(PREFIX+"tracker").on("mouseover",onMouseOver).on("mouseout",function(e){pointer.onTrackerMouseOut(e)}).css(css),hasTouch&&tracker.on("touchstart",onMouseOver)}))}};seriesTypes.column&&(ColumnSeries.prototype.drawTracker=TrackerMixin.drawTrackerPoint),seriesTypes.pie&&(seriesTypes.pie.prototype.drawTracker=TrackerMixin.drawTrackerPoint),seriesTypes.scatter&&(ScatterSeries.prototype.drawTracker=TrackerMixin.drawTrackerPoint),extend(Legend.prototype,{setItemEvents:function(item,legendItem,useHTML,itemStyle,itemHiddenStyle){var legend=this;(useHTML?legendItem:item.legendGroup).on("mouseover",function(){item.setState(HOVER_STATE),legendItem.css(legend.options.itemHoverStyle)}).on("mouseout",function(){legendItem.css(item.visible?itemStyle:itemHiddenStyle),item.setState()}).on("click",function(event){var strLegendItemClick="legendItemClick",fnLegendItemClick=function(){item.setVisible()};event={browserEvent:event},item.firePointEvent?item.firePointEvent(strLegendItemClick,event,fnLegendItemClick):fireEvent(item,strLegendItemClick,event,fnLegendItemClick)})},createCheckboxForItem:function(item){var legend=this;item.checkbox=createElement("input",{type:"checkbox",checked:item.selected,defaultChecked:item.selected},legend.options.itemCheckboxStyle,legend.chart.container),addEvent(item.checkbox,"click",function(event){var target=event.target;fireEvent(item.series||item,"checkboxClick",{checked:target.checked,item:item},function(){item.select()})})}}),defaultOptions.legend.itemStyle.cursor="pointer",extend(Chart.prototype,{showResetZoom:function(){var chart=this,lang=defaultOptions.lang,btnOptions=chart.options.chart.resetZoomButton,theme=btnOptions.theme,states=theme.states,alignTo="chart"===btnOptions.relativeTo?null:"plotBox";this.resetZoomButton=chart.renderer.button(lang.resetZoom,null,null,function(){chart.zoomOut()},theme,states&&states.hover).attr({align:btnOptions.position.align,title:lang.resetZoomTitle}).add().align(btnOptions.position,!1,alignTo)},zoomOut:function(){var chart=this;fireEvent(chart,"selection",{resetSelection:!0},function(){chart.zoom()})},zoom:function(event){var hasZoomed,resetZoomButton,chart=this,pointer=chart.pointer,displayButton=!1;!event||event.resetSelection?each(chart.axes,function(axis){hasZoomed=axis.zoom()}):each(event.xAxis.concat(event.yAxis),function(axisData){var axis=axisData.axis,isXAxis=axis.isXAxis;(pointer[isXAxis?"zoomX":"zoomY"]||pointer[isXAxis?"pinchX":"pinchY"])&&(hasZoomed=axis.zoom(axisData.min,axisData.max),axis.displayBtn&&(displayButton=!0))}),resetZoomButton=chart.resetZoomButton,displayButton&&!resetZoomButton?chart.showResetZoom():!displayButton&&isObject(resetZoomButton)&&(chart.resetZoomButton=resetZoomButton.destroy()),hasZoomed&&chart.redraw(pick(chart.options.chart.animation,event&&event.animation,chart.pointCount<100))},pan:function(e,panning){var doRedraw,chart=this,hoverPoints=chart.hoverPoints;hoverPoints&&each(hoverPoints,function(point){point.setState()}),each("xy"===panning?[1,0]:[1],function(isX){var mousePos=e[isX?"chartX":"chartY"],axis=chart[isX?"xAxis":"yAxis"][0],startPos=chart[isX?"mouseDownX":"mouseDownY"],halfPointRange=(axis.pointRange||0)/2,extremes=axis.getExtremes(),newMin=axis.toValue(startPos-mousePos,!0)+halfPointRange,newMax=axis.toValue(startPos+chart[isX?"plotWidth":"plotHeight"]-mousePos,!0)-halfPointRange,goingLeft=startPos>mousePos;axis.series.length&&(goingLeft||newMin>mathMin(extremes.dataMin,extremes.min))&&(!goingLeft||newMax<mathMax(extremes.dataMax,extremes.max))&&(axis.setExtremes(newMin,newMax,!1,!1,{trigger:"pan"}),doRedraw=!0),chart[isX?"mouseDownX":"mouseDownY"]=mousePos}),doRedraw&&chart.redraw(!1),css(chart.container,{cursor:"move"})}}),extend(Point.prototype,{select:function(selected,accumulate){var point=this,series=point.series,chart=series.chart;selected=pick(selected,!point.selected),point.firePointEvent(selected?"select":"unselect",{accumulate:accumulate},function(){point.selected=point.options.selected=selected,series.options.data[inArray(point,series.data)]=point.options,point.setState(selected&&SELECT_STATE),accumulate||each(chart.getSelectedPoints(),function(loopPoint){loopPoint.selected&&loopPoint!==point&&(loopPoint.selected=loopPoint.options.selected=!1,series.options.data[inArray(loopPoint,series.data)]=loopPoint.options,loopPoint.setState(NORMAL_STATE),loopPoint.firePointEvent("unselect"))})})},onMouseOver:function(e){var point=this,series=point.series,chart=series.chart,tooltip=chart.tooltip,hoverPoint=chart.hoverPoint;chart.hoverSeries!==series&&series.onMouseOver(),hoverPoint&&hoverPoint!==point&&hoverPoint.onMouseOut(),point.firePointEvent("mouseOver"),!tooltip||tooltip.shared&&!series.noSharedTooltip||tooltip.refresh(point,e),point.setState(HOVER_STATE),chart.hoverPoint=point},onMouseOut:function(){var chart=this.series.chart,hoverPoints=chart.hoverPoints;this.firePointEvent("mouseOut"),hoverPoints&&-1!==inArray(this,hoverPoints)||(this.setState(),chart.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var eventType,point=this,options=merge(point.series.options.point,point.options),events=options.events;point.events=events;for(eventType in events)addEvent(point,eventType,events[eventType]);this.hasImportedEvents=!0}},setState:function(state,move){var radius,haloOptions,newSymbol,pointAttr,point=this,plotX=point.plotX,plotY=point.plotY,series=point.series,stateOptions=series.options.states,markerOptions=defaultPlotOptions[series.type].marker&&series.options.marker,normalDisabled=markerOptions&&!markerOptions.enabled,markerStateOptions=markerOptions&&markerOptions.states[state],stateDisabled=markerStateOptions&&markerStateOptions.enabled===!1,stateMarkerGraphic=series.stateMarkerGraphic,pointMarker=point.marker||{},chart=series.chart,halo=series.halo;state=state||NORMAL_STATE,pointAttr=point.pointAttr[state]||series.pointAttr[state],state===point.state&&!move||point.selected&&state!==SELECT_STATE||stateOptions[state]&&stateOptions[state].enabled===!1||state&&(stateDisabled||normalDisabled&&markerStateOptions.enabled===!1)||state&&pointMarker.states&&pointMarker.states[state]&&pointMarker.states[state].enabled===!1||(point.graphic?(radius=markerOptions&&point.graphic.symbolName&&pointAttr.r,point.graphic.attr(merge(pointAttr,radius?{x:plotX-radius,y:plotY-radius,width:2*radius,height:2*radius}:{})),stateMarkerGraphic&&stateMarkerGraphic.hide()):(state&&markerStateOptions&&(radius=markerStateOptions.radius,newSymbol=pointMarker.symbol||series.symbol,stateMarkerGraphic&&stateMarkerGraphic.currentSymbol!==newSymbol&&(stateMarkerGraphic=stateMarkerGraphic.destroy()),stateMarkerGraphic?stateMarkerGraphic[move?"animate":"attr"]({x:plotX-radius,y:plotY-radius}):newSymbol&&(series.stateMarkerGraphic=stateMarkerGraphic=chart.renderer.symbol(newSymbol,plotX-radius,plotY-radius,2*radius,2*radius).attr(pointAttr).add(series.markerGroup),stateMarkerGraphic.currentSymbol=newSymbol)),stateMarkerGraphic&&stateMarkerGraphic[state&&chart.isInsidePlot(plotX,plotY,chart.inverted)?"show":"hide"]()),haloOptions=stateOptions[state]&&stateOptions[state].halo,haloOptions&&haloOptions.size?(halo||(series.halo=halo=chart.renderer.path().add(chart.seriesGroup)),halo.attr(extend({fill:Color(point.color||series.color).setOpacity(haloOptions.opacity).get()},haloOptions.attributes))[move?"animate":"attr"]({d:point.haloPath(haloOptions.size)})):halo&&halo.attr({d:[]}),point.state=state)},haloPath:function(size){var series=this.series,chart=series.chart,plotBox=series.getPlotBox(),inverted=chart.inverted;return chart.renderer.symbols.circle(plotBox.translateX+(inverted?series.yAxis.len-this.plotY:this.plotX)-size,plotBox.translateY+(inverted?series.xAxis.len-this.plotX:this.plotY)-size,2*size,2*size)}}),extend(Series.prototype,{onMouseOver:function(){var series=this,chart=series.chart,hoverSeries=chart.hoverSeries;hoverSeries&&hoverSeries!==series&&hoverSeries.onMouseOut(),series.options.events.mouseOver&&fireEvent(series,"mouseOver"),series.setState(HOVER_STATE),chart.hoverSeries=series},onMouseOut:function(){var series=this,options=series.options,chart=series.chart,tooltip=chart.tooltip,hoverPoint=chart.hoverPoint;chart.hoverSeries=null,hoverPoint&&hoverPoint.onMouseOut(),series&&options.events.mouseOut&&fireEvent(series,"mouseOut"),!tooltip||options.stickyTracking||tooltip.shared&&!series.noSharedTooltip||tooltip.hide(),series.setState()},setState:function(state){var attribs,series=this,options=series.options,graph=series.graph,stateOptions=options.states,lineWidth=options.lineWidth,i=0;if(state=state||NORMAL_STATE,series.state!==state){if(series.state=state,stateOptions[state]&&stateOptions[state].enabled===!1)return;if(state&&(lineWidth=stateOptions[state].lineWidth||lineWidth+(stateOptions[state].lineWidthPlus||0)),graph&&!graph.dashstyle)for(attribs={"stroke-width":lineWidth},graph.attr(attribs);series["zoneGraph"+i];)series["zoneGraph"+i].attr(attribs),i+=1}},setVisible:function(vis,redraw){var showOrHide,series=this,chart=series.chart,legendItem=series.legendItem,ignoreHiddenSeries=chart.options.chart.ignoreHiddenSeries,oldVisibility=series.visible;series.visible=vis=series.userOptions.visible=vis===UNDEFINED?!oldVisibility:vis,showOrHide=vis?"show":"hide",each(["group","dataLabelsGroup","markerGroup","tracker"],function(key){series[key]&&series[key][showOrHide]()}),(chart.hoverSeries===series||(chart.hoverPoint&&chart.hoverPoint.series)===series)&&series.onMouseOut(),legendItem&&chart.legend.colorizeItem(series,vis),series.isDirty=!0,series.options.stacking&&each(chart.series,function(otherSeries){otherSeries.options.stacking&&otherSeries.visible&&(otherSeries.isDirty=!0)}),each(series.linkedSeries,function(otherSeries){otherSeries.setVisible(vis,!1)}),ignoreHiddenSeries&&(chart.isDirtyBox=!0),redraw!==!1&&chart.redraw(),fireEvent(series,showOrHide)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(selected){var series=this;series.selected=selected=selected===UNDEFINED?!series.selected:selected,series.checkbox&&(series.checkbox.checked=selected),fireEvent(series,selected?"select":"unselect")},drawTracker:TrackerMixin.drawTrackerGraph}),extend(Highcharts,{Color:Color,Point:Point,Tick:Tick,Renderer:Renderer,SVGElement:SVGElement,SVGRenderer:SVGRenderer,arrayMin:arrayMin,arrayMax:arrayMax,charts:charts,dateFormat:dateFormat,error:error,format:format,pathAnim:pathAnim,getOptions:getOptions,hasBidiBug:hasBidiBug,isTouchDevice:isTouchDevice,setOptions:setOptions,addEvent:addEvent,removeEvent:removeEvent,createElement:createElement,discardElement:discardElement,css:css,each:each,map:map,merge:merge,splat:splat,extendClass:extendClass,pInt:pInt,svg:hasSVG,canvas:useCanVG,vml:!hasSVG&&!useCanVG,product:PRODUCT,version:VERSION})}()},{}],22:[function(require,module,exports){!function(Highcharts){var UNDEFINED,buttonOffset,Chart=Highcharts.Chart,addEvent=Highcharts.addEvent,removeEvent=Highcharts.removeEvent,fireEvent=HighchartsAdapter.fireEvent,createElement=Highcharts.createElement,discardElement=Highcharts.discardElement,css=Highcharts.css,merge=Highcharts.merge,each=Highcharts.each,extend=Highcharts.extend,splat=Highcharts.splat,math=Math,mathMax=math.max,doc=document,win=window,isTouchDevice=Highcharts.isTouchDevice,M="M",L="L",DIV="div",HIDDEN="hidden",NONE="none",PREFIX="highcharts-",ABSOLUTE="absolute",PX="px",symbols=Highcharts.Renderer.prototype.symbols,defaultOptions=Highcharts.getOptions();extend(defaultOptions.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),defaultOptions.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:NONE,color:"#303030",fontSize:isTouchDevice?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}},defaultOptions.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:PREFIX+"contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},Highcharts.post=function(url,data,formAttributes){var name,form;form=createElement("form",merge({method:"post",action:url,enctype:"multipart/form-data"},formAttributes),{display:NONE},doc.body);for(name in data)createElement("input",{type:HIDDEN,name:name,value:data[name]},null,form);form.submit(),discardElement(form)},extend(Chart.prototype,{sanitizeSVG:function(svg){return svg.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,'id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(s){return s.toLowerCase()})},getSVG:function(additionalOptions){var chartCopy,sandbox,svg,seriesOptions,sourceWidth,sourceHeight,cssWidth,cssHeight,chart=this,options=merge(chart.options,additionalOptions);return doc.createElementNS||(doc.createElementNS=function(ns,tagName){return doc.createElement(tagName)}),sandbox=createElement(DIV,null,{position:ABSOLUTE,top:"-9999em",width:chart.chartWidth+PX,height:chart.chartHeight+PX},doc.body),cssWidth=chart.renderTo.style.width,cssHeight=chart.renderTo.style.height,sourceWidth=options.exporting.sourceWidth||options.chart.width||/px$/.test(cssWidth)&&parseInt(cssWidth,10)||600,sourceHeight=options.exporting.sourceHeight||options.chart.height||/px$/.test(cssHeight)&&parseInt(cssHeight,10)||400,extend(options.chart,{animation:!1,renderTo:sandbox,forExport:!0,width:sourceWidth,height:sourceHeight}),options.exporting.enabled=!1,delete options.data,options.series=[],each(chart.series,function(serie){seriesOptions=merge(serie.options,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:serie.visible}),seriesOptions.isInternal||options.series.push(seriesOptions)}),additionalOptions&&each(["xAxis","yAxis"],function(axisType){each(splat(additionalOptions[axisType]),function(axisOptions,i){options[axisType][i]=merge(options[axisType][i],axisOptions)})}),chartCopy=new Highcharts.Chart(options,chart.callback),each(["xAxis","yAxis"],function(axisType){each(chart[axisType],function(axis,i){var axisCopy=chartCopy[axisType][i],extremes=axis.getExtremes(),userMin=extremes.userMin,userMax=extremes.userMax;!axisCopy||userMin===UNDEFINED&&userMax===UNDEFINED||axisCopy.setExtremes(userMin,userMax,!0,!1)})}),svg=chartCopy.container.innerHTML,options=null,chartCopy.destroy(),discardElement(sandbox),svg=this.sanitizeSVG(svg),svg=svg.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},getSVGForExport:function(options,chartOptions){var chartExportingOptions=this.options.exporting;return this.getSVG(merge({chart:{borderRadius:0}},chartExportingOptions.chartOptions,chartOptions,{exporting:{sourceWidth:options&&options.sourceWidth||chartExportingOptions.sourceWidth,sourceHeight:options&&options.sourceHeight||chartExportingOptions.sourceHeight}}))},exportChart:function(options,chartOptions){var svg=this.getSVGForExport(options,chartOptions);options=merge(this.options.exporting,options),Highcharts.post(options.url,{filename:options.filename||"chart",type:options.type,width:options.width||0,scale:options.scale||2,svg:svg},options.formAttributes)},print:function(){var chart=this,container=chart.container,origDisplay=[],origParent=container.parentNode,body=doc.body,childNodes=body.childNodes;chart.isPrinting||(chart.isPrinting=!0,fireEvent(chart,"beforePrint"),each(childNodes,function(node,i){1===node.nodeType&&(origDisplay[i]=node.style.display,node.style.display=NONE)}),body.appendChild(container),win.focus(),win.print(),setTimeout(function(){origParent.appendChild(container),each(childNodes,function(node,i){1===node.nodeType&&(node.style.display=origDisplay[i])}),chart.isPrinting=!1,fireEvent(chart,"afterPrint")},1e3))},contextMenu:function(className,items,x,y,width,height,button){var innerMenu,hide,hideTimer,menuStyle,chart=this,navOptions=chart.options.navigation,menuItemStyle=navOptions.menuItemStyle,chartWidth=chart.chartWidth,chartHeight=chart.chartHeight,cacheName="cache-"+className,menu=chart[cacheName],menuPadding=mathMax(width,height),boxShadow="3px 3px 10px #888",docMouseUpHandler=function(e){chart.pointer.inClass(e.target,className)||hide()};menu||(chart[cacheName]=menu=createElement(DIV,{className:className},{position:ABSOLUTE,zIndex:1e3,padding:menuPadding+PX},chart.container),innerMenu=createElement(DIV,null,extend({MozBoxShadow:boxShadow,WebkitBoxShadow:boxShadow,boxShadow:boxShadow},navOptions.menuStyle),menu),hide=function(){css(menu,{display:NONE}),button&&button.setState(0),chart.openMenu=!1},addEvent(menu,"mouseleave",function(){hideTimer=setTimeout(hide,500)}),addEvent(menu,"mouseenter",function(){clearTimeout(hideTimer)}),addEvent(document,"mouseup",docMouseUpHandler),addEvent(chart,"destroy",function(){removeEvent(document,"mouseup",docMouseUpHandler)}),each(items,function(item){if(item){var element=item.separator?createElement("hr",null,null,innerMenu):createElement(DIV,{onmouseover:function(){css(this,navOptions.menuItemHoverStyle)},onmouseout:function(){css(this,menuItemStyle)},onclick:function(){hide(),item.onclick&&item.onclick.apply(chart,arguments)},innerHTML:item.text||chart.options.lang[item.textKey]},extend({cursor:"pointer"},menuItemStyle),innerMenu);chart.exportDivElements.push(element)}}),chart.exportDivElements.push(innerMenu,menu),chart.exportMenuWidth=menu.offsetWidth,chart.exportMenuHeight=menu.offsetHeight),menuStyle={display:"block"},x+chart.exportMenuWidth>chartWidth?menuStyle.right=chartWidth-x-width-menuPadding+PX:menuStyle.left=x-menuPadding+PX,y+height+chart.exportMenuHeight>chartHeight&&"top"!==button.alignOptions.verticalAlign?menuStyle.bottom=chartHeight-y-menuPadding+PX:menuStyle.top=y+height-menuPadding+PX,css(menu,menuStyle),chart.openMenu=!0},addButton:function(options){var symbol,button,chart=this,renderer=chart.renderer,btnOptions=merge(chart.options.navigation.buttonOptions,options),onclick=btnOptions.onclick,menuItems=btnOptions.menuItems,symbolAttr={stroke:btnOptions.symbolStroke,fill:btnOptions.symbolFill},symbolSize=btnOptions.symbolSize||12;if(chart.btnCount||(chart.btnCount=0),chart.exportDivElements||(chart.exportDivElements=[],chart.exportSVGElements=[]),btnOptions.enabled!==!1){var callback,attr=btnOptions.theme,states=attr.states,hover=states&&states.hover,select=states&&states.select;delete attr.states,onclick?callback=function(){onclick.apply(chart,arguments)}:menuItems&&(callback=function(){chart.contextMenu(button.menuClassName,menuItems,button.translateX,button.translateY,button.width,button.height,button),button.setState(2)}),btnOptions.text&&btnOptions.symbol?attr.paddingLeft=Highcharts.pick(attr.paddingLeft,25):btnOptions.text||extend(attr,{width:btnOptions.width,height:btnOptions.height,padding:0}),button=renderer.button(btnOptions.text,0,0,callback,attr,hover,select).attr({title:chart.options.lang[btnOptions._titleKey],"stroke-linecap":"round"}),button.menuClassName=options.menuClassName||PREFIX+"menu-"+chart.btnCount++,btnOptions.symbol&&(symbol=renderer.symbol(btnOptions.symbol,btnOptions.symbolX-symbolSize/2,btnOptions.symbolY-symbolSize/2,symbolSize,symbolSize).attr(extend(symbolAttr,{"stroke-width":btnOptions.symbolStrokeWidth||1,zIndex:1})).add(button)),button.add().align(extend(btnOptions,{width:button.width,x:Highcharts.pick(btnOptions.x,buttonOffset)}),!0,"spacingBox"),buttonOffset+=(button.width+btnOptions.buttonSpacing)*("right"===btnOptions.align?-1:1),chart.exportSVGElements.push(button,symbol)}},destroyExport:function(e){var i,elem,chart=e.target;for(i=0;i<chart.exportSVGElements.length;i++)elem=chart.exportSVGElements[i],elem&&(elem.onclick=elem.ontouchstart=null,chart.exportSVGElements[i]=elem.destroy());for(i=0;i<chart.exportDivElements.length;i++)elem=chart.exportDivElements[i],removeEvent(elem,"mouseleave"),chart.exportDivElements[i]=elem.onmouseout=elem.onmouseover=elem.ontouchstart=elem.onclick=null,discardElement(elem)}}),symbols.menu=function(x,y,width,height){var arr=[M,x,y+2.5,L,x+width,y+2.5,M,x,y+height/2+.5,L,x+width,y+height/2+.5,M,x,y+height-1.5,L,x+width,y+height-1.5];return arr},Chart.prototype.callbacks.push(function(chart){var n,exportingOptions=chart.options.exporting,buttons=exportingOptions.buttons;if(buttonOffset=0,exportingOptions.enabled!==!1){for(n in buttons)chart.addButton(buttons[n]);addEvent(chart,"destroy",chart.destroyExport)}})}(Highcharts)},{}],23:[function(require,module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,u,o=gap,a=t[e];switch(a&&"object"==typeof a&&"function"==typeof a.toJSON&&(a=a.toJSON(e)),"function"==typeof rep&&(a=rep.call(t,e,a)),typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(gap+=indent,u=[],"[object Array]"===Object.prototype.toString.apply(a)){for(s=a.length,n=0;s>n;n+=1)u[n]=str(n,a)||"null";return i=0===u.length?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&"object"==typeof rep)for(s=rep.length,n=0;s>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=0===u.length?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={
"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,!t||"function"==typeof t||"object"==typeof t&&"number"==typeof t.length)return str("",{"":e});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),void 0!==r?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t){"use strict";var n=e.History=e.History||{};if("undefined"!=typeof n.Adapter)throw new Error("History.js Adapter has already been loaded...");n.Adapter={handlers:{},_uid:1,uid:function(e){return e._uid||(e._uid=n.Adapter._uid++)},bind:function(e,t,r){var i=n.Adapter.uid(e);n.Adapter.handlers[i]=n.Adapter.handlers[i]||{},n.Adapter.handlers[i][t]=n.Adapter.handlers[i][t]||[],n.Adapter.handlers[i][t].push(r),e["on"+t]=function(e,t){return function(r){n.Adapter.trigger(e,t,r)}}(e,t)},trigger:function(e,t,r){r=r||{};var s,o,i=n.Adapter.uid(e);for(n.Adapter.handlers[i]=n.Adapter.handlers[i]||{},n.Adapter.handlers[i][t]=n.Adapter.handlers[i][t]||[],s=0,o=n.Adapter.handlers[i][t].length;o>s;++s)n.Adapter.handlers[i][t][s].apply(this,[r])},extractEventData:function(e,n){var r=n&&n[e]||t;return r},onDomLoad:function(t){var n=e.setTimeout(function(){t()},2e3);e.onload=function(){clearTimeout(n),t()}}},"undefined"!=typeof n.init&&n.init()}(window),function(e,t){"use strict";var n=e.document,r=e.setTimeout||r,i=e.clearTimeout||i,s=e.setInterval||s,o=e.History=e.History||{};if("undefined"!=typeof o.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");o.initHtml4=function(){return"undefined"!=typeof o.initHtml4.initialized?!1:(o.initHtml4.initialized=!0,o.enabled=!0,o.savedHashes=[],o.isLastHash=function(e){var n,t=o.getHashByIndex();return n=e===t},o.isHashEqual=function(e,t){return e=encodeURIComponent(e).replace(/%25/g,"%"),t=encodeURIComponent(t).replace(/%25/g,"%"),e===t},o.saveHash=function(e){return o.isLastHash(e)?!1:(o.savedHashes.push(e),!0)},o.getHashByIndex=function(e){var t=null;return t="undefined"==typeof e?o.savedHashes[o.savedHashes.length-1]:0>e?o.savedHashes[o.savedHashes.length+e]:o.savedHashes[e]},o.discardedHashes={},o.discardedStates={},o.discardState=function(e,t,n){var i,r=o.getHashByState(e);return i={discardedState:e,backState:n,forwardState:t},o.discardedStates[r]=i,!0},o.discardHash=function(e,t,n){var r={discardedHash:e,backState:n,forwardState:t};return o.discardedHashes[e]=r,!0},o.discardedState=function(e){var n,t=o.getHashByState(e);return n=o.discardedStates[t]||!1},o.discardedHash=function(e){var t=o.discardedHashes[e]||!1;return t},o.recycleState=function(e){var t=o.getHashByState(e);return o.discardedState(e)&&delete o.discardedStates[t],!0},o.emulated.hashChange&&(o.hashChangeInit=function(){o.checkerFunction=null;var r,i,u,a,t="",f=Boolean(o.getHash());return o.isInternetExplorer()?(r="historyjs-iframe",i=n.createElement("iframe"),i.setAttribute("id",r),i.setAttribute("src","#"),i.style.display="none",n.body.appendChild(i),i.contentWindow.document.open(),i.contentWindow.document.close(),u="",a=!1,o.checkerFunction=function(){if(a)return!1;a=!0;var n=o.getHash(),r=o.getHash(i.contentWindow.document);return n!==t?(t=n,r!==n&&(u=r=n,i.contentWindow.document.open(),i.contentWindow.document.close(),i.contentWindow.document.location.hash=o.escapeHash(n)),o.Adapter.trigger(e,"hashchange")):r!==u&&(u=r,f&&""===r?o.back():o.setHash(r,!1)),a=!1,!0}):o.checkerFunction=function(){var n=o.getHash()||"";return n!==t&&(t=n,o.Adapter.trigger(e,"hashchange")),!0},o.intervalList.push(s(o.checkerFunction,o.options.hashChangeInterval)),!0},o.Adapter.onDomLoad(o.hashChangeInit)),o.emulated.pushState&&(o.onHashChange=function(t){var a,n=t&&t.newURL||o.getLocationHref(),r=o.getHashByUrl(n),i=null,s=null;return o.isLastHash(r)?(o.busy(!1),!1):(o.doubleCheckComplete(),o.saveHash(r),r&&o.isTraditionalAnchor(r)?(o.Adapter.trigger(e,"anchorchange"),o.busy(!1),!1):(i=o.extractState(o.getFullUrl(r||o.getLocationHref()),!0),o.isLastSavedState(i)?(o.busy(!1),!1):(s=o.getHashByState(i),a=o.discardedState(i),a?(o.getHashByIndex(-2)===o.getHashByState(a.forwardState)?o.back(!1):o.forward(!1),!1):(o.pushState(i.data,i.title,encodeURI(i.url),!1),!0))))},o.Adapter.bind(e,"hashchange",o.onHashChange),o.pushState=function(t,n,r,i){if(r=encodeURI(r).replace(/%25/g,"%"),o.getHashByUrl(r))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(i!==!1&&o.busy())return o.pushQueue({scope:o,callback:o.pushState,args:arguments,queue:i}),!1;o.busy(!0);var s=o.createStateObject(t,n,r),u=o.getHashByState(s),a=o.getState(!1),f=o.getHashByState(a),l=o.getHash(),c=o.expectedStateId==s.id;return o.storeState(s),o.expectedStateId=s.id,o.recycleState(s),o.setTitle(s),u===f?(o.busy(!1),!1):(o.saveState(s),c||o.Adapter.trigger(e,"statechange"),!o.isHashEqual(u,l)&&!o.isHashEqual(u,o.getShortUrl(o.getLocationHref()))&&o.setHash(u,!1),o.busy(!1),!0)},o.replaceState=function(t,n,r,i){if(r=encodeURI(r).replace(/%25/g,"%"),o.getHashByUrl(r))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(i!==!1&&o.busy())return o.pushQueue({scope:o,callback:o.replaceState,args:arguments,queue:i}),!1;o.busy(!0);var s=o.createStateObject(t,n,r),u=o.getHashByState(s),a=o.getState(!1),f=o.getHashByState(a),l=o.getStateByIndex(-2);return o.discardState(a,s,l),u===f?(o.storeState(s),o.expectedStateId=s.id,o.recycleState(s),o.setTitle(s),o.saveState(s),o.Adapter.trigger(e,"statechange"),o.busy(!1)):o.pushState(s.data,s.title,s.url,!1),!0}),o.emulated.pushState&&o.getHash()&&!o.emulated.hashChange&&o.Adapter.onDomLoad(function(){o.Adapter.trigger(e,"hashchange")}),void 0)},"undefined"!=typeof o.init&&o.init()}(window),function(e,t){"use strict";var n=e.console||t,r=e.document,i=e.navigator,s=e.sessionStorage||!1,o=e.setTimeout,u=e.clearTimeout,a=e.setInterval,f=e.clearInterval,l=e.JSON,c=e.alert,h=e.History=e.History||{},p=e.history;try{s.setItem("TEST","1"),s.removeItem("TEST")}catch(d){s=!1}if(l.stringify=l.stringify||l.encode,l.parse=l.parse||l.decode,"undefined"!=typeof h.init)throw new Error("History.js Core has already been loaded...");h.init=function(e){return"undefined"==typeof h.Adapter?!1:("undefined"!=typeof h.initCore&&h.initCore(),"undefined"!=typeof h.initHtml4&&h.initHtml4(),!0)},h.initCore=function(d){if("undefined"!=typeof h.initCore.initialized)return!1;if(h.initCore.initialized=!0,h.options=h.options||{},h.options.hashChangeInterval=h.options.hashChangeInterval||100,h.options.safariPollInterval=h.options.safariPollInterval||500,h.options.doubleCheckInterval=h.options.doubleCheckInterval||500,h.options.disableSuid=h.options.disableSuid||!1,h.options.storeInterval=h.options.storeInterval||1e3,h.options.busyDelay=h.options.busyDelay||250,h.options.debug=h.options.debug||!1,h.options.initialTitle=h.options.initialTitle||r.title,h.options.html4Mode=h.options.html4Mode||!1,h.options.delayInit=h.options.delayInit||!1,h.intervalList=[],h.clearAllIntervals=function(){var e,t=h.intervalList;if("undefined"!=typeof t&&null!==t){for(e=0;e<t.length;e++)f(t[e]);h.intervalList=null}},h.debug=function(){(h.options.debug||!1)&&h.log.apply(h,arguments)},h.log=function(){var i,s,o,u,a,e="undefined"!=typeof n&&"undefined"!=typeof n.log&&"undefined"!=typeof n.log.apply,t=r.getElementById("log");for(e?(u=Array.prototype.slice.call(arguments),i=u.shift(),"undefined"!=typeof n.debug?n.debug.apply(n,[i,u]):n.log.apply(n,[i,u])):i="\n"+arguments[0]+"\n",s=1,o=arguments.length;o>s;++s){if(a=arguments[s],"object"==typeof a&&"undefined"!=typeof l)try{a=l.stringify(a)}catch(f){}i+="\n"+a+"\n"}return t?(t.value+=i+"\n-----\n",t.scrollTop=t.scrollHeight-t.clientHeight):e||c(i),!0},h.getInternetExplorerMajorVersion=function(){var e=h.getInternetExplorerMajorVersion.cached="undefined"!=typeof h.getInternetExplorerMajorVersion.cached?h.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=r.createElement("div"),n=t.getElementsByTagName("i");(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&n[0];);return e>4?e:!1}();return e},h.isInternetExplorer=function(){var e=h.isInternetExplorer.cached="undefined"!=typeof h.isInternetExplorer.cached?h.isInternetExplorer.cached:Boolean(h.getInternetExplorerMajorVersion());return e},h.emulated=h.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(i.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(i.userAgent)),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in r)||h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<8)},h.enabled=!h.emulated.pushState,h.bugs={setHash:Boolean(!h.emulated.pushState&&"Apple Computer, Inc."===i.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),safariPoll:Boolean(!h.emulated.pushState&&"Apple Computer, Inc."===i.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),ieDoubleCheck:Boolean(h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<7)},h.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},h.cloneObject=function(e){var t,n;return e?(t=l.stringify(e),n=l.parse(t)):n={},n},h.getRootUrl=function(){var e=r.location.protocol+"//"+(r.location.hostname||r.location.host);return r.location.port&&(e+=":"+r.location.port),e+="/"},h.getBaseHref=function(){var e=r.getElementsByTagName("base"),t=null,n="";return 1===e.length&&(t=e[0],n=t.href.replace(/[^\/]+$/,"")),n=n.replace(/\/+$/,""),n&&(n+="/"),n},h.getBaseUrl=function(){var e=h.getBaseHref()||h.getBasePageUrl()||h.getRootUrl();return e},h.getPageUrl=function(){var n,e=h.getState(!1,!1),t=(e||{}).url||h.getLocationHref();return n=t.replace(/\/+$/,"").replace(/[^\/]+$/,function(e,t,n){return/\./.test(e)?e:e+"/"})},h.getBasePageUrl=function(){var e=h.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e,t,n){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/";return e},h.getFullUrl=function(e,t){var n=e,r=e.substring(0,1);return t="undefined"==typeof t?!0:t,/[a-z]+\:\/\//.test(e)||(n="/"===r?h.getRootUrl()+e.replace(/^\/+/,""):"#"===r?h.getPageUrl().replace(/#.*/,"")+e:"?"===r?h.getPageUrl().replace(/[\?#].*/,"")+e:t?h.getBaseUrl()+e.replace(/^(\.\/)+/,""):h.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),n.replace(/\#$/,"")},h.getShortUrl=function(e){var t=e,n=h.getBaseUrl(),r=h.getRootUrl();return h.emulated.pushState&&(t=t.replace(n,"")),t=t.replace(r,"/"),h.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},h.getLocationHref=function(e){return e=e||r,e.URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:-1==e.URL.indexOf("#")&&-1!=e.location.href.indexOf("#")?e.location.href:e.URL||e.location.href},h.store={},h.idToState=h.idToState||{},h.stateToId=h.stateToId||{},h.urlToId=h.urlToId||{},h.storedStates=h.storedStates||[],h.savedStates=h.savedStates||[],h.normalizeStore=function(){h.store.idToState=h.store.idToState||{},h.store.urlToId=h.store.urlToId||{},h.store.stateToId=h.store.stateToId||{}},h.getState=function(e,t){"undefined"==typeof e&&(e=!0),"undefined"==typeof t&&(t=!0);var n=h.getLastSavedState();return!n&&t&&(n=h.createStateObject()),e&&(n=h.cloneObject(n),n.url=n.cleanUrl||n.url),n},h.getIdByState=function(e){var n,t=h.extractId(e.url);if(!t)if(n=h.getStateString(e),"undefined"!=typeof h.stateToId[n])t=h.stateToId[n];else if("undefined"!=typeof h.store.stateToId[n])t=h.store.stateToId[n];else{for(;t=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!=typeof h.idToState[t]||"undefined"!=typeof h.store.idToState[t];);h.stateToId[n]=t,h.idToState[t]=e}return t},h.normalizeState=function(e){var t,n;return e&&"object"==typeof e||(e={}),"undefined"!=typeof e.normalized?e:(e.data&&"object"==typeof e.data||(e.data={}),t={},t.normalized=!0,t.title=e.title||"",t.url=h.getFullUrl(e.url?e.url:h.getLocationHref()),t.hash=h.getShortUrl(t.url),t.data=h.cloneObject(e.data),t.id=h.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,n=!h.isEmptyObject(t.data),(t.title||n)&&h.options.disableSuid!==!0&&(t.hash=h.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=h.getFullUrl(t.hash),(h.emulated.pushState||h.bugs.safariPoll)&&h.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},h.createStateObject=function(e,t,n){var r={data:e,title:t,url:n};return r=h.normalizeState(r)},h.getStateById=function(e){e=String(e);var n=h.idToState[e]||h.store.idToState[e]||t;return n},h.getStateString=function(e){var t,n,r;return t=h.normalizeState(e),n={data:t.data,title:e.title,url:e.url},r=l.stringify(n)},h.getStateId=function(e){var t,n;return t=h.normalizeState(e),n=t.id},h.getHashByState=function(e){var t,n;return t=h.normalizeState(e),n=t.hash},h.extractId=function(e){var t,n,r,i;return i=-1!=e.indexOf("#")?e.split("#")[0]:e,n=/(.*)\&_suid=([0-9]+)$/.exec(i),r=n?n[1]||e:e,t=n?String(n[2]||""):"",t||!1},h.isTraditionalAnchor=function(e){var t=!/[\/\?\.]/.test(e);return t},h.extractState=function(e,t){var r,i,n=null;return t=t||!1,r=h.extractId(e),r&&(n=h.getStateById(r)),n||(i=h.getFullUrl(e),r=h.getIdByUrl(i)||!1,r&&(n=h.getStateById(r)),!n&&t&&!h.isTraditionalAnchor(e)&&(n=h.createStateObject(null,null,i))),n},h.getIdByUrl=function(e){var n=h.urlToId[e]||h.store.urlToId[e]||t;return n},h.getLastSavedState=function(){return h.savedStates[h.savedStates.length-1]||t},h.getLastStoredState=function(){return h.storedStates[h.storedStates.length-1]||t},h.hasUrlDuplicate=function(e){var n,t=!1;return n=h.extractState(e.url),t=n&&n.id!==e.id},h.storeState=function(e){return h.urlToId[e.url]=e.id,h.storedStates.push(h.cloneObject(e)),e},h.isLastSavedState=function(e){var n,r,i,t=!1;return h.savedStates.length&&(n=e.id,r=h.getLastSavedState(),i=r.id,t=n===i),t},h.saveState=function(e){return h.isLastSavedState(e)?!1:(h.savedStates.push(h.cloneObject(e)),!0)},h.getStateByIndex=function(e){var t=null;return t="undefined"==typeof e?h.savedStates[h.savedStates.length-1]:0>e?h.savedStates[h.savedStates.length+e]:h.savedStates[e]},h.getCurrentIndex=function(){var e=null;return e=h.savedStates.length<1?0:h.savedStates.length-1},h.getHash=function(e){var n,t=h.getLocationHref(e);return n=h.getHashByUrl(t)},h.unescapeHash=function(e){var t=h.normalizeHash(e);return t=decodeURIComponent(t)},h.normalizeHash=function(e){var t=e.replace(/[^#]*#/,"").replace(/#.*/,"");return t},h.setHash=function(e,t){var n,i;return t!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.setHash,args:arguments,queue:t}),!1):(h.busy(!0),n=h.extractState(e,!0),n&&!h.emulated.pushState?h.pushState(n.data,n.title,n.url,!1):h.getHash()!==e&&(h.bugs.setHash?(i=h.getPageUrl(),h.pushState(null,null,i+"#"+e,!1)):r.location.hash=e),h)},h.escapeHash=function(t){var n=h.normalizeHash(t);return n=e.encodeURIComponent(n),h.bugs.hashEscape||(n=n.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),n},h.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=h.unescapeHash(t)},h.setTitle=function(e){var n,t=e.title;t||(n=h.getStateByIndex(0),n&&n.url===e.url&&(t=n.title||h.options.initialTitle));try{r.getElementsByTagName("title")[0].innerHTML=t.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(i){}return r.title=t,h},h.queues=[],h.busy=function(e){if("undefined"!=typeof e?h.busy.flag=e:"undefined"==typeof h.busy.flag&&(h.busy.flag=!1),!h.busy.flag){u(h.busy.timeout);var t=function(){var e,n,r;if(!h.busy.flag)for(e=h.queues.length-1;e>=0;--e)n=h.queues[e],0!==n.length&&(r=n.shift(),h.fireQueueItem(r),h.busy.timeout=o(t,h.options.busyDelay))};h.busy.timeout=o(t,h.options.busyDelay)}return h.busy.flag},h.busy.flag=!1,h.fireQueueItem=function(e){return e.callback.apply(e.scope||h,e.args||[])},h.pushQueue=function(e){return h.queues[e.queue||0]=h.queues[e.queue||0]||[],h.queues[e.queue||0].push(e),h},h.queue=function(e,t){return"function"==typeof e&&(e={callback:e}),"undefined"!=typeof t&&(e.queue=t),h.busy()?h.pushQueue(e):h.fireQueueItem(e),h},h.clearQueue=function(){return h.busy.flag=!1,h.queues=[],h},h.stateChanged=!1,h.doubleChecker=!1,h.doubleCheckComplete=function(){return h.stateChanged=!0,h.doubleCheckClear(),h},h.doubleCheckClear=function(){return h.doubleChecker&&(u(h.doubleChecker),h.doubleChecker=!1),h},h.doubleCheck=function(e){return h.stateChanged=!1,h.doubleCheckClear(),h.bugs.ieDoubleCheck&&(h.doubleChecker=o(function(){return h.doubleCheckClear(),h.stateChanged||e(),!0},h.options.doubleCheckInterval)),h},h.safariStatePoll=function(){var n,t=h.extractState(h.getLocationHref());return h.isLastSavedState(t)?void 0:(n=t,n||(n=h.createStateObject()),h.Adapter.trigger(e,"popstate"),h)},h.back=function(e){return e!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.back,args:arguments,queue:e}),!1):(h.busy(!0),h.doubleCheck(function(){h.back(!1)}),p.go(-1),!0)},h.forward=function(e){return e!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.forward,args:arguments,queue:e}),!1):(h.busy(!0),h.doubleCheck(function(){h.forward(!1)}),p.go(1),!0)},h.go=function(e,t){var n;if(e>0)for(n=1;e>=n;++n)h.forward(t);else{if(!(0>e))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(n=-1;n>=e;--n)h.back(t)}return h},h.emulated.pushState){var v=function(){};h.pushState=h.pushState||v,h.replaceState=h.replaceState||v}else h.onPopState=function(t,n){var s,o,r=!1,i=!1;return h.doubleCheckComplete(),s=h.getHash(),s?(o=h.extractState(s||h.getLocationHref(),!0),o?h.replaceState(o.data,o.title,o.url,!1):(h.Adapter.trigger(e,"anchorchange"),h.busy(!1)),h.expectedStateId=!1,!1):(r=h.Adapter.extractEventData("state",t,n)||!1,i=r?h.getStateById(r):h.expectedStateId?h.getStateById(h.expectedStateId):h.extractState(h.getLocationHref()),i||(i=h.createStateObject(null,null,h.getLocationHref())),h.expectedStateId=!1,h.isLastSavedState(i)?(h.busy(!1),!1):(h.storeState(i),h.saveState(i),h.setTitle(i),h.Adapter.trigger(e,"statechange"),h.busy(!1),!0))},h.Adapter.bind(e,"popstate",h.onPopState),h.pushState=function(t,n,r,i){if(h.getHashByUrl(r)&&h.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(i!==!1&&h.busy())return h.pushQueue({scope:h,callback:h.pushState,args:arguments,queue:i}),!1;h.busy(!0);var s=h.createStateObject(t,n,r);return h.isLastSavedState(s)?h.busy(!1):(h.storeState(s),h.expectedStateId=s.id,p.pushState(s.id,s.title,s.url),h.Adapter.trigger(e,"popstate")),!0},h.replaceState=function(t,n,r,i){if(h.getHashByUrl(r)&&h.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(i!==!1&&h.busy())return h.pushQueue({scope:h,callback:h.replaceState,args:arguments,queue:i}),!1;h.busy(!0);var s=h.createStateObject(t,n,r);return h.isLastSavedState(s)?h.busy(!1):(h.storeState(s),h.expectedStateId=s.id,p.replaceState(s.id,s.title,s.url),h.Adapter.trigger(e,"popstate")),!0};if(s){try{h.store=l.parse(s.getItem("History.store"))||{}}catch(m){h.store={}}h.normalizeStore()}else h.store={},h.normalizeStore();h.Adapter.bind(e,"unload",h.clearAllIntervals),h.saveState(h.storeState(h.extractState(h.getLocationHref(),!0))),s&&(h.onUnload=function(){var e,t,n;try{e=l.parse(s.getItem("History.store"))||{}}catch(r){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(t in h.idToState)h.idToState.hasOwnProperty(t)&&(e.idToState[t]=h.idToState[t]);for(t in h.urlToId)h.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=h.urlToId[t]);for(t in h.stateToId)h.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=h.stateToId[t]);h.store=e,h.normalizeStore(),n=l.stringify(e);try{s.setItem("History.store",n)}catch(i){if(i.code!==DOMException.QUOTA_EXCEEDED_ERR)throw i;s.length&&(s.removeItem("History.store"),s.setItem("History.store",n))}},h.intervalList.push(a(h.onUnload,h.options.storeInterval)),h.Adapter.bind(e,"beforeunload",h.onUnload),h.Adapter.bind(e,"unload",h.onUnload)),h.emulated.pushState||(h.bugs.safariPoll&&h.intervalList.push(a(h.safariStatePoll,h.options.safariPollInterval)),("Apple Computer, Inc."===i.vendor||"Mozilla"===(i.appCodeName||""))&&(h.Adapter.bind(e,"hashchange",function(){h.Adapter.trigger(e,"popstate")}),h.getHash()&&h.Adapter.onDomLoad(function(){h.Adapter.trigger(e,"hashchange")})))},(!h.options||!h.options.delayInit)&&h.init()}(window)},{}]},{},[1]);